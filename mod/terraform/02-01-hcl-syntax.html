<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sintaxi HCL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/02-01-hcl-syntax" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/02-01-hcl-syntax" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/02-01-hcl-syntax" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/terraform/02-01-hcl-syntax" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/terraform/02-01-hcl-syntax" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-first-terraform-configuration' title="Primera configuració de Terraform">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Sintaxi HCL</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-variables-and-outputs' title="Variables i sortides">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció</p>
</h1>
<div class='content'><p>El llenguatge de configuració de HashiCorp (HCL) és un llenguatge de domini específic utilitzat per definir la infraestructura com a codi en Terraform. HCL és dissenyat per ser fàcilment llegible per humans i, al mateix temps, poder ser processat per màquines. En aquest tema, explorarem la sintaxi bàsica de HCL, incloent-hi blocs, atributs, tipus de dades i expressions.</p>
</div><h1><p>Conceptes Clau</p>
</h1>
<div class='content'></div><h2><p>Blocs</p>
</h2>
<div class='content'><p>Els blocs són les unitats fonamentals de la configuració en HCL. Cada bloc comença amb un tipus de bloc seguit d'un nom opcional i un conjunt d'atributs entre claus <code>{}</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}</pre></div><div class='content'></div><h2><p>Atributs</p>
</h2>
<div class='content'><p>Els atributs són parelles clau-valor dins d'un bloc. Cada atribut defineix una propietat del bloc.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}</pre></div><div class='content'></div><h2><p>Tipus de Dades</p>
</h2>
<div class='content'><p>HCL suporta diversos tipus de dades, incloent-hi cadenes, nombres, booleans, llistes, mapes i objectes.</p>
<ul>
<li>
<p><strong>Cadenes</strong>: Es defineixen entre cometes dobles <code>&quot;</code>.</p>
<pre><code class="language-hcl">name = &quot;example&quot;
</code></pre>
</li>
<li>
<p><strong>Nombres</strong>: Es defineixen sense cometes.</p>
<pre><code class="language-hcl">count = 3
</code></pre>
</li>
<li>
<p><strong>Booleans</strong>: Es defineixen com <code>true</code> o <code>false</code>.</p>
<pre><code class="language-hcl">enabled = true
</code></pre>
</li>
<li>
<p><strong>Llistes</strong>: Es defineixen entre claudàtors <code>[]</code>.</p>
<pre><code class="language-hcl">tags = [&quot;web&quot;, &quot;dev&quot;]
</code></pre>
</li>
<li>
<p><strong>Mapes</strong>: Es defineixen entre claus <code>{}</code> amb parelles clau-valor.</p>
<pre><code class="language-hcl">metadata = {
  owner = &quot;admin&quot;
  environment = &quot;production&quot;
}
</code></pre>
</li>
</ul>
</div><h2><p>Expressions</p>
</h2>
<div class='content'><p>Les expressions en HCL permeten realitzar operacions i referències dins de la configuració.</p>
<ul>
<li>
<p><strong>Interpolació de cadenes</strong>: Utilitza <code>${}</code> per inserir valors dins de cadenes.</p>
<pre><code class="language-hcl">description = &quot;Instance ID: ${aws_instance.example.id}&quot;
</code></pre>
</li>
<li>
<p><strong>Operadors</strong>: HCL suporta operadors aritmètics (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>), lògics (<code>&amp;&amp;</code>, <code>||</code>, <code>!</code>) i de comparació (<code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>).</p>
<pre><code class="language-hcl">count = var.instance_count &gt; 5 ? 5 : var.instance_count
</code></pre>
</li>
</ul>
</div><h1><p>Exemples Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exemple 1: Definició d'un recurs AWS S3 Bucket</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgYnVja2V0ID0gIm15LXVuaXF1ZS1idWNrZXQtbmFtZSIKICBhY2wgICAgPSAicHJpdmF0ZSIKCiAgdGFncyA9IHsKICAgIE5hbWUgICAgICAgID0gIk15IGJ1Y2tldCIKICAgIEVudmlyb25tZW50ID0gIkRldiIKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  bucket = &quot;my-unique-bucket-name&quot;
  acl    = &quot;private&quot;

  tags = {
    Name        = &quot;My bucket&quot;
    Environment = &quot;Dev&quot;
  }
}</pre></div><div class='content'></div><h2><p>Exemple 2: Utilització de Variables i Sortides</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgInJlZ2lvbiIgewogIGRlc2NyaXB0aW9uID0gIlRoZSBBV1MgcmVnaW9uIHRvIGRlcGxveSBpbiIKICB0eXBlICAgICAgICA9IHN0cmluZwogIGRlZmF1bHQgICAgID0gInVzLXdlc3QtMiIKfQoKb3V0cHV0ICJidWNrZXRfYXJuIiB7CiAgdmFsdWUgPSBhd3NfczNfYnVja2V0LmV4YW1wbGUuYXJuCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;region&quot; {
  description = &quot;The AWS region to deploy in&quot;
  type        = string
  default     = &quot;us-west-2&quot;
}

output &quot;bucket_arn&quot; {
  value = aws_s3_bucket.example.arn
}</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear un recurs AWS EC2</p>
</h2>
<div class='content'><ol>
<li>
<p>Defineix un recurs <code>aws_instance</code> amb els següents atributs:</p>
<ul>
<li><code>ami</code>: Utilitza l'AMI <code>ami-0c55b159cbfafe1f0</code>.</li>
<li><code>instance_type</code>: Utilitza <code>t2.micro</code>.</li>
</ul>
</li>
<li>
<p>Afegeix una etiqueta (<code>tag</code>) amb el nom <code>Name</code> i el valor <code>MyInstance</code>.</p>
</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgoKICB0YWdzID0gewogICAgTmFtZSA9ICJNeUluc3RhbmNlIgogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;MyInstance&quot;
  }
}</pre></div><div class='content'></div><h2><p>Exercici 2: Definir una variable i una sortida</p>
</h2>
<div class='content'><ol>
<li>Defineix una variable <code>instance_count</code> amb un valor per defecte de <code>2</code>.</li>
<li>Defineix una sortida <code>instance_id</code> que mostri l'ID de la instància EC2 creada.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgImluc3RhbmNlX2NvdW50IiB7CiAgZGVzY3JpcHRpb24gPSAiTnVtYmVyIG9mIGluc3RhbmNlcyB0byBjcmVhdGUiCiAgdHlwZSAgICAgICAgPSBudW1iZXIKICBkZWZhdWx0ICAgICA9IDIKfQoKcmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgogIGNvdW50ICAgICAgICAgPSB2YXIuaW5zdGFuY2VfY291bnQKCiAgdGFncyA9IHsKICAgIE5hbWUgPSAiTXlJbnN0YW5jZSIKICB9Cn0KCm91dHB1dCAiaW5zdGFuY2VfaWQiIHsKICB2YWx1ZSA9IGF3c19pbnN0YW5jZS5leGFtcGxlLiouaWQKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;instance_count&quot; {
  description = &quot;Number of instances to create&quot;
  type        = number
  default     = 2
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
  count         = var.instance_count

  tags = {
    Name = &quot;MyInstance&quot;
  }
}

output &quot;instance_id&quot; {
  value = aws_instance.example.*.id
}</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après els conceptes bàsics de la sintaxi HCL, incloent-hi blocs, atributs, tipus de dades i expressions. També hem vist exemples pràctics i hem realitzat exercicis per reforçar els conceptes apresos. Amb aquests coneixements, estàs preparat per avançar en la configuració de la teva infraestructura amb Terraform.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-first-terraform-configuration' title="Primera configuració de Terraform">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-variables-and-outputs' title="Variables i sortides">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
