<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Importació de Terraform</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/06-04-terraform-import" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/06-04-terraform-import" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/06-04-terraform-import" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/terraform/06-04-terraform-import" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/terraform/06-04-terraform-import" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-dynamic-blocks' title="Blocs dinàmics">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Importació de Terraform</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-code-organization' title="Organització del codi">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció</p>
</h1>
<div class='content'><p>L'importació de Terraform és una funcionalitat avançada que permet importar recursos existents a la configuració de Terraform. Això és útil quan es vol gestionar recursos que ja han estat creats fora de Terraform, permetent així una gestió unificada i coherent de la infraestructura.</p>
</div><h1><p>Conceptes Clau</p>
</h1>
<div class='content'><ul>
<li><strong>Importació de Recursos</strong>: El procés d'incorporar recursos existents a la configuració de Terraform.</li>
<li><strong>ID del Recurs</strong>: Identificador únic del recurs que es vol importar.</li>
<li><strong>Bloc de Recursos</strong>: Definició del recurs dins del fitxer de configuració de Terraform.</li>
</ul>
</div><h1><p>Passos per Importar Recursos</p>
</h1>
<div class='content'></div><h2><ol>
<li>Identificar el Recurs</li>
</ol>
</h2>
<div class='content'><p>Abans de poder importar un recurs, cal identificar-lo correctament. Això inclou obtenir l'ID del recurs que es vol importar. Per exemple, si es vol importar una instància d'EC2 d'AWS, caldrà l'ID de la instància.</p>
</div><h2><ol start="2">
<li>Crear el Bloc de Recursos</li>
</ol>
</h2>
<div class='content'><p>Crear un bloc de recursos en el fitxer de configuració de Terraform que coincideixi amb el recurs que es vol importar. Aquest bloc ha de contenir el tipus de recurs i el nom del recurs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICAjIEVscyBhdHJpYnV0cyBlcyBjb21wbGV0YXJhbiBkZXNwcsOpcyBkZSBsYSBpbXBvcnRhY2nDswp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  # Els atributs es completaran despr&eacute;s de la importaci&oacute;
}</pre></div><div class='content'></div><h2><ol start="3">
<li>Executar la Comanda d'Importació</li>
</ol>
</h2>
<div class='content'><p>Utilitzar la comanda <code>terraform import</code> per importar el recurs. La sintaxi general és:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGltcG9ydCBbb3B0aW9uc10gQUREUkVTUyBJRA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform import [options] ADDRESS ID</pre></div><div class='content'><ul>
<li><strong>ADDRESS</strong>: L'adreça del recurs en la configuració de Terraform (per exemple, <code>aws_instance.example</code>).</li>
<li><strong>ID</strong>: L'ID del recurs que es vol importar.</li>
</ul>
<p>Exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGltcG9ydCBhd3NfaW5zdGFuY2UuZXhhbXBsZSBpLTEyMzQ1Njc4OTBhYmNkZWYw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform import aws_instance.example i-1234567890abcdef0</pre></div><div class='content'></div><h2><ol start="4">
<li>Actualitzar la Configuració</li>
</ol>
</h2>
<div class='content'><p>Després de la importació, Terraform haurà afegit el recurs al fitxer d'estat, però el bloc de recursos en el fitxer de configuració encara estarà incomplet. Caldrà actualitzar el bloc de recursos amb els atributs necessaris.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgogICMgQWx0cmVzIGF0cmlidXRzIG5lY2Vzc2FyaXMKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
  # Altres atributs necessaris
}</pre></div><div class='content'></div><h1><p>Exemple Pràctic</p>
</h1>
<div class='content'></div><h2><p>Importació d'una Instància d'EC2 d'AWS</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Identificar el Recurs</strong>: Suposem que tenim una instància d'EC2 amb l'ID <code>i-1234567890abcdef0</code>.</p>
</li>
<li>
<p><strong>Crear el Bloc de Recursos</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICAjIEVscyBhdHJpYnV0cyBlcyBjb21wbGV0YXJhbiBkZXNwcsOpcyBkZSBsYSBpbXBvcnRhY2nDswp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  # Els atributs es completaran despr&eacute;s de la importaci&oacute;
}</pre></div><div class='content'><ol start="3">
<li><strong>Executar la Comanda d'Importació</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGltcG9ydCBhd3NfaW5zdGFuY2UuZXhhbXBsZSBpLTEyMzQ1Njc4OTBhYmNkZWYw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform import aws_instance.example i-1234567890abcdef0</pre></div><div class='content'><ol start="4">
<li><strong>Actualitzar la Configuració</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgogIGtleV9uYW1lICAgICAgPSAibXkta2V5IgogIHN1Ym5ldF9pZCAgICAgPSAic3VibmV0LTBiYjFjNzlkZTNFWEFNUExFIgogIHRhZ3MgPSB7CiAgICBOYW1lID0gIkV4YW1wbGVJbnN0YW5jZSIKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
  key_name      = &quot;my-key&quot;
  subnet_id     = &quot;subnet-0bb1c79de3EXAMPLE&quot;
  tags = {
    Name = &quot;ExampleInstance&quot;
  }
}</pre></div><div class='content'></div><h1><p>Errors Comuns i Solucions</p>
</h1>
<div class='content'></div><h2><p>Error: &quot;Resource not found&quot;</p>
</h2>
<div class='content'><ul>
<li><strong>Causa</strong>: L'ID del recurs és incorrecte o el recurs no existeix.</li>
<li><strong>Solució</strong>: Verificar l'ID del recurs i assegurar-se que el recurs existeix.</li>
</ul>
</div><h2><p>Error: &quot;Resource already managed by Terraform&quot;</p>
</h2>
<div class='content'><ul>
<li><strong>Causa</strong>: El recurs ja està gestionat per Terraform.</li>
<li><strong>Solució</strong>: Verificar l'estat de Terraform per assegurar-se que el recurs no està duplicat.</li>
</ul>
</div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Exercici: Importar un Bucket de S3</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Identificar el Recurs</strong>: Suposem que tenim un bucket de S3 amb el nom <code>my-example-bucket</code>.</p>
</li>
<li>
<p><strong>Crear el Bloc de Recursos</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgIyBFbHMgYXRyaWJ1dHMgZXMgY29tcGxldGFyYW4gZGVzcHLDqXMgZGUgbGEgaW1wb3J0YWNpw7MKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  # Els atributs es completaran despr&eacute;s de la importaci&oacute;
}</pre></div><div class='content'><ol start="3">
<li><strong>Executar la Comanda d'Importació</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGltcG9ydCBhd3NfczNfYnVja2V0LmV4YW1wbGUgbXktZXhhbXBsZS1idWNrZXQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform import aws_s3_bucket.example my-example-bucket</pre></div><div class='content'><ol start="4">
<li><strong>Actualitzar la Configuració</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgYnVja2V0ID0gIm15LWV4YW1wbGUtYnVja2V0IgogIGFjbCAgICA9ICJwcml2YXRlIgogIHRhZ3MgPSB7CiAgICBOYW1lICAgICAgICA9ICJNeUV4YW1wbGVCdWNrZXQiCiAgICBFbnZpcm9ubWVudCA9ICJEZXYiCiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  bucket = &quot;my-example-bucket&quot;
  acl    = &quot;private&quot;
  tags = {
    Name        = &quot;MyExampleBucket&quot;
    Environment = &quot;Dev&quot;
  }
}</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>L'importació de Terraform és una eina poderosa per gestionar recursos existents amb Terraform. Seguint els passos adequats, es pot integrar fàcilment la infraestructura existent en la configuració de Terraform, permetent una gestió més eficient i coherent.</p>
<hr />
<p>Amb això, hem cobert la funcionalitat d'importació de Terraform. En el següent tema, explorarem les millors pràctiques per organitzar el codi de Terraform.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-dynamic-blocks' title="Blocs dinàmics">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-code-organization' title="Organització del codi">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
