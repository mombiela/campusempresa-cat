<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blocs de recursos i dades</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/02-03-resource-and-data-blocks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/02-03-resource-and-data-blocks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/02-03-resource-and-data-blocks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/terraform/02-03-resource-and-data-blocks" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/terraform/02-03-resource-and-data-blocks" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-variables-and-outputs' title="Variables i sortides">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Blocs de recursos i dades</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-providers' title="Proveïdors">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem sobre els blocs de recursos i dades en Terraform, que són elements fonamentals per definir la infraestructura com a codi. Aquests blocs ens permeten especificar els recursos que volem crear i obtenir informació sobre els recursos existents.</p>
</div><h1><ol>
<li>Blocs de Recursos</li>
</ol>
</h1>
<div class='content'><p>Els blocs de recursos són la peça clau en Terraform per definir els components de la infraestructura que volem crear, modificar o eliminar. Cada bloc de recursos especifica un tipus de recurs, com ara una instància de màquina virtual, una xarxa, una base de dades, etc.</p>
</div><h2><p>Estructura d'un Bloc de Recursos</p>
</h2>
<div class='content'><p>Un bloc de recursos té la següent estructura bàsica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgIjxUSVBVU19ERV9SRUNVUlM+IiAiPE5PTV9ERUxfUkVDVVJTPiIgewogICMgQXJndW1lbnRzIGRlbCByZWN1cnMKICBhcmd1bWVudDEgPSAidmFsb3IxIgogIGFyZ3VtZW50MiA9ICJ2YWxvcjIiCiAgLi4uCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;&lt;TIPUS_DE_RECURS&gt;&quot; &quot;&lt;NOM_DEL_RECURS&gt;&quot; {
  # Arguments del recurs
  argument1 = &quot;valor1&quot;
  argument2 = &quot;valor2&quot;
  ...
}</pre></div><div class='content'></div><h2><p>Exemple Pràctic</p>
</h2>
<div class='content'><p>A continuació, es mostra un exemple d'un bloc de recursos que crea una instància d'Amazon EC2:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgoKICB0YWdzID0gewogICAgTmFtZSA9ICJFeGFtcGxlSW5zdGFuY2UiCiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;ExampleInstance&quot;
  }
}</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ul>
<li><code>resource &quot;aws_instance&quot; &quot;example&quot;</code>: Defineix un recurs del tipus <code>aws_instance</code> amb el nom <code>example</code>.</li>
<li><code>ami</code>: Especifica l'ID de la imatge d'Amazon Machine Image (AMI) que s'utilitzarà per crear la instància.</li>
<li><code>instance_type</code>: Defineix el tipus de la instància (en aquest cas, <code>t2.micro</code>).</li>
<li><code>tags</code>: Afegeix etiquetes a la instància per facilitar-ne la identificació.</li>
</ul>
</div><h1><ol start="2">
<li>Blocs de Dades</li>
</ol>
</h1>
<div class='content'><p>Els blocs de dades s'utilitzen per obtenir informació sobre recursos existents que no volem gestionar directament amb Terraform. Aquests blocs són útils per obtenir dades que es poden utilitzar en altres parts de la configuració.</p>
</div><h2><p>Estructura d'un Bloc de Dades</p>
</h2>
<div class='content'><p>Un bloc de dades té la següent estructura bàsica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSAiPFRJUFVTX0RFX0RBREE+IiAiPE5PTV9ERV9MQV9EQURBPiIgewogICMgQXJndW1lbnRzIGRlIGxhIGRhZGEKICBhcmd1bWVudDEgPSAidmFsb3IxIgogIGFyZ3VtZW50MiA9ICJ2YWxvcjIiCiAgLi4uCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &quot;&lt;TIPUS_DE_DADA&gt;&quot; &quot;&lt;NOM_DE_LA_DADA&gt;&quot; {
  # Arguments de la dada
  argument1 = &quot;valor1&quot;
  argument2 = &quot;valor2&quot;
  ...
}</pre></div><div class='content'></div><h2><p>Exemple Pràctic</p>
</h2>
<div class='content'><p>A continuació, es mostra un exemple d'un bloc de dades que obté informació sobre una AMI d'Amazon EC2:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSAiYXdzX2FtaSIgImV4YW1wbGUiIHsKICBtb3N0X3JlY2VudCA9IHRydWUKCiAgZmlsdGVyIHsKICAgIG5hbWUgICA9ICJuYW1lIgogICAgdmFsdWVzID0gWyJhbXpuMi1hbWktaHZtLSoteDg2XzY0LWdwMiJdCiAgfQoKICBvd25lcnMgPSBbIjEzNzExMjQxMjk4OSJdCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &quot;aws_ami&quot; &quot;example&quot; {
  most_recent = true

  filter {
    name   = &quot;name&quot;
    values = [&quot;amzn2-ami-hvm-*-x86_64-gp2&quot;]
  }

  owners = [&quot;137112412989&quot;]
}</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ul>
<li><code>data &quot;aws_ami&quot; &quot;example&quot;</code>: Defineix un bloc de dades del tipus <code>aws_ami</code> amb el nom <code>example</code>.</li>
<li><code>most_recent</code>: Indica que volem obtenir la AMI més recent que compleixi els criteris especificats.</li>
<li><code>filter</code>: Defineix un filtre per buscar AMIs amb un nom que coincideixi amb el patró <code>amzn2-ami-hvm-*-x86_64-gp2</code>.</li>
<li><code>owners</code>: Especifica l'ID del propietari de la AMI (en aquest cas, Amazon).</li>
</ul>
</div><h1><ol start="3">
<li>Exercicis Pràctics</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear un Bloc de Recursos</p>
</h2>
<div class='content'><p>Crea un bloc de recursos per desplegar una instància d'Amazon EC2 amb les següents especificacions:</p>
<ul>
<li>AMI: <code>ami-0c55b159cbfafe1f0</code></li>
<li>Tipus d'instància: <code>t2.micro</code></li>
<li>Etiqueta: <code>Name = &quot;MyInstance&quot;</code></li>
</ul>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgIm15X2luc3RhbmNlIiB7CiAgYW1pICAgICAgICAgICA9ICJhbWktMGM1NWIxNTljYmZhZmUxZjAiCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKCiAgdGFncyA9IHsKICAgIE5hbWUgPSAiTXlJbnN0YW5jZSIKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;my_instance&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;MyInstance&quot;
  }
}</pre></div><div class='content'></div><h2><p>Exercici 2: Crear un Bloc de Dades</p>
</h2>
<div class='content'><p>Crea un bloc de dades per obtenir informació sobre una AMI d'Amazon EC2 amb les següents especificacions:</p>
<ul>
<li>Nom de la AMI: <code>amzn2-ami-hvm-*-x86_64-gp2</code></li>
<li>Propietari: <code>137112412989</code></li>
<li>Obtenir la AMI més recent</li>
</ul>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSAiYXdzX2FtaSIgIm15X2FtaSIgewogIG1vc3RfcmVjZW50ID0gdHJ1ZQoKICBmaWx0ZXIgewogICAgbmFtZSAgID0gIm5hbWUiCiAgICB2YWx1ZXMgPSBbImFtem4yLWFtaS1odm0tKi14ODZfNjQtZ3AyIl0KICB9CgogIG93bmVycyA9IFsiMTM3MTEyNDEyOTg5Il0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &quot;aws_ami&quot; &quot;my_ami&quot; {
  most_recent = true

  filter {
    name   = &quot;name&quot;
    values = [&quot;amzn2-ami-hvm-*-x86_64-gp2&quot;]
  }

  owners = [&quot;137112412989&quot;]
}</pre></div><div class='content'></div><h1><ol start="4">
<li>Errors Comuns i Consells</li>
</ol>
</h1>
<div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li><strong>Error de Tipus de Recurs</strong>: Assegura't d'utilitzar el tipus de recurs correcte. Per exemple, <code>aws_instance</code> per a instàncies EC2.</li>
<li><strong>Arguments Incorrectes</strong>: Verifica que els arguments dins dels blocs de recursos i dades siguin correctes i estiguin ben escrits.</li>
</ul>
</div><h2><p>Consells</p>
</h2>
<div class='content'><ul>
<li><strong>Utilitza Etiquetes</strong>: Afegeix etiquetes als teus recursos per facilitar-ne la gestió i identificació.</li>
<li><strong>Consulta la Documentació</strong>: Revisa la documentació oficial de Terraform per obtenir informació detallada sobre els tipus de recursos i dades disponibles.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem après sobre els blocs de recursos i dades en Terraform, incloent la seva estructura, exemples pràctics i exercicis per reforçar els conceptes. Ara estem preparats per avançar al següent tema, on explorarem els proveïdors en Terraform.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-variables-and-outputs' title="Variables i sortides">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-providers' title="Proveïdors">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
