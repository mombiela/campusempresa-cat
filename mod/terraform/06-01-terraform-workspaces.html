<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Espais de treball de Terraform</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/06-01-terraform-workspaces" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/06-01-terraform-workspaces" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/06-01-terraform-workspaces" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/terraform/06-01-terraform-workspaces" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/terraform/06-01-terraform-workspaces" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-provisioning-gcp-resources' title="Proveïment de recursos GCP">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Espais de treball de Terraform</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-terraform-functions' title="Funcions de Terraform">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Els espais de treball de Terraform són una funcionalitat avançada que permet gestionar múltiples entorns dins d'una mateixa configuració de Terraform. Això és especialment útil per separar entorns de desenvolupament, proves i producció sense haver de duplicar el codi de configuració.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Espai de treball</strong>: Un espai de treball és una instància de l'estat de Terraform. Cada espai de treball té el seu propi fitxer d'estat.</li>
<li><strong>Espai de treball per defecte</strong>: Quan es crea una nova configuració de Terraform, es crea automàticament un espai de treball anomenat <code>default</code>.</li>
<li><strong>Comandes d'espais de treball</strong>: Terraform proporciona diverses comandes per gestionar els espais de treball, com ara crear, llistar, seleccionar i eliminar espais de treball.</li>
</ul>
</div><h1>Comandes d'Espais de Treball</h1>
<div class='content'></div><h2>Crear un Nou Espai de Treball</h2>
<div class='content'><p>Per crear un nou espai de treball, utilitza la comanda <code>terraform workspace new</code> seguida del nom de l'espai de treball:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBuZXcgZGVzZW52b2x1cGFtZW50"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace new desenvolupament</pre></div><div class='content'></div><h2>Llistar Espais de Treball</h2>
<div class='content'><p>Per veure tots els espais de treball disponibles, utilitza la comanda <code>terraform workspace list</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBsaXN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace list</pre></div><div class='content'></div><h2>Seleccionar un Espai de Treball</h2>
<div class='content'><p>Per canviar a un altre espai de treball, utilitza la comanda <code>terraform workspace select</code> seguida del nom de l'espai de treball:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBzZWxlY3QgZGVzZW52b2x1cGFtZW50"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace select desenvolupament</pre></div><div class='content'></div><h2>Eliminar un Espai de Treball</h2>
<div class='content'><p>Per eliminar un espai de treball, utilitza la comanda <code>terraform workspace delete</code> seguida del nom de l'espai de treball. Nota: No pots eliminar l'espai de treball actual, primer has de canviar a un altre espai de treball.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBkZWxldGUgZGVzZW52b2x1cGFtZW50"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace delete desenvolupament</pre></div><div class='content'></div><h1>Exemple Pràctic</h1>
<div class='content'></div><h2>Configuració Inicial</h2>
<div class='content'><p>Suposem que tenim una configuració bàsica de Terraform per desplegar una instància d'EC2 a AWS. El fitxer <code>main.tf</code> podria semblar així:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCn0KCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJleGFtcGxlIiB7CiAgYW1pICAgICAgICAgICA9ICJhbWktMGM1NWIxNTljYmZhZmUxZjAiCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}</pre></div><div class='content'></div><h2>Crear i Seleccionar Espais de Treball</h2>
<div class='content'><ol>
<li>
<p><strong>Crear espais de treball per a desenvolupament i producció</strong>:</p>
<pre><code class="language-bash">terraform workspace new desenvolupament
terraform workspace new produccio
</code></pre>
</li>
<li>
<p><strong>Seleccionar l'espai de treball de desenvolupament</strong>:</p>
<pre><code class="language-bash">terraform workspace select desenvolupament
</code></pre>
</li>
<li>
<p><strong>Aplicar la configuració a l'espai de treball de desenvolupament</strong>:</p>
<pre><code class="language-bash">terraform apply
</code></pre>
</li>
<li>
<p><strong>Seleccionar l'espai de treball de producció</strong>:</p>
<pre><code class="language-bash">terraform workspace select produccio
</code></pre>
</li>
<li>
<p><strong>Aplicar la configuració a l'espai de treball de producció</strong>:</p>
<pre><code class="language-bash">terraform apply
</code></pre>
</li>
</ol>
</div><h2>Verificar els Espais de Treball</h2>
<div class='content'><p>Després d'aplicar la configuració a cada espai de treball, pots verificar que cada espai de treball té el seu propi estat independent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBsaXN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace list</pre></div><div class='content'></div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Crear dos espais de treball (desenvolupament i producció) i desplegar una instància d'EC2 a cada espai de treball.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li><strong>Crear una configuració bàsica de Terraform</strong>.</li>
<li><strong>Crear espais de treball per a desenvolupament i producció</strong>.</li>
<li><strong>Seleccionar l'espai de treball de desenvolupament i aplicar la configuració</strong>.</li>
<li><strong>Seleccionar l'espai de treball de producció i aplicar la configuració</strong>.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><ol>
<li>
<p><strong>Configuració bàsica de Terraform</strong> (<code>main.tf</code>):</p>
<pre><code class="language-hcl">provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}
</code></pre>
</li>
<li>
<p><strong>Crear espais de treball</strong>:</p>
<pre><code class="language-bash">terraform workspace new desenvolupament
terraform workspace new produccio
</code></pre>
</li>
<li>
<p><strong>Seleccionar i aplicar configuració a l'espai de treball de desenvolupament</strong>:</p>
<pre><code class="language-bash">terraform workspace select desenvolupament
terraform apply
</code></pre>
</li>
<li>
<p><strong>Seleccionar i aplicar configuració a l'espai de treball de producció</strong>:</p>
<pre><code class="language-bash">terraform workspace select produccio
terraform apply
</code></pre>
</li>
</ol>
</div><h1>Resum</h1>
<div class='content'><p>Els espais de treball de Terraform permeten gestionar múltiples entorns dins d'una mateixa configuració, facilitant la separació d'entorns de desenvolupament, proves i producció. Utilitzant les comandes adequades, pots crear, llistar, seleccionar i eliminar espais de treball, mantenint així un control eficient sobre els teus entorns d'infraestructura.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-provisioning-gcp-resources' title="Proveïment de recursos GCP">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-terraform-functions' title="Funcions de Terraform">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Terraform</h1>
<h2>Mòdul 1: Introducció a Terraform</h2>
<ul>
<li><a href="01-01-what-is-terraform">Què és Terraform?</a></li>
<li><a href="01-02-installing-terraform">Instal·lant Terraform</a></li>
<li><a href="01-03-terraform-basics">Conceptes bàsics de Terraform</a></li>
<li><a href="01-04-first-terraform-configuration">Primera configuració de Terraform</a></li>
</ul>
<h2>Mòdul 2: Llenguatge de configuració de Terraform</h2>
<ul>
<li><a href="02-01-hcl-syntax">Sintaxi HCL</a></li>
<li><a href="02-02-variables-and-outputs">Variables i sortides</a></li>
<li><a href="02-03-resource-and-data-blocks">Blocs de recursos i dades</a></li>
<li><a href="02-04-providers">Proveïdors</a></li>
</ul>
<h2>Mòdul 3: Gestió de l'estat</h2>
<ul>
<li><a href="03-01-understanding-state">Comprendre l'estat</a></li>
<li><a href="03-02-state-files">Fitxers d'estat</a></li>
<li><a href="03-03-remote-state">Estat remot</a></li>
<li><a href="03-04-state-locking">Bloqueig de l'estat</a></li>
</ul>
<h2>Mòdul 4: Mòduls de Terraform</h2>
<ul>
<li><a href="04-01-introduction-to-modules">Introducció als mòduls</a></li>
<li><a href="04-02-creating-modules">Creació de mòduls</a></li>
<li><a href="04-03-using-modules">Ús de mòduls</a></li>
<li><a href="04-04-module-registry">Registre de mòduls</a></li>
</ul>
<h2>Mòdul 5: Proveïment de recursos</h2>
<ul>
<li><a href="05-01-provisioning-basics">Conceptes bàsics de proveïment</a></li>
<li><a href="05-02-provisioning-aws-resources">Proveïment de recursos AWS</a></li>
<li><a href="05-03-provisioning-azure-resources">Proveïment de recursos Azure</a></li>
<li><a href="05-04-provisioning-gcp-resources">Proveïment de recursos GCP</a></li>
</ul>
<h2>Mòdul 6: Funcionalitats avançades de Terraform</h2>
<ul>
<li><a href="06-01-terraform-workspaces">Espais de treball de Terraform</a></li>
<li><a href="06-02-terraform-functions">Funcions de Terraform</a></li>
<li><a href="06-03-dynamic-blocks">Blocs dinàmics</a></li>
<li><a href="06-04-terraform-import">Importació de Terraform</a></li>
</ul>
<h2>Mòdul 7: Millors pràctiques de Terraform</h2>
<ul>
<li><a href="07-01-code-organization">Organització del codi</a></li>
<li><a href="07-02-version-control">Control de versions</a></li>
<li><a href="07-03-testing-terraform-code">Proves del codi de Terraform</a></li>
<li><a href="07-04-security-best-practices">Millors pràctiques de seguretat</a></li>
</ul>
<h2>Mòdul 8: Terraform en CI/CD</h2>
<ul>
<li><a href="08-01-integrating-terraform-with-cicd">Integració de Terraform amb CI/CD</a></li>
<li><a href="08-02-automating-terraform-with-jenkins">Automatització de Terraform amb Jenkins</a></li>
<li><a href="08-03-using-terraform-with-github-actions">Ús de Terraform amb GitHub Actions</a></li>
<li><a href="08-04-terraform-cloud-and-enterprise">Terraform Cloud i Enterprise</a></li>
</ul>
<h2>Mòdul 9: Resolució de problemes i depuració</h2>
<ul>
<li><a href="09-01-common-errors">Errors comuns</a></li>
<li><a href="09-02-debugging-terraform">Depuració de Terraform</a></li>
<li><a href="09-03-state-management-issues">Problemes de gestió de l'estat</a></li>
<li><a href="09-04-community-and-support">Comunitat i suport</a></li>
</ul>
<h2>Mòdul 10: Projectes del món real</h2>
<ul>
<li><a href="10-01-project-aws-infrastructure">Projecte 1: Infraestructura AWS</a></li>
<li><a href="10-02-project-multi-cloud-deployment">Projecte 2: Desplegament multi-núvol</a></li>
<li><a href="10-03-project-kubernetes-with-terraform">Projecte 3: Kubernetes amb Terraform</a></li>
<li><a href="10-04-project-serverless-applications">Projecte 4: Aplicacions sense servidor</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
