<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió de Fallades i Recuperació</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitecturas_distribuidas/07-02-gestion-fallos" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitecturas_distribuidas/07-02-gestio-fallades" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitecturas_distribuidas/07-02-fault-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/arquitecturas_distribuidas/07-02-fault-management" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/arquitecturas_distribuidas/07-02-gestion-fallos" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-monitoratge-sistemes' title="Monitoratge de Sistemes Distribuïts">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Gestió de Fallades i Recuperació</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-automatitzacio-orquestracio' title="Automatització i Orquestració">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem com gestionar fallades en sistemes distribuïts i les tècniques de recuperació per assegurar la continuïtat del servei. Els sistemes distribuïts són inherentment complexos i susceptibles a diverses fallades, des de fallades de xarxa fins a fallades de nodes. La capacitat de detectar, gestionar i recuperar-se d'aquestes fallades és crucial per mantenir la fiabilitat i disponibilitat del sistema.</p>
</div><h1><p>Objectius d'Aprenentatge</p>
</h1>
<div class='content'><ul>
<li>Comprendre els diferents tipus de fallades en sistemes distribuïts.</li>
<li>Aprendre tècniques per detectar i gestionar fallades.</li>
<li>Explorar estratègies de recuperació per minimitzar l'impacte de les fallades.</li>
</ul>
</div><h1><p>Tipus de Fallades en Sistemes Distribuïts</p>
</h1>
<div class='content'></div><h2><ol>
<li>Fallades de Xarxa</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Desconnexions Temporals:</strong> Pèrdua temporal de connexió entre nodes.</li>
<li><strong>Latència Alta:</strong> Retard significatiu en la transmissió de dades.</li>
<li><strong>Pèrdua de Paquets:</strong> Paquets de dades que es perden durant la transmissió.</li>
</ul>
</div><h2><ol start="2">
<li>Fallades de Nodes</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Fallades de Maquinari:</strong> Problemes físics amb els servidors o dispositius.</li>
<li><strong>Fallades de Programari:</strong> Errors en el codi que causen que un node deixi de funcionar.</li>
<li><strong>Sobrecàrrega:</strong> Quan un node rep més sol·licituds de les que pot gestionar.</li>
</ul>
</div><h2><ol start="3">
<li>Fallades de Dades</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Dades Corruptes:</strong> Dades que es tornen inaccessibles o incorrectes.</li>
<li><strong>Pèrdua de Dades:</strong> Dades que es perden degut a errors de sistema o fallades de maquinari.</li>
</ul>
</div><h1><p>Tècniques de Detecció de Fallades</p>
</h1>
<div class='content'></div><h2><ol>
<li>Monitoratge Actiu</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Ping i Heartbeat:</strong> Enviar missatges periòdics per verificar la disponibilitat dels nodes.</li>
<li><strong>Supervisió de Logs:</strong> Analitzar registres de sistema per detectar anomalies.</li>
</ul>
</div><h2><ol start="2">
<li>Monitoratge Passiu</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Alertes i Notificacions:</strong> Configurar alertes per a esdeveniments específics.</li>
<li><strong>Anàlisi de Rendiment:</strong> Monitoritzar el rendiment del sistema per identificar problemes.</li>
</ul>
</div><h1><p>Estratègies de Gestió de Fallades</p>
</h1>
<div class='content'></div><h2><ol>
<li>Redundància</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Replicació de Nodes:</strong> Mantenir còpies redundants dels nodes per assegurar la disponibilitat.</li>
<li><strong>Replicació de Dades:</strong> Emmagatzemar còpies de dades en múltiples ubicacions.</li>
</ul>
</div><h2><ol start="2">
<li>Tolerància a Fallades</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Algorismes de Consens:</strong> Utilitzar protocols com Paxos o Raft per assegurar la coherència de dades.</li>
<li><strong>Sistemes de Backup:</strong> Realitzar còpies de seguretat periòdiques de dades crítiques.</li>
</ul>
</div><h2><ol start="3">
<li>Aïllament de Fallades</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Particionament:</strong> Dividir el sistema en segments independents per limitar l'impacte d'una fallada.</li>
<li><strong>Circuit Breakers:</strong> Mecanismes per aturar sol·licituds a serveis fallits per evitar sobrecàrregues.</li>
</ul>
</div><h1><p>Estratègies de Recuperació</p>
</h1>
<div class='content'></div><h2><ol>
<li>Recuperació Automàtica</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Restart Automàtic:</strong> Configurar el sistema per reiniciar automàticament nodes fallits.</li>
<li><strong>Failover:</strong> Transferir automàticament la càrrega de treball a nodes redundants.</li>
</ul>
</div><h2><ol start="2">
<li>Recuperació Manual</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Intervenció Humana:</strong> Administradors de sistema que resolen problemes manualment.</li>
<li><strong>Plans de Recuperació:</strong> Procediments documentats per a la recuperació de fallades.</li>
</ul>
</div><h2><ol start="3">
<li>Recuperació de Dades</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Restauració de Backups:</strong> Utilitzar còpies de seguretat per restaurar dades perdudes o corruptes.</li>
<li><strong>Reparació de Dades:</strong> Utilitzar tècniques com la codificació d'erros per corregir dades corruptes.</li>
</ul>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Implementació de Heartbeat</p>
</h2>
<div class='content'><p>Implementa un sistema de heartbeat en Python per monitoritzar la disponibilitat de nodes en un sistema distribuït.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRpbWUKaW1wb3J0IHRocmVhZGluZwoKY2xhc3MgTm9kZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBub2RlX2lkKToKICAgICAgICBzZWxmLm5vZGVfaWQgPSBub2RlX2lkCiAgICAgICAgc2VsZi5hbGl2ZSA9IFRydWUKCiAgICBkZWYgaGVhcnRiZWF0KHNlbGYpOgogICAgICAgIHdoaWxlIHNlbGYuYWxpdmU6CiAgICAgICAgICAgIHByaW50KGYiTm9kZSB7c2VsZi5ub2RlX2lkfSBpcyBhbGl2ZSIpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKCmRlZiBtb25pdG9yX25vZGVzKG5vZGVzKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgZm9yIG5vZGUgaW4gbm9kZXM6CiAgICAgICAgICAgIGlmIG5vdCBub2RlLmFsaXZlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJOb2RlIHtub2RlLm5vZGVfaWR9IGhhcyBmYWlsZWQhIikKICAgICAgICB0aW1lLnNsZWVwKDUpCgojIENyZWFyIG5vZGVzCm5vZGVzID0gW05vZGUoaSkgZm9yIGkgaW4gcmFuZ2UoMyldCgojIEluaWNpYXIgaGVhcnRiZWF0cwpmb3Igbm9kZSBpbiBub2RlczoKICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PW5vZGUuaGVhcnRiZWF0KS5zdGFydCgpCgojIE1vbml0b3JpdHphciBub2Rlcwptb25pdG9yX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PW1vbml0b3Jfbm9kZXMsIGFyZ3M9KG5vZGVzLCkpCm1vbml0b3JfdGhyZWFkLnN0YXJ0KCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import time
import threading

class Node:
    def __init__(self, node_id):
        self.node_id = node_id
        self.alive = True

    def heartbeat(self):
        while self.alive:
            print(f&quot;Node {self.node_id} is alive&quot;)
            time.sleep(2)

def monitor_nodes(nodes):
    while True:
        for node in nodes:
            if not node.alive:
                print(f&quot;Node {node.node_id} has failed!&quot;)
        time.sleep(5)

# Crear nodes
nodes = [Node(i) for i in range(3)]

# Iniciar heartbeats
for node in nodes:
    threading.Thread(target=node.heartbeat).start()

# Monitoritzar nodes
monitor_thread = threading.Thread(target=monitor_nodes, args=(nodes,))
monitor_thread.start()</pre></div><div class='content'></div><h2><p>Exercici 2: Simulació de Failover</p>
</h2>
<div class='content'><p>Simula un escenari de failover on un node fallit és substituït per un node redundant.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJhbmRvbQoKY2xhc3MgRmFpbG92ZXJTeXN0ZW06CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5wcmltYXJ5X25vZGUgPSBOb2RlKDEpCiAgICAgICAgc2VsZi5iYWNrdXBfbm9kZSA9IE5vZGUoMikKCiAgICBkZWYgc2ltdWxhdGVfZmFpbG92ZXIoc2VsZik6CiAgICAgICAgc2VsZi5wcmltYXJ5X25vZGUuYWxpdmUgPSBGYWxzZQogICAgICAgIHByaW50KCJQcmltYXJ5IG5vZGUgaGFzIGZhaWxlZC4gU3dpdGNoaW5nIHRvIGJhY2t1cCBub2RlLiIpCiAgICAgICAgc2VsZi5iYWNrdXBfbm9kZS5oZWFydGJlYXQoKQoKIyBDcmVhciBzaXN0ZW1hIGRlIGZhaWxvdmVyCmZhaWxvdmVyX3N5c3RlbSA9IEZhaWxvdmVyU3lzdGVtKCkKCiMgSW5pY2lhciBoZWFydGJlYXQgZGVsIG5vZGUgcHJpbWFyaQp0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1mYWlsb3Zlcl9zeXN0ZW0ucHJpbWFyeV9ub2RlLmhlYXJ0YmVhdCkuc3RhcnQoKQoKIyBTaW11bGFyIGZhbGxhZGEgaSBmYWlsb3Zlcgp0aW1lLnNsZWVwKDUpCmZhaWxvdmVyX3N5c3RlbS5zaW11bGF0ZV9mYWlsb3Zlcigp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import random

class FailoverSystem:
    def __init__(self):
        self.primary_node = Node(1)
        self.backup_node = Node(2)

    def simulate_failover(self):
        self.primary_node.alive = False
        print(&quot;Primary node has failed. Switching to backup node.&quot;)
        self.backup_node.heartbeat()

# Crear sistema de failover
failover_system = FailoverSystem()

# Iniciar heartbeat del node primari
threading.Thread(target=failover_system.primary_node.heartbeat).start()

# Simular fallada i failover
time.sleep(5)
failover_system.simulate_failover()</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après sobre els diferents tipus de fallades que poden ocórrer en sistemes distribuïts i les tècniques per detectar-les i gestionar-les. També hem explorat diverses estratègies de recuperació per minimitzar l'impacte de les fallades i assegurar la continuïtat del servei. Els exercicis pràctics proporcionen una oportunitat per aplicar aquests conceptes en escenaris reals.</p>
<p>En el següent tema, explorarem les tècniques d'automatització i orquestració per millorar l'eficiència i la gestió dels sistemes distribuïts.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-monitoratge-sistemes' title="Monitoratge de Sistemes Distribuïts">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-automatitzacio-orquestracio' title="Automatització i Orquestració">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
