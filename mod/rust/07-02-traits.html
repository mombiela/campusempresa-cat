<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traits</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rust/07-02-traits" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rust/07-02-traits" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rust/07-02-traits" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/rust/07-02-traits" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/rust/07-02-traits" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-lifetimes' title="Durades de Vida">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Traits</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-generics' title="Genèrics">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Els traits són una característica fonamental de Rust que permeten definir comportaments compartits entre diferents tipus. Són similars a les interfícies en altres llenguatges de programació com Java o C#. En aquest tema, aprendrem què són els traits, com definir-los, com implementar-los i com utilitzar-los en el nostre codi.</p>
</div><h1><p>Què és un Trait?</p>
</h1>
<div class='content'><p>Un trait és una col·lecció de mètodes que poden ser implementats per diferents tipus. Els traits permeten definir funcionalitats comunes que poden ser compartides per múltiples tipus, assegurant que aquests tipus implementin certs comportaments.</p>
</div><h2><p>Definició d'un Trait</p>
</h2>
<div class='content'><p>Per definir un trait, utilitzem la paraula clau <code>trait</code> seguida del nom del trait i el bloc de mètodes que defineixen el comportament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJhaXQgRGVzY3JpYmlibGUgewogICAgZm4gZGVzY3JpdXJlKCZzZWxmKSAtPiBTdHJpbmc7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trait Describible {
    fn descriure(&amp;self) -&gt; String;
}</pre></div><div class='content'><p>En aquest exemple, hem definit un trait anomenat <code>Describible</code> amb un mètode <code>descriure</code> que retorna una <code>String</code>.</p>
</div><h2><p>Implementació d'un Trait</p>
</h2>
<div class='content'><p>Per implementar un trait per a un tipus específic, utilitzem la paraula clau <code>impl</code> seguida del nom del trait per al tipus.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RydWN0IFBlcnNvbmEgewogICAgbm9tOiBTdHJpbmcsCiAgICBlZGF0OiB1MzIsCn0KCmltcGwgRGVzY3JpYmlibGUgZm9yIFBlcnNvbmEgewogICAgZm4gZGVzY3JpdXJlKCZzZWxmKSAtPiBTdHJpbmcgewogICAgICAgIGZvcm1hdCEoInt9IHTDqSB7fSBhbnlzLiIsIHNlbGYubm9tLCBzZWxmLmVkYXQpCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>struct Persona {
    nom: String,
    edat: u32,
}

impl Describible for Persona {
    fn descriure(&amp;self) -&gt; String {
        format!(&quot;{} t&eacute; {} anys.&quot;, self.nom, self.edat)
    }
}</pre></div><div class='content'><p>En aquest exemple, hem implementat el trait <code>Describible</code> per a la struct <code>Persona</code>. El mètode <code>descriure</code> retorna una descripció de la persona.</p>
</div><h2><p>Ús d'un Trait</p>
</h2>
<div class='content'><p>Un cop hem implementat un trait per a un tipus, podem utilitzar els mètodes del trait en instàncies d'aquest tipus.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCBwZXJzb25hID0gUGVyc29uYSB7CiAgICAgICAgbm9tOiBTdHJpbmc6OmZyb20oIkpvYW4iKSwKICAgICAgICBlZGF0OiAzMCwKICAgIH07CgogICAgcHJpbnRsbiEoInt9IiwgcGVyc29uYS5kZXNjcml1cmUoKSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let persona = Persona {
        nom: String::from(&quot;Joan&quot;),
        edat: 30,
    };

    println!(&quot;{}&quot;, persona.descriure());
}</pre></div><div class='content'><p>Aquest codi crearà una instància de <code>Persona</code> i cridarà el mètode <code>descriure</code>, imprimint la descripció de la persona.</p>
</div><h1><p>Traits i Generics</p>
</h1>
<div class='content'><p>Els traits són especialment útils quan es combinen amb generics. Podem utilitzar traits per restringir els tipus que es poden passar a una funció o struct genèrica.</p>
</div><h2><p>Funcions Genèriques amb Traits</p>
</h2>
<div class='content'><p>Podem definir funcions genèriques que accepten qualsevol tipus que implementi un trait específic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gaW1wcmltaXJfZGVzY3JpcGNpbzxUOiBEZXNjcmliaWJsZT4oaXRlbTogVCkgewogICAgcHJpbnRsbiEoInt9IiwgaXRlbS5kZXNjcml1cmUoKSk7Cn0KCmZuIG1haW4oKSB7CiAgICBsZXQgcGVyc29uYSA9IFBlcnNvbmEgewogICAgICAgIG5vbTogU3RyaW5nOjpmcm9tKCJKb2FuIiksCiAgICAgICAgZWRhdDogMzAsCiAgICB9OwoKICAgIGltcHJpbWlyX2Rlc2NyaXBjaW8ocGVyc29uYSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn imprimir_descripcio&lt;T: Describible&gt;(item: T) {
    println!(&quot;{}&quot;, item.descriure());
}

fn main() {
    let persona = Persona {
        nom: String::from(&quot;Joan&quot;),
        edat: 30,
    };

    imprimir_descripcio(persona);
}</pre></div><div class='content'><p>En aquest exemple, la funció <code>imprimir_descripcio</code> accepta qualsevol tipus <code>T</code> que implementi el trait <code>Describible</code>.</p>
</div><h2><p>Structs Genèriques amb Traits</p>
</h2>
<div class='content'><p>De manera similar, podem definir structs genèriques que accepten qualsevol tipus que implementi un trait específic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RydWN0IENhaXhhPFQ6IERlc2NyaWJpYmxlPiB7CiAgICBlbGVtZW50OiBULAp9CgppbXBsPFQ6IERlc2NyaWJpYmxlPiBDYWl4YTxUPiB7CiAgICBmbiBub3ZhKGVsZW1lbnQ6IFQpIC0+IENhaXhhPFQ+IHsKICAgICAgICBDYWl4YSB7IGVsZW1lbnQgfQogICAgfQoKICAgIGZuIGRlc2NyaXVyZV9lbGVtZW50KCZzZWxmKSAtPiBTdHJpbmcgewogICAgICAgIHNlbGYuZWxlbWVudC5kZXNjcml1cmUoKQogICAgfQp9CgpmbiBtYWluKCkgewogICAgbGV0IHBlcnNvbmEgPSBQZXJzb25hIHsKICAgICAgICBub206IFN0cmluZzo6ZnJvbSgiSm9hbiIpLAogICAgICAgIGVkYXQ6IDMwLAogICAgfTsKCiAgICBsZXQgY2FpeGEgPSBDYWl4YTo6bm92YShwZXJzb25hKTsKICAgIHByaW50bG4hKCJ7fSIsIGNhaXhhLmRlc2NyaXVyZV9lbGVtZW50KCkpOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>struct Caixa&lt;T: Describible&gt; {
    element: T,
}

impl&lt;T: Describible&gt; Caixa&lt;T&gt; {
    fn nova(element: T) -&gt; Caixa&lt;T&gt; {
        Caixa { element }
    }

    fn descriure_element(&amp;self) -&gt; String {
        self.element.descriure()
    }
}

fn main() {
    let persona = Persona {
        nom: String::from(&quot;Joan&quot;),
        edat: 30,
    };

    let caixa = Caixa::nova(persona);
    println!(&quot;{}&quot;, caixa.descriure_element());
}</pre></div><div class='content'><p>En aquest exemple, hem definit una struct genèrica <code>Caixa</code> que accepta qualsevol tipus <code>T</code> que implementi el trait <code>Describible</code>.</p>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Definir i Implementar un Trait</p>
</h2>
<div class='content'><ol>
<li>Defineix un trait anomenat <code>Calculable</code> amb un mètode <code>calcular</code> que retorna un <code>i32</code>.</li>
<li>Implementa el trait <code>Calculable</code> per a una struct <code>Rectangle</code> amb camps <code>ample</code> i <code>alt</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJhaXQgQ2FsY3VsYWJsZSB7CiAgICBmbiBjYWxjdWxhcigmc2VsZikgLT4gaTMyOwp9CgpzdHJ1Y3QgUmVjdGFuZ2xlIHsKICAgIGFtcGxlOiBpMzIsCiAgICBhbHQ6IGkzMiwKfQoKaW1wbCBDYWxjdWxhYmxlIGZvciBSZWN0YW5nbGUgewogICAgZm4gY2FsY3VsYXIoJnNlbGYpIC0+IGkzMiB7CiAgICAgICAgc2VsZi5hbXBsZSAqIHNlbGYuYWx0CiAgICB9Cn0KCmZuIG1haW4oKSB7CiAgICBsZXQgcmVjdGFuZ2xlID0gUmVjdGFuZ2xlIHsgYW1wbGU6IDUsIGFsdDogMTAgfTsKICAgIHByaW50bG4hKCLDgHJlYSBkZWwgcmVjdGFuZ2xlOiB7fSIsIHJlY3RhbmdsZS5jYWxjdWxhcigpKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trait Calculable {
    fn calcular(&amp;self) -&gt; i32;
}

struct Rectangle {
    ample: i32,
    alt: i32,
}

impl Calculable for Rectangle {
    fn calcular(&amp;self) -&gt; i32 {
        self.ample * self.alt
    }
}

fn main() {
    let rectangle = Rectangle { ample: 5, alt: 10 };
    println!(&quot;&Agrave;rea del rectangle: {}&quot;, rectangle.calcular());
}</pre></div><div class='content'></div><h2><p>Exercici 2: Funcions Genèriques amb Traits</p>
</h2>
<div class='content'><ol>
<li>Defineix una funció genèrica <code>imprimir_calcul</code> que accepti qualsevol tipus que implementi el trait <code>Calculable</code> i imprimeixi el resultat del mètode <code>calcular</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gaW1wcmltaXJfY2FsY3VsPFQ6IENhbGN1bGFibGU+KGl0ZW06IFQpIHsKICAgIHByaW50bG4hKCJSZXN1bHRhdCBkZWwgY8OgbGN1bDoge30iLCBpdGVtLmNhbGN1bGFyKCkpOwp9CgpmbiBtYWluKCkgewogICAgbGV0IHJlY3RhbmdsZSA9IFJlY3RhbmdsZSB7IGFtcGxlOiA1LCBhbHQ6IDEwIH07CiAgICBpbXByaW1pcl9jYWxjdWwocmVjdGFuZ2xlKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn imprimir_calcul&lt;T: Calculable&gt;(item: T) {
    println!(&quot;Resultat del c&agrave;lcul: {}&quot;, item.calcular());
}

fn main() {
    let rectangle = Rectangle { ample: 5, alt: 10 };
    imprimir_calcul(rectangle);
}</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem après què són els traits en Rust, com definir-los, implementar-los i utilitzar-los. També hem vist com combinar traits amb generics per crear funcions i structs més flexibles i reutilitzables. Els traits són una eina poderosa per definir comportaments compartits i assegurar que els tipus implementin certs mètodes, facilitant la creació de codi modular i mantenible.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-lifetimes' title="Durades de Vida">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-generics' title="Genèrics">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
