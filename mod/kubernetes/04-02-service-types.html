<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Tipus de Serveis</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/04-02-service-types" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/04-02-service-types" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/04-02-service-types" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/kubernetes/04-02-service-types" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/kubernetes/04-02-service-types" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-cluster-networking' title="Xarxes de Clúster">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tipus de Serveis</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-ingress-controllers' title="Ingress Controllers">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En Kubernetes, els serveis són una manera d'exposar una aplicació que s'executa en un conjunt de pods com una xarxa de servei. Els serveis permeten la comunicació entre diferents components d'una aplicació o entre aplicacions diferents. En aquest tema, explorarem els diferents tipus de serveis que ofereix Kubernetes.</p>
</div><h1>Tipus de Serveis en Kubernetes</h1>
<div class='content'><p>Kubernetes ofereix diversos tipus de serveis per satisfer diferents necessitats de xarxa:</p>
<ol>
<li><strong>ClusterIP (Per defecte)</strong></li>
<li><strong>NodePort</strong></li>
<li><strong>LoadBalancer</strong></li>
<li><strong>ExternalName</strong></li>
</ol>
</div><h2><ol>
<li>ClusterIP</li>
</ol></h2>
<div class='content'><p>El tipus de servei per defecte. Exposa el servei dins del clúster Kubernetes, fent-lo accessible només des de dins del clúster.</p>
<ul>
<li><strong>Ús:</strong> Comunicació interna entre pods dins del mateix clúster.</li>
<li><strong>Exemple de YAML:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1jbHVzdGVyaXAtc2VydmljZQpzcGVjOgogIHR5cGU6IENsdXN0ZXJJUAogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDgwODA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-clusterip-service
spec:
  type: ClusterIP
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080</pre></div><div class='content'></div><h2><ol start="2">
<li>NodePort</li>
</ol></h2>
<div class='content'><p>Exposa el servei en un port estàtic en cada node del clúster. Això permet accedir al servei des de fora del clúster utilitzant l'adreça IP del node i el port especificat.</p>
<ul>
<li><strong>Ús:</strong> Accés extern al servei sense necessitat d'un balançador de càrrega.</li>
<li><strong>Exemple de YAML:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1ub2RlcG9ydC1zZXJ2aWNlCnNwZWM6CiAgdHlwZTogTm9kZVBvcnQKICBzZWxlY3RvcjoKICAgIGFwcDogTXlBcHAKICBwb3J0czoKICAgIC0gcHJvdG9jb2w6IFRDUAogICAgICBwb3J0OiA4MAogICAgICB0YXJnZXRQb3J0OiA4MDgwCiAgICAgIG5vZGVQb3J0OiAzMDAwNw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-nodeport-service
spec:
  type: NodePort
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
      nodePort: 30007</pre></div><div class='content'></div><h2><ol start="3">
<li>LoadBalancer</li>
</ol></h2>
<div class='content'><p>Exposa el servei externament utilitzant un balançador de càrrega del proveïdor de núvol. Aquest tipus de servei crea un balançador de càrrega extern que distribueix el trànsit entre els pods del servei.</p>
<ul>
<li><strong>Ús:</strong> Accés extern amb balanç de càrrega automàtic proporcionat pel proveïdor de núvol.</li>
<li><strong>Exemple de YAML:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1sb2FkYmFsYW5jZXItc2VydmljZQpzcGVjOgogIHR5cGU6IExvYWRCYWxhbmNlcgogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDgwODA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-loadbalancer-service
spec:
  type: LoadBalancer
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080</pre></div><div class='content'></div><h2><ol start="4">
<li>ExternalName</li>
</ol></h2>
<div class='content'><p>Mapeja el servei a un nom DNS extern. Aquest tipus de servei no utilitza selectors i no crea cap IP de clúster. En canvi, retorna un registre CNAME amb el nom especificat.</p>
<ul>
<li><strong>Ús:</strong> Redirigir el trànsit a un servei extern fora del clúster.</li>
<li><strong>Exemple de YAML:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1leHRlcm5hbG5hbWUtc2VydmljZQpzcGVjOgogIHR5cGU6IEV4dGVybmFsTmFtZQogIGV4dGVybmFsTmFtZTogZXhhbXBsZS5jb20="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-externalname-service
spec:
  type: ExternalName
  externalName: example.com</pre></div><div class='content'></div><h1>Comparació de Tipus de Serveis</h1>
<div class='content'><table>
<thead>
<tr>
<th>Tipus de Servei</th>
<th>Accés Intern</th>
<th>Accés Extern</th>
<th>Balanç de Càrrega</th>
<th>Ús Comú</th>
</tr>
</thead>
<tbody>
<tr>
<td>ClusterIP</td>
<td>Sí</td>
<td>No</td>
<td>No</td>
<td>Comunicació interna</td>
</tr>
<tr>
<td>NodePort</td>
<td>Sí</td>
<td>Sí</td>
<td>No</td>
<td>Accés extern directe</td>
</tr>
<tr>
<td>LoadBalancer</td>
<td>Sí</td>
<td>Sí</td>
<td>Sí</td>
<td>Accés extern amb balanç de càrrega</td>
</tr>
<tr>
<td>ExternalName</td>
<td>Sí</td>
<td>Sí</td>
<td>No</td>
<td>Redirecció a serveis externs</td>
</tr>
</tbody>
</table>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Crear un servei de tipus <code>NodePort</code> que exposi una aplicació web en un port específic.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>Crea un fitxer YAML anomenat <code>nodeport-service.yaml</code> amb el següent contingut:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1ub2RlcG9ydC1zZXJ2aWNlCnNwZWM6CiAgdHlwZTogTm9kZVBvcnQKICBzZWxlY3RvcjoKICAgIGFwcDogTXlBcHAKICBwb3J0czoKICAgIC0gcHJvdG9jb2w6IFRDUAogICAgICBwb3J0OiA4MAogICAgICB0YXJnZXRQb3J0OiA4MDgwCiAgICAgIG5vZGVQb3J0OiAzMDAwNw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-nodeport-service
spec:
  type: NodePort
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
      nodePort: 30007</pre></div><div class='content'><ol start="2">
<li>Aplica el fitxer YAML al teu clúster Kubernetes:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBub2RlcG9ydC1zZXJ2aWNlLnlhbWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f nodeport-service.yaml</pre></div><div class='content'><ol start="3">
<li>Verifica que el servei s'ha creat correctament:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBnZXQgc2VydmljZXM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl get services</pre></div><div class='content'><ol start="4">
<li>Accedeix a l'aplicació web utilitzant l'adreça IP del node i el port <code>30007</code>.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><p>Si has seguit els passos correctament, hauràs creat un servei de tipus <code>NodePort</code> que exposa la teva aplicació web en el port <code>30007</code> de cada node del clúster.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat els diferents tipus de serveis que ofereix Kubernetes i com utilitzar-los per exposar aplicacions dins i fora del clúster. Hem vist exemples pràctics de cada tipus de servei i hem realitzat un exercici per reforçar els conceptes apresos. En el següent tema, aprofundirem en els Ingress Controllers, que proporcionen una manera més avançada de gestionar l'accés extern a les aplicacions.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-cluster-networking' title="Xarxes de Clúster">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-ingress-controllers' title="Ingress Controllers">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
