<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hooks personalitzats</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/05-04-custom-hooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/05-04-custom-hooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/05-04-custom-hooks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/react/05-04-custom-hooks" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/react/05-04-custom-hooks" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-usecontext-hook' title="Hook useContext">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Hooks personalitzats</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-introduction-react-router' title="Introducció a React Router">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Els hooks personalitzats són una manera poderosa de reutilitzar la lògica d'estat entre components en React. Permeten encapsular la lògica que es pot compartir en una funció reutilitzable, la qual es pot utilitzar en múltiples components.</p>
</div><h1><p>Què són els hooks personalitzats?</p>
</h1>
<div class='content'><p>Un hook personalitzat és una funció de JavaScript que pot utilitzar altres hooks de React (com <code>useState</code>, <code>useEffect</code>, etc.) i encapsular la lògica que es pot reutilitzar en diversos components.</p>
</div><h2><p>Avantatges dels hooks personalitzats:</p>
</h2>
<div class='content'><ul>
<li><strong>Reutilització de codi</strong>: Permeten reutilitzar la lògica d'estat en diferents components.</li>
<li><strong>Organització</strong>: Ajuda a mantenir el codi net i organitzat.</li>
<li><strong>Testabilitat</strong>: Faciliten la prova de la lògica encapsulada.</li>
</ul>
</div><h1><p>Crear un hook personalitzat</p>
</h1>
<div class='content'></div><h2><p>Exemple: Hook per gestionar un comptador</p>
</h2>
<div class='content'><p>A continuació, crearem un hook personalitzat per gestionar un comptador.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CgovLyBEZWZpbmljacOzIGRlbCBob29rIHBlcnNvbmFsaXR6YXQKZnVuY3Rpb24gdXNlQ291bnRlcihpbml0aWFsVmFsdWUgPSAwKSB7CiAgY29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZShpbml0aWFsVmFsdWUpOwoKICBjb25zdCBpbmNyZW1lbnQgPSAoKSA9PiBzZXRDb3VudChjb3VudCArIDEpOwogIGNvbnN0IGRlY3JlbWVudCA9ICgpID0+IHNldENvdW50KGNvdW50IC0gMSk7CiAgY29uc3QgcmVzZXQgPSAoKSA9PiBzZXRDb3VudChpbml0aWFsVmFsdWUpOwoKICByZXR1cm4geyBjb3VudCwgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH07Cn0KCmV4cG9ydCBkZWZhdWx0IHVzZUNvdW50ZXI7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { useState } from 'react';

// Definici&oacute; del hook personalitzat
function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);

  const increment = () =&gt; setCount(count + 1);
  const decrement = () =&gt; setCount(count - 1);
  const reset = () =&gt; setCount(initialValue);

  return { count, increment, decrement, reset };
}

export default useCounter;</pre></div><div class='content'></div><h2><p>Utilitzar el hook personalitzat en un component</p>
</h2>
<div class='content'><p>Ara que hem creat el nostre hook personalitzat <code>useCounter</code>, podem utilitzar-lo en un component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHVzZUNvdW50ZXIgZnJvbSAnLi91c2VDb3VudGVyJzsKCmZ1bmN0aW9uIENvdW50ZXJDb21wb25lbnQoKSB7CiAgY29uc3QgeyBjb3VudCwgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH0gPSB1c2VDb3VudGVyKDEwKTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxwPkNvbXB0YWRvcjoge2NvdW50fTwvcD4KICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtpbmNyZW1lbnR9PkluY3JlbWVudGFyPC9idXR0b24+CiAgICAgIDxidXR0b24gb25DbGljaz17ZGVjcmVtZW50fT5EZWNyZW1lbnRhcjwvYnV0dG9uPgogICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Jlc2V0fT5SZWluaWNpYXI8L2J1dHRvbj4KICAgIDwvZGl2PgogICk7Cn0KCmV4cG9ydCBkZWZhdWx0IENvdW50ZXJDb21wb25lbnQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import useCounter from './useCounter';

function CounterComponent() {
  const { count, increment, decrement, reset } = useCounter(10);

  return (
    &lt;div&gt;
      &lt;p&gt;Comptador: {count}&lt;/p&gt;
      &lt;button onClick={increment}&gt;Incrementar&lt;/button&gt;
      &lt;button onClick={decrement}&gt;Decrementar&lt;/button&gt;
      &lt;button onClick={reset}&gt;Reiniciar&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default CounterComponent;</pre></div><div class='content'></div><h1><p>Exercicis pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Hook personalitzat per gestionar formularis</p>
</h2>
<div class='content'><p>Crea un hook personalitzat anomenat <code>useForm</code> que gestioni l'estat d'un formulari. El hook ha de proporcionar funcions per actualitzar els camps del formulari i restablir el formulari.</p>
<h4>Solució:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CgpmdW5jdGlvbiB1c2VGb3JtKGluaXRpYWxWYWx1ZXMpIHsKICBjb25zdCBbdmFsdWVzLCBzZXRWYWx1ZXNdID0gdXNlU3RhdGUoaW5pdGlhbFZhbHVlcyk7CgogIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4gewogICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0OwogICAgc2V0VmFsdWVzKHsKICAgICAgLi4udmFsdWVzLAogICAgICBbbmFtZV06IHZhbHVlLAogICAgfSk7CiAgfTsKCiAgY29uc3QgcmVzZXRGb3JtID0gKCkgPT4gewogICAgc2V0VmFsdWVzKGluaXRpYWxWYWx1ZXMpOwogIH07CgogIHJldHVybiB7IHZhbHVlcywgaGFuZGxlQ2hhbmdlLCByZXNldEZvcm0gfTsKfQoKZXhwb3J0IGRlZmF1bHQgdXNlRm9ybTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { useState } from 'react';

function useForm(initialValues) {
  const [values, setValues] = useState(initialValues);

  const handleChange = (event) =&gt; {
    const { name, value } = event.target;
    setValues({
      ...values,
      [name]: value,
    });
  };

  const resetForm = () =&gt; {
    setValues(initialValues);
  };

  return { values, handleChange, resetForm };
}

export default useForm;</pre></div><div class='content'></div><h2><p>Utilitzar el hook <code>useForm</code> en un component</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHVzZUZvcm0gZnJvbSAnLi91c2VGb3JtJzsKCmZ1bmN0aW9uIEZvcm1Db21wb25lbnQoKSB7CiAgY29uc3QgeyB2YWx1ZXMsIGhhbmRsZUNoYW5nZSwgcmVzZXRGb3JtIH0gPSB1c2VGb3JtKHsgbmFtZTogJycsIGVtYWlsOiAnJyB9KTsKCiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc29sZS5sb2codmFsdWVzKTsKICAgIHJlc2V0Rm9ybSgpOwogIH07CgogIHJldHVybiAoCiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT4KICAgICAgPGRpdj4KICAgICAgICA8bGFiZWw+Tm9tOjwvbGFiZWw+CiAgICAgICAgPGlucHV0CiAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgICAgbmFtZT0ibmFtZSIKICAgICAgICAgIHZhbHVlPXt2YWx1ZXMubmFtZX0KICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9CiAgICAgICAgLz4KICAgICAgPC9kaXY+CiAgICAgIDxkaXY+CiAgICAgICAgPGxhYmVsPkVtYWlsOjwvbGFiZWw+CiAgICAgICAgPGlucHV0CiAgICAgICAgICB0eXBlPSJlbWFpbCIKICAgICAgICAgIG5hbWU9ImVtYWlsIgogICAgICAgICAgdmFsdWU9e3ZhbHVlcy5lbWFpbH0KICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9CiAgICAgICAgLz4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5FbnZpYXI8L2J1dHRvbj4KICAgIDwvZm9ybT4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBGb3JtQ29tcG9uZW50Ow=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import useForm from './useForm';

function FormComponent() {
  const { values, handleChange, resetForm } = useForm({ name: '', email: '' });

  const handleSubmit = (event) =&gt; {
    event.preventDefault();
    console.log(values);
    resetForm();
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;div&gt;
        &lt;label&gt;Nom:&lt;/label&gt;
        &lt;input
          type=&quot;text&quot;
          name=&quot;name&quot;
          value={values.name}
          onChange={handleChange}
        /&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;label&gt;Email:&lt;/label&gt;
        &lt;input
          type=&quot;email&quot;
          name=&quot;email&quot;
          value={values.email}
          onChange={handleChange}
        /&gt;
      &lt;/div&gt;
      &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;
  );
}

export default FormComponent;</pre></div><div class='content'></div><h1><p>Errors comuns i consells</p>
</h1>
<div class='content'></div><h2><p>Errors comuns:</p>
</h2>
<div class='content'><ul>
<li><strong>No seguir les regles dels hooks</strong>: Assegura't de seguir les regles dels hooks, com ara només cridar-los a nivell superior i no dins de bucles, condicions o funcions embegudes.</li>
<li><strong>No retornar valors correctament</strong>: Assegura't que el hook personalitzat retorni els valors i funcions necessàries per al component que l'utilitza.</li>
</ul>
</div><h2><p>Consells:</p>
</h2>
<div class='content'><ul>
<li><strong>Nom de funció que comenci amb &quot;use&quot;</strong>: Segueix la convenció de nomenclatura de React per als hooks personalitzats, començant el nom de la funció amb &quot;use&quot;.</li>
<li><strong>Documentació</strong>: Documenta els teus hooks personalitzats per facilitar la seva comprensió i ús per altres desenvolupadors.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>Els hooks personalitzats són una eina poderosa per reutilitzar la lògica d'estat en React. Permeten encapsular la lògica en funcions reutilitzables, mantenint el codi net i organitzat. Practica creant i utilitzant hooks personalitzats per millorar la teva eficiència en el desenvolupament amb React.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-usecontext-hook' title="Hook useContext">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-introduction-react-router' title="Introducció a React Router">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
