<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Mètodes del cicle de vida de React</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/04-03-lifecycle-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/04-03-lifecycle-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/04-03-lifecycle-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/react/04-03-lifecycle-methods" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/react/04-03-lifecycle-methods" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-composition-vs-inheritance' title="Composició vs herència">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mètodes del cicle de vida de React</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-hooks-introduction' title="Hooks: Introducció i ús bàsic">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Els mètodes del cicle de vida de React són funcions especials que es poden definir en components de classe per executar codi en moments específics del cicle de vida d'un component. Aquests mètodes permeten als desenvolupadors controlar el comportament dels components durant la seva creació, actualització i destrucció.</p>
</div><h1><p>Fases del cicle de vida</p>
</h1>
<div class='content'><p>El cicle de vida d'un component de React es divideix en tres fases principals:</p>
<ol>
<li><strong>Muntatge (Mounting)</strong>: Quan el component es crea i s'insereix al DOM.</li>
<li><strong>Actualització (Updating)</strong>: Quan el component es re-renderitza a causa de canvis en les props o l'estat.</li>
<li><strong>Desmuntatge (Unmounting)</strong>: Quan el component es retira del DOM.</li>
</ol>
</div><h1><p>Mètodes del cicle de vida</p>
</h1>
<div class='content'></div><h2><ol>
<li>Muntatge</li>
</ol>
</h2>
<div class='content'><ul>
<li>
<p><strong>constructor(props)</strong>: S'utilitza per inicialitzar l'estat i vincular mètodes. És el primer mètode que s'executa.</p>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }
}
</code></pre>
</li>
<li>
<p><strong>componentDidMount()</strong>: S'executa després que el component s'hagi muntat al DOM. Ideal per fer peticions a APIs o subscripcions.</p>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentDidMount() {
    // Crida a una API
    fetch('https://api.example.com/data')
      .then(response =&gt; response.json())
      .then(data =&gt; this.setState({ data }));
  }
}
</code></pre>
</li>
</ul>
</div><h2><ol start="2">
<li>Actualització</li>
</ol>
</h2>
<div class='content'><ul>
<li>
<p><strong>shouldComponentUpdate(nextProps, nextState)</strong>: Determina si el component ha de re-renderitzar-se. Retorna un valor booleà. Per defecte, retorna true.</p>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  shouldComponentUpdate(nextProps, nextState) {
    // Només re-renderitzar si el nou estat és diferent
    return nextState.count !== this.state.count;
  }
}
</code></pre>
</li>
<li>
<p><strong>componentDidUpdate(prevProps, prevState)</strong>: S'executa després que el component s'hagi actualitzat. Ideal per fer operacions que depenen del DOM actualitzat.</p>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentDidUpdate(prevProps, prevState) {
    if (prevState.count !== this.state.count) {
      console.log('El component s'ha actualitzat');
    }
  }
}
</code></pre>
</li>
</ul>
</div><h2><ol start="3">
<li>Desmuntatge</li>
</ol>
</h2>
<div class='content'><ul>
<li>
<p><strong>componentWillUnmount()</strong>: S'executa just abans que el component es desmunti i es retiri del DOM. Ideal per netejar subscripcions o temporitzadors.</p>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentWillUnmount() {
    // Netejar subscripcions
    clearInterval(this.timerID);
  }
}
</code></pre>
</li>
</ul>
</div><h1><p>Exemple complet</p>
</h1>
<div class='content'><p>A continuació, es mostra un exemple complet d'un component de classe que utilitza diversos mètodes del cicle de vida:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTGlmZWN5Y2xlRGVtbyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7IGNvdW50OiAwIH07CiAgICB0aGlzLmluY3JlbWVudCA9IHRoaXMuaW5jcmVtZW50LmJpbmQodGhpcyk7CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIGNvbnNvbGUubG9nKCdDb21wb25lbnQgbXVudGF0Jyk7CiAgICB0aGlzLnRpbWVySUQgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmluY3JlbWVudCgpLCAxMDAwKTsKICB9CgogIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkgewogICAgcmV0dXJuIG5leHRTdGF0ZS5jb3VudCAlIDIgPT09IDA7CiAgfQoKICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHsKICAgIGNvbnNvbGUubG9nKCdDb21wb25lbnQgYWN0dWFsaXR6YXQnKTsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCBkZXNtdW50YXQnKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcklEKTsKICB9CgogIGluY3JlbWVudCgpIHsKICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiAoeyBjb3VudDogc3RhdGUuY291bnQgKyAxIH0pKTsKICB9CgogIHJlbmRlcigpIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXY+CiAgICAgICAgPGgxPkNvdW50OiB7dGhpcy5zdGF0ZS5jb3VudH08L2gxPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class LifecycleDemo extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
    this.increment = this.increment.bind(this);
  }

  componentDidMount() {
    console.log('Component muntat');
    this.timerID = setInterval(() =&gt; this.increment(), 1000);
  }

  shouldComponentUpdate(nextProps, nextState) {
    return nextState.count % 2 === 0;
  }

  componentDidUpdate(prevProps, prevState) {
    console.log('Component actualitzat');
  }

  componentWillUnmount() {
    console.log('Component desmuntat');
    clearInterval(this.timerID);
  }

  increment() {
    this.setState((state) =&gt; ({ count: state.count + 1 }));
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Count: {this.state.count}&lt;/h1&gt;
      &lt;/div&gt;
    );
  }
}</pre></div><div class='content'></div><h1><p>Exercicis pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1</p>
</h2>
<div class='content'><p>Crea un component de classe que faci una petició a una API quan es munti i mostri les dades obtingudes. Assegura't de netejar qualsevol subscripció o temporitzador quan el component es desmunti.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRGF0YUZldGNoZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQgewogIGNvbnN0cnVjdG9yKHByb3BzKSB7CiAgICBzdXBlcihwcm9wcyk7CiAgICB0aGlzLnN0YXRlID0geyBkYXRhOiBudWxsIH07CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIGZldGNoKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJykKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAudGhlbihkYXRhID0+IHRoaXMuc2V0U3RhdGUoeyBkYXRhIH0pKTsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgLy8gTmV0ZWphciBxdWFsc2V2b2wgc3Vic2NyaXBjacOzIHNpIGZvcyBuZWNlc3NhcmkKICB9CgogIHJlbmRlcigpIHsKICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5zdGF0ZTsKICAgIHJldHVybiAoCiAgICAgIDxkaXY+CiAgICAgICAge2RhdGEgPyA8cHJlPntKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKX08L3ByZT4gOiAnQ2FycmVnYW50Li4uJ30KICAgICAgPC9kaXY+CiAgICApOwogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DataFetcher extends React.Component {
  constructor(props) {
    super(props);
    this.state = { data: null };
  }

  componentDidMount() {
    fetch('https://api.example.com/data')
      .then(response =&gt; response.json())
      .then(data =&gt; this.setState({ data }));
  }

  componentWillUnmount() {
    // Netejar qualsevol subscripci&oacute; si fos necessari
  }

  render() {
    const { data } = this.state;
    return (
      &lt;div&gt;
        {data ? &lt;pre&gt;{JSON.stringify(data, null, 2)}&lt;/pre&gt; : 'Carregant...'}
      &lt;/div&gt;
    );
  }
}</pre></div><div class='content'></div><h2><p>Exercici 2</p>
</h2>
<div class='content'><p>Crea un component de classe que incrementi un comptador cada segon, però només es re-renderitzi quan el comptador sigui múltiple de 5.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ291bnRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7IGNvdW50OiAwIH07CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIHRoaXMudGltZXJJRCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuaW5jcmVtZW50KCksIDEwMDApOwogIH0KCiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7CiAgICByZXR1cm4gbmV4dFN0YXRlLmNvdW50ICUgNSA9PT0gMDsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySUQpOwogIH0KCiAgaW5jcmVtZW50KCkgewogICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUpID0+ICh7IGNvdW50OiBzdGF0ZS5jb3VudCArIDEgfSkpOwogIH0KCiAgcmVuZGVyKCkgewogICAgcmV0dXJuICgKICAgICAgPGRpdj4KICAgICAgICA8aDE+Q291bnQ6IHt0aGlzLnN0YXRlLmNvdW50fTwvaDE+CiAgICAgIDwvZGl2PgogICAgKTsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Counter extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }

  componentDidMount() {
    this.timerID = setInterval(() =&gt; this.increment(), 1000);
  }

  shouldComponentUpdate(nextProps, nextState) {
    return nextState.count % 5 === 0;
  }

  componentWillUnmount() {
    clearInterval(this.timerID);
  }

  increment() {
    this.setState((state) =&gt; ({ count: state.count + 1 }));
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Count: {this.state.count}&lt;/h1&gt;
      &lt;/div&gt;
    );
  }
}</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>Els mètodes del cicle de vida de React són eines poderoses per controlar el comportament dels components en diferents fases del seu cicle de vida. Comprendre com i quan utilitzar aquests mètodes és essencial per escriure components de React eficients i mantenibles. Amb la pràctica, podràs utilitzar aquests mètodes per gestionar millor l'estat, les peticions a APIs i altres operacions asíncrones en les teves aplicacions de React.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-composition-vs-inheritance' title="Composició vs herència">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-hooks-introduction' title="Hooks: Introducció i ús bàsic">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
