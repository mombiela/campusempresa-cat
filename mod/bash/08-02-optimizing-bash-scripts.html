<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimització de Scripts en Bash</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bash/08-02-optimizing-bash-scripts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bash/08-02-optimizing-bash-scripts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bash/08-02-optimizing-bash-scripts" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/bash/08-02-optimizing-bash-scripts" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/bash/08-02-optimizing-bash-scripts" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-writing-readable-code' title="Escriure Codi Llegible">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Optimització de Scripts en Bash</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem diverses tècniques per optimitzar els scripts en Bash. L'objectiu és fer que els scripts siguin més eficients, ràpids i fàcils de mantenir. A continuació, es presenten les tècniques clau per a l'optimització de scripts en Bash.</p>
</div><h1><ol>
<li>Utilització de Comandes Internes</li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>Les comandes internes (built-in) són aquelles que estan integrades directament en la shell. Utilitzar comandes internes en lloc de comandes externes pot millorar significativament el rendiment del teu script, ja que no requereixen la creació d'un nou procés.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQnw7pzIGRlIGNvbWFuZGVzIGludGVybmVzCmZvciBpIGluIHsxLi4xMH07IGRvCiAgICBlY2hvICJOw7ptZXJvOiAkaSIKZG9uZQoKIyBFeGVtcGxlIGQnw7pzIGRlIGNvbWFuZGVzIGV4dGVybmVzCmZvciBpIGluIHsxLi4xMH07IGRvCiAgICAvYmluL2VjaG8gIk7Dum1lcm86ICRpIgpkb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'&uacute;s de comandes internes
for i in {1..10}; do
    echo &quot;N&uacute;mero: $i&quot;
done

# Exemple d'&uacute;s de comandes externes
for i in {1..10}; do
    /bin/echo &quot;N&uacute;mero: $i&quot;
done</pre></div><div class='content'></div><h2><p>Comparació</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Comanda Interna</th>
<th>Comanda Externa</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>echo</code></td>
<td><code>/bin/echo</code></td>
</tr>
<tr>
<td><code>cd</code></td>
<td><code>/usr/bin/cd</code></td>
</tr>
<tr>
<td><code>pwd</code></td>
<td><code>/bin/pwd</code></td>
</tr>
</tbody>
</table>
</div><h1><ol start="2">
<li>Evitar Subshells Innecessàries</li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>L'ús de subshells pot ser costós en termes de rendiment. Evitar l'ús innecessari de subshells pot millorar l'eficiència del teu script.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiBzdWJzaGVsbApyZXN1bHQ9JChscyB8IGdyZXAgImZpdHhlci50eHQiKQoKIyBFeGVtcGxlIHNlbnNlIHN1YnNoZWxsCmZvciBmaXR4ZXIgaW4gKjsgZG8KICAgIGlmIFtbICIkZml0eGVyIiA9PSAiZml0eGVyLnR4dCIgXV07IHRoZW4KICAgICAgICByZXN1bHQ9IiRmaXR4ZXIiCiAgICBmaQpkb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb subshell
result=$(ls | grep &quot;fitxer.txt&quot;)

# Exemple sense subshell
for fitxer in *; do
    if [[ &quot;$fitxer&quot; == &quot;fitxer.txt&quot; ]]; then
        result=&quot;$fitxer&quot;
    fi
done</pre></div><div class='content'></div><h1><ol start="3">
<li>Utilitzar Comandes Eficients</li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>Algunes comandes són més eficients que altres per a certes tasques. Per exemple, <code>grep</code> pot ser més ràpid que <code>awk</code> per a cerques simples.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiBncmVwCmdyZXAgInBhdHLDsyIgZml0eGVyLnR4dAoKIyBFeGVtcGxlIGFtYiBhd2sKYXdrICcvcGF0csOzLycgZml0eGVyLnR4dA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb grep
grep &quot;patr&oacute;&quot; fitxer.txt

# Exemple amb awk
awk '/patr&oacute;/' fitxer.txt</pre></div><div class='content'></div><h1><ol start="4">
<li>Evitar l'Ús Innecessari de <code>cat</code></li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>L'ús de <code>cat</code> per a passar el contingut d'un fitxer a una altra comanda pot ser ineficient. És millor utilitzar redirecció o llegir directament des del fitxer.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiBjYXQKY2F0IGZpdHhlci50eHQgfCBncmVwICJwYXRyw7MiCgojIEV4ZW1wbGUgc2Vuc2UgY2F0CmdyZXAgInBhdHLDsyIgZml0eGVyLnR4dA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb cat
cat fitxer.txt | grep &quot;patr&oacute;&quot;

# Exemple sense cat
grep &quot;patr&oacute;&quot; fitxer.txt</pre></div><div class='content'></div><h1><ol start="5">
<li>Utilitzar <code>read</code> per Llegir Fitxers</li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>Utilitzar <code>read</code> en un bucle <code>while</code> és una manera eficient de processar fitxers línia per línia.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiByZWFkCndoaWxlIElGUz0gcmVhZCAtciBsaW5pYTsgZG8KICAgIGVjaG8gIiRsaW5pYSIKZG9uZSA8IGZpdHhlci50eHQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb read
while IFS= read -r linia; do
    echo &quot;$linia&quot;
done &lt; fitxer.txt</pre></div><div class='content'></div><h1><ol start="6">
<li>Utilitzar <code>printf</code> en Lloc de <code>echo</code></li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p><code>printf</code> és més potent i consistent que <code>echo</code>, especialment quan es treballa amb cadenes que contenen caràcters especials.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiBlY2hvCmVjaG8gIkhvbGEsIG3Ds24hIgoKIyBFeGVtcGxlIGFtYiBwcmludGYKcHJpbnRmICJIb2xhLCBtw7NuIVxuIg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb echo
echo &quot;Hola, m&oacute;n!&quot;

# Exemple amb printf
printf &quot;Hola, m&oacute;n!\n&quot;</pre></div><div class='content'></div><h1><ol start="7">
<li>Utilitzar Arrays en Lloc de Llistes</li>
</ol>
</h1>
<div class='content'></div><h2><p>Explicació</p>
</h2>
<div class='content'><p>Els arrays són més eficients i fàcils de gestionar que les llistes de cadenes separades per espais.</p>
</div><h2><p>Exemples</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGFtYiBsbGlzdGEKbGxpc3RhPSJlbGVtZW50MSBlbGVtZW50MiBlbGVtZW50MyIKZm9yIGVsZW1lbnQgaW4gJGxsaXN0YTsgZG8KICAgIGVjaG8gIiRlbGVtZW50Igpkb25lCgojIEV4ZW1wbGUgYW1iIGFycmF5CmFycmF5PSgiZWxlbWVudDEiICJlbGVtZW50MiIgImVsZW1lbnQzIikKZm9yIGVsZW1lbnQgaW4gIiR7YXJyYXlbQF19IjsgZG8KICAgIGVjaG8gIiRlbGVtZW50Igpkb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple amb llista
llista=&quot;element1 element2 element3&quot;
for element in $llista; do
    echo &quot;$element&quot;
done

# Exemple amb array
array=(&quot;element1&quot; &quot;element2&quot; &quot;element3&quot;)
for element in &quot;${array[@]}&quot;; do
    echo &quot;$element&quot;
done</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Optimitzar un Script</p>
</h2>
<div class='content'><p>Optimitza el següent script per millorar el seu rendiment:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKY2F0IGZpdHhlci50eHQgfCB3aGlsZSByZWFkIGxpbmlhOyBkbwogICAgZWNobyAiJGxpbmlhIgpkb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
cat fitxer.txt | while read linia; do
    echo &quot;$linia&quot;
done</pre></div><div class='content'><h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKd2hpbGUgSUZTPSByZWFkIC1yIGxpbmlhOyBkbwogICAgZWNobyAiJGxpbmlhIgpkb25lIDwgZml0eGVyLnR4dA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
while IFS= read -r linia; do
    echo &quot;$linia&quot;
done &lt; fitxer.txt</pre></div><div class='content'></div><h2><p>Exercici 2: Substituir Comandes Externes per Internes</p>
</h2>
<div class='content'><p>Substitueix les comandes externes per comandes internes en el següent script:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKL2Jpbi9lY2hvICJIb2xhLCBtw7NuISIKL2Jpbi9wd2Q="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
/bin/echo &quot;Hola, m&oacute;n!&quot;
/bin/pwd</pre></div><div class='content'><h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKZWNobyAiSG9sYSwgbcOzbiEiCnB3ZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
echo &quot;Hola, m&oacute;n!&quot;
pwd</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem après diverses tècniques per optimitzar els scripts en Bash, incloent l'ús de comandes internes, evitar subshells innecessàries, utilitzar comandes eficients, evitar l'ús innecessari de <code>cat</code>, utilitzar <code>read</code> per llegir fitxers, preferir <code>printf</code> sobre <code>echo</code>, i utilitzar arrays en lloc de llistes. Aquestes tècniques ajudaran a millorar el rendiment i l'eficiència dels teus scripts en Bash.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-writing-readable-code' title="Escriure Codi Llegible">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
