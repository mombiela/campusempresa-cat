<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funcions en Bash</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bash/04-02-functions-in-bash" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bash/04-02-functions-in-bash" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bash/04-02-functions-in-bash" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/bash/04-02-functions-in-bash" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/bash/04-02-functions-in-bash" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-loops-in-bash' title="Bucles en Bash">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Funcions en Bash</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-arrays-associative-arrays' title="Arrays i Arrays Associatius">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les funcions en Bash són una manera poderosa de reutilitzar codi i organitzar scripts de manera més eficient. En aquest tema, aprendrem com definir i utilitzar funcions en Bash, així com alguns consells per a la seva utilització efectiva.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><a href="#què-és-una-funció">Què és una Funció?</a></li>
<li><a href="#definició-de-funcions">Definició de Funcions</a></li>
<li><a href="#crida-a-funcions">Crida a Funcions</a></li>
<li><a href="#passar-arguments-a-funcions">Passar Arguments a Funcions</a></li>
<li><a href="#retornar-valors-des-de-funcions">Retornar Valors des de Funcions</a></li>
<li><a href="#exemples-pràctics">Exemples Pràctics</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
</ol>
</div><h1>Què és una Funció?</h1>
<div class='content'><p>Una funció és un bloc de codi amb un nom específic que es pot cridar des de qualsevol lloc del script. Les funcions permeten dividir el codi en parts més petites i manejables, facilitant la seva lectura i manteniment.</p>
</div><h1>Definició de Funcions</h1>
<div class='content'><p>Per definir una funció en Bash, utilitzem la següent sintaxi:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbm9tX2RlX2xhX2Z1bmNpw7MgewogICAgIyBDb2RpIGRlIGxhIGZ1bmNpw7MKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function nom_de_la_funci&oacute; {
    # Codi de la funci&oacute;
}</pre></div><div class='content'><p>També es pot definir una funció sense la paraula clau <code>function</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bm9tX2RlX2xhX2Z1bmNpw7MoKSB7CiAgICAjIENvZGkgZGUgbGEgZnVuY2nDswp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>nom_de_la_funci&oacute;() {
    # Codi de la funci&oacute;
}</pre></div><div class='content'></div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc2FsdWRhIHsKICAgIGVjaG8gIkhvbGEsIG3Ds24hIgp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function saluda {
    echo &quot;Hola, m&oacute;n!&quot;
}</pre></div><div class='content'><p>O bé:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2FsdWRhKCkgewogICAgZWNobyAiSG9sYSwgbcOzbiEiCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>saluda() {
    echo &quot;Hola, m&oacute;n!&quot;
}</pre></div><div class='content'></div><h1>Crida a Funcions</h1>
<div class='content'><p>Per cridar una funció, simplement escrivim el seu nom:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2FsdWRh"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>saluda</pre></div><div class='content'></div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKCnNhbHVkYSgpIHsKICAgIGVjaG8gIkhvbGEsIG3Ds24hIgp9CgojIENyaWRhIGEgbGEgZnVuY2nDswpzYWx1ZGE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash

saluda() {
    echo &quot;Hola, m&oacute;n!&quot;
}

# Crida a la funci&oacute;
saluda</pre></div><div class='content'></div><h1>Passar Arguments a Funcions</h1>
<div class='content'><p>Les funcions en Bash poden rebre arguments, que es passen de la mateixa manera que es passen arguments a un script. Els arguments es poden accedir dins de la funció utilitzant <code>$1</code>, <code>$2</code>, etc.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGl1X2hvbGEoKSB7CiAgICBlY2hvICJIb2xhLCAkMSEiCn0KCiMgQ3JpZGEgYSBsYSBmdW5jacOzIGFtYiB1biBhcmd1bWVudApkaXVfaG9sYSAiQW5uYSI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>diu_hola() {
    echo &quot;Hola, $1!&quot;
}

# Crida a la funci&oacute; amb un argument
diu_hola &quot;Anna&quot;</pre></div><div class='content'><p>En aquest exemple, <code>$1</code> conté el valor &quot;Anna&quot;.</p>
</div><h1>Retornar Valors des de Funcions</h1>
<div class='content'><p>Les funcions en Bash poden retornar valors utilitzant la comanda <code>return</code>. El valor retornat és un codi de sortida (un enter entre 0 i 255). Per retornar altres tipus de valors, podem utilitzar <code>echo</code> i capturar la sortida de la funció.</p>
</div><h2>Exemple amb `return`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VtYSgpIHsKICAgIGxvY2FsIHJlc3VsdGF0PSQoKCAkMSArICQyICkpCiAgICByZXR1cm4gJHJlc3VsdGF0Cn0KCiMgQ3JpZGEgYSBsYSBmdW5jacOzCnN1bWEgMyA0CiMgQ2FwdHVyYSBkZWwgY29kaSBkZSBzb3J0aWRhCnJlc3VsdGF0PSQ/CmVjaG8gIkxhIHN1bWEgw6lzOiAkcmVzdWx0YXQi"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>suma() {
    local resultat=$(( $1 + $2 ))
    return $resultat
}

# Crida a la funci&oacute;
suma 3 4
# Captura del codi de sortida
resultat=$?
echo &quot;La suma &eacute;s: $resultat&quot;</pre></div><div class='content'></div><h2>Exemple amb `echo`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VtYSgpIHsKICAgIGxvY2FsIHJlc3VsdGF0PSQoKCAkMSArICQyICkpCiAgICBlY2hvICRyZXN1bHRhdAp9CgojIENyaWRhIGEgbGEgZnVuY2nDsyBpIGNhcHR1cmEgZGUgbGEgc29ydGlkYQpyZXN1bHRhdD0kKHN1bWEgMyA0KQplY2hvICJMYSBzdW1hIMOpczogJHJlc3VsdGF0Ig=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>suma() {
    local resultat=$(( $1 + $2 ))
    echo $resultat
}

# Crida a la funci&oacute; i captura de la sortida
resultat=$(suma 3 4)
echo &quot;La suma &eacute;s: $resultat&quot;</pre></div><div class='content'></div><h1>Exemples Pràctics</h1>
<div class='content'></div><h2>Exemple 1: Funció per Calcular el Factorial</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmFjdG9yaWFsKCkgewogICAgaWYgWyAkMSAtbGUgMSBdOyB0aGVuCiAgICAgICAgZWNobyAxCiAgICBlbHNlCiAgICAgICAgbG9jYWwgdGVtcD0kKCggJDEgLSAxICkpCiAgICAgICAgbG9jYWwgcmVzdWx0PSQoZmFjdG9yaWFsICR0ZW1wKQogICAgICAgIGVjaG8gJCgoICQxICogcmVzdWx0ICkpCiAgICBmaQp9CgojIENyaWRhIGEgbGEgZnVuY2nDswpyZXN1bHRhdD0kKGZhY3RvcmlhbCA1KQplY2hvICJFbCBmYWN0b3JpYWwgZGUgNSDDqXM6ICRyZXN1bHRhdCI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>factorial() {
    if [ $1 -le 1 ]; then
        echo 1
    else
        local temp=$(( $1 - 1 ))
        local result=$(factorial $temp)
        echo $(( $1 * result ))
    fi
}

# Crida a la funci&oacute;
resultat=$(factorial 5)
echo &quot;El factorial de 5 &eacute;s: $resultat&quot;</pre></div><div class='content'></div><h2>Exemple 2: Funció per Comprovar si un Número és Parell</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXNfcGFyZWxsKCkgewogICAgaWYgWyAkKCggJDEgJSAyICkpIC1lcSAwIF07IHRoZW4KICAgICAgICBlY2hvICJTw60iCiAgICBlbHNlCiAgICAgICAgZWNobyAiTm8iCiAgICBmaQp9CgojIENyaWRhIGEgbGEgZnVuY2nDswpyZXN1bHRhdD0kKGVzX3BhcmVsbCA0KQplY2hvICJFbCBuw7ptZXJvIDQgw6lzIHBhcmVsbD8gJHJlc3VsdGF0Ig=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>es_parell() {
    if [ $(( $1 % 2 )) -eq 0 ]; then
        echo &quot;S&iacute;&quot;
    else
        echo &quot;No&quot;
    fi
}

# Crida a la funci&oacute;
resultat=$(es_parell 4)
echo &quot;El n&uacute;mero 4 &eacute;s parell? $resultat&quot;</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Funció per Invertir una Cadena</h2>
<div class='content'><p>Escriu una funció anomenada <code>invertir_cadena</code> que prengui una cadena com a argument i retorni la cadena invertida.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW52ZXJ0aXJfY2FkZW5hKCkgewogICAgZWNobyAiJDEiIHwgcmV2Cn0KCiMgQ3JpZGEgYSBsYSBmdW5jacOzCnJlc3VsdGF0PSQoaW52ZXJ0aXJfY2FkZW5hICJIb2xhIikKZWNobyAiTGEgY2FkZW5hIGludmVydGlkYSDDqXM6ICRyZXN1bHRhdCI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>invertir_cadena() {
    echo &quot;$1&quot; | rev
}

# Crida a la funci&oacute;
resultat=$(invertir_cadena &quot;Hola&quot;)
echo &quot;La cadena invertida &eacute;s: $resultat&quot;</pre></div><div class='content'></div><h2>Exercici 2: Funció per Comprovar si un Número és Primer</h2>
<div class='content'><p>Escriu una funció anomenada <code>es_primer</code> que prengui un número com a argument i retorni &quot;Sí&quot; si el número és primer, i &quot;No&quot; en cas contrari.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXNfcHJpbWVyKCkgewogICAgbG9jYWwgbnVtPSQxCiAgICBpZiBbICRudW0gLWxlIDEgXTsgdGhlbgogICAgICAgIGVjaG8gIk5vIgogICAgICAgIHJldHVybgogICAgZmkKICAgIGZvciAoKCBpPTI7IGkqaTw9JG51bTsgaSsrICkpOyBkbwogICAgICAgIGlmIFsgJCgoIG51bSAlIGkgKSkgLWVxIDAgXTsgdGhlbgogICAgICAgICAgICBlY2hvICJObyIKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZmkKICAgIGRvbmUKICAgIGVjaG8gIlPDrSIKfQoKIyBDcmlkYSBhIGxhIGZ1bmNpw7MKcmVzdWx0YXQ9JChlc19wcmltZXIgNykKZWNobyAiRWwgbsO6bWVybyA3IMOpcyBwcmltZXI/ICRyZXN1bHRhdCI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>es_primer() {
    local num=$1
    if [ $num -le 1 ]; then
        echo &quot;No&quot;
        return
    fi
    for (( i=2; i*i&lt;=$num; i++ )); do
        if [ $(( num % i )) -eq 0 ]; then
            echo &quot;No&quot;
            return
        fi
    done
    echo &quot;S&iacute;&quot;
}

# Crida a la funci&oacute;
resultat=$(es_primer 7)
echo &quot;El n&uacute;mero 7 &eacute;s primer? $resultat&quot;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les funcions en Bash són una eina essencial per escriure scripts més organitzats i reutilitzables. Hem après com definir funcions, passar arguments, retornar valors i hem vist alguns exemples pràctics. Practica amb els exercicis proporcionats per consolidar els teus coneixements i prepara't per al següent tema sobre arrays i arrays associatius.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-loops-in-bash' title="Bucles en Bash">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-arrays-associative-arrays' title="Arrays i Arrays Associatius">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
