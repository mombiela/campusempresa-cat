<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Mocking i Stubbing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/06-02-mocking-stubbing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/06-02-mocking-stubbing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/06-02-mocking-stubbing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/groovy/06-02-mocking-stubbing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/groovy/06-02-mocking-stubbing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-unit-testing' title="Proves Unitàries amb Groovy">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mocking i Stubbing</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-debugging' title="Depuració de Codi Groovy">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem sobre les tècniques de mocking i stubbing en Groovy, que són essencials per a la realització de proves unitàries eficients i efectives. Aquestes tècniques ens permeten simular el comportament de components dependents per tal de provar el nostre codi de manera aïllada.</p>
</div><h1><p>Què és Mocking?</p>
</h1>
<div class='content'><p>Mocking és una tècnica utilitzada en les proves unitàries per crear objectes simulats que imiten el comportament dels objectes reals. Aquests objectes simulats, anomenats mocks, ens permeten definir el comportament esperat i verificar les interaccions amb altres components.</p>
</div><h2><p>Avantatges del Mocking</p>
</h2>
<div class='content'><ul>
<li><strong>Aïllament</strong>: Permet provar una unitat de codi sense dependre d'altres components.</li>
<li><strong>Control</strong>: Ens permet definir el comportament dels mocks per a diferents escenaris.</li>
<li><strong>Verificació</strong>: Podem verificar que les interaccions amb els mocks es realitzen correctament.</li>
</ul>
</div><h1><p>Què és Stubbing?</p>
</h1>
<div class='content'><p>Stubbing és una tècnica similar al mocking, però se centra en proporcionar respostes predefinides a les crides de mètodes. Els stubs són objectes simulats que retornen valors específics quan es criden els seus mètodes.</p>
</div><h2><p>Avantatges del Stubbing</p>
</h2>
<div class='content'><ul>
<li><strong>Simplicitat</strong>: Permet definir respostes senzilles per a les crides de mètodes.</li>
<li><strong>Determinisme</strong>: Ens assegura que les proves són deterministes, ja que les respostes són predefinides.</li>
</ul>
</div><h1><p>Eines de Mocking i Stubbing en Groovy</p>
</h1>
<div class='content'><p>Groovy ofereix diverses eines per a mocking i stubbing, sent les més populars:</p>
<ul>
<li><strong>Mockito</strong>: Una llibreria de mocking per a Java que també es pot utilitzar en Groovy.</li>
<li><strong>Spock</strong>: Un framework de proves per a Groovy que inclou suport integrat per a mocking i stubbing.</li>
</ul>
</div><h2><p>Exemple amb Mockito</p>
</h2>
<div class='content'><p>A continuació, veurem un exemple de com utilitzar Mockito per crear mocks i stubs en Groovy.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW1wb3J0ZW0gbGVzIGNsYXNzZXMgbmVjZXNzw6ByaWVzCmltcG9ydCBzdGF0aWMgb3JnLm1vY2tpdG8uTW9ja2l0by4qCmltcG9ydCBvcmcuanVuaXQuVGVzdAoKY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBAVGVzdAogICAgdm9pZCB0ZXN0R2V0VXNlcigpIHsKICAgICAgICAvLyBDcmVlbSB1biBtb2NrIGRlIGxhIGNsYXNzZSBVc2VyUmVwb3NpdG9yeQogICAgICAgIFVzZXJSZXBvc2l0b3J5IG1vY2tSZXBvc2l0b3J5ID0gbW9jayhVc2VyUmVwb3NpdG9yeS5jbGFzcykKCiAgICAgICAgLy8gRGVmaW5pbSBlbCBjb21wb3J0YW1lbnQgZGVsIG1vY2sgKHN0dWJiaW5nKQogICAgICAgIHdoZW4obW9ja1JlcG9zaXRvcnkuZmluZFVzZXJCeUlkKDEpKS50aGVuUmV0dXJuKG5ldyBVc2VyKGlkOiAxLCBuYW1lOiAiSm9obiBEb2UiKSkKCiAgICAgICAgLy8gQ3JlZW0gdW5hIGluc3TDoG5jaWEgZGUgbGEgY2xhc3NlIHF1ZSB2b2xlbSBwcm92YXIKICAgICAgICBVc2VyU2VydmljZSB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh1c2VyUmVwb3NpdG9yeTogbW9ja1JlcG9zaXRvcnkpCgogICAgICAgIC8vIENyaWRlbSBlbCBtw6h0b2RlIHF1ZSB2b2xlbSBwcm92YXIKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyU2VydmljZS5nZXRVc2VyKDEpCgogICAgICAgIC8vIFZlcmlmaXF1ZW0gZWwgcmVzdWx0YXQKICAgICAgICBhc3NlcnQgdXNlci5uYW1lID09ICJKb2huIERvZSIKCiAgICAgICAgLy8gVmVyaWZpcXVlbSBxdWUgZWwgbcOodG9kZSBmaW5kVXNlckJ5SWQgZXMgdmEgY3JpZGFyIHVuYSB2ZWdhZGEgYW1iIGVsIHBhcsOgbWV0cmUgMQogICAgICAgIHZlcmlmeShtb2NrUmVwb3NpdG9yeSwgdGltZXMoMSkpLmZpbmRVc2VyQnlJZCgxKQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Importem les classes necess&agrave;ries
import static org.mockito.Mockito.*
import org.junit.Test

class UserServiceTest {

    @Test
    void testGetUser() {
        // Creem un mock de la classe UserRepository
        UserRepository mockRepository = mock(UserRepository.class)

        // Definim el comportament del mock (stubbing)
        when(mockRepository.findUserById(1)).thenReturn(new User(id: 1, name: &quot;John Doe&quot;))

        // Creem una inst&agrave;ncia de la classe que volem provar
        UserService userService = new UserService(userRepository: mockRepository)

        // Cridem el m&egrave;tode que volem provar
        User user = userService.getUser(1)

        // Verifiquem el resultat
        assert user.name == &quot;John Doe&quot;

        // Verifiquem que el m&egrave;tode findUserById es va cridar una vegada amb el par&agrave;metre 1
        verify(mockRepository, times(1)).findUserById(1)
    }
}</pre></div><div class='content'></div><h2><p>Exemple amb Spock</p>
</h2>
<div class='content'><p>A continuació, veurem un exemple de com utilitzar Spock per crear mocks i stubs en Groovy.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHNwb2NrLmxhbmcuU3BlY2lmaWNhdGlvbgoKY2xhc3MgVXNlclNlcnZpY2VTcGVjIGV4dGVuZHMgU3BlY2lmaWNhdGlvbiB7CgogICAgZGVmICJ0ZXN0IGdldFVzZXIiKCkgewogICAgICAgIGdpdmVuOgogICAgICAgIC8vIENyZWVtIHVuIG1vY2sgZGUgbGEgY2xhc3NlIFVzZXJSZXBvc2l0b3J5CiAgICAgICAgVXNlclJlcG9zaXRvcnkgbW9ja1JlcG9zaXRvcnkgPSBNb2NrKFVzZXJSZXBvc2l0b3J5KQoKICAgICAgICAvLyBEZWZpbmltIGVsIGNvbXBvcnRhbWVudCBkZWwgbW9jayAoc3R1YmJpbmcpCiAgICAgICAgbW9ja1JlcG9zaXRvcnkuZmluZFVzZXJCeUlkKDEpID4+IG5ldyBVc2VyKGlkOiAxLCBuYW1lOiAiSm9obiBEb2UiKQoKICAgICAgICAvLyBDcmVlbSB1bmEgaW5zdMOgbmNpYSBkZSBsYSBjbGFzc2UgcXVlIHZvbGVtIHByb3ZhcgogICAgICAgIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHVzZXJSZXBvc2l0b3J5OiBtb2NrUmVwb3NpdG9yeSkKCiAgICAgICAgd2hlbjoKICAgICAgICAvLyBDcmlkZW0gZWwgbcOodG9kZSBxdWUgdm9sZW0gcHJvdmFyCiAgICAgICAgVXNlciB1c2VyID0gdXNlclNlcnZpY2UuZ2V0VXNlcigxKQoKICAgICAgICB0aGVuOgogICAgICAgIC8vIFZlcmlmaXF1ZW0gZWwgcmVzdWx0YXQKICAgICAgICB1c2VyLm5hbWUgPT0gIkpvaG4gRG9lIgoKICAgICAgICAvLyBWZXJpZmlxdWVtIHF1ZSBlbCBtw6h0b2RlIGZpbmRVc2VyQnlJZCBlcyB2YSBjcmlkYXIgdW5hIHZlZ2FkYSBhbWIgZWwgcGFyw6BtZXRyZSAxCiAgICAgICAgMSAqIG1vY2tSZXBvc2l0b3J5LmZpbmRVc2VyQnlJZCgxKQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import spock.lang.Specification

class UserServiceSpec extends Specification {

    def &quot;test getUser&quot;() {
        given:
        // Creem un mock de la classe UserRepository
        UserRepository mockRepository = Mock(UserRepository)

        // Definim el comportament del mock (stubbing)
        mockRepository.findUserById(1) &gt;&gt; new User(id: 1, name: &quot;John Doe&quot;)

        // Creem una inst&agrave;ncia de la classe que volem provar
        UserService userService = new UserService(userRepository: mockRepository)

        when:
        // Cridem el m&egrave;tode que volem provar
        User user = userService.getUser(1)

        then:
        // Verifiquem el resultat
        user.name == &quot;John Doe&quot;

        // Verifiquem que el m&egrave;tode findUserById es va cridar una vegada amb el par&agrave;metre 1
        1 * mockRepository.findUserById(1)
    }
}</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Mocking amb Mockito</p>
</h2>
<div class='content'><ol>
<li>Crea una classe <code>OrderService</code> amb un mètode <code>placeOrder</code> que depengui d'una classe <code>PaymentService</code>.</li>
<li>Utilitza Mockito per crear un mock de <code>PaymentService</code> i defineix el comportament del mètode <code>processPayment</code>.</li>
<li>Prova el mètode <code>placeOrder</code> de <code>OrderService</code> utilitzant el mock de <code>PaymentService</code>.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGF5bWVudFNlcnZpY2UgewogICAgYm9vbGVhbiBwcm9jZXNzUGF5bWVudChkb3VibGUgYW1vdW50KSB7CiAgICAgICAgLy8gSW1wbGVtZW50YWNpw7MgcmVhbAogICAgfQp9CgpjbGFzcyBPcmRlclNlcnZpY2UgewogICAgUGF5bWVudFNlcnZpY2UgcGF5bWVudFNlcnZpY2UKCiAgICBib29sZWFuIHBsYWNlT3JkZXIoZG91YmxlIGFtb3VudCkgewogICAgICAgIHJldHVybiBwYXltZW50U2VydmljZS5wcm9jZXNzUGF5bWVudChhbW91bnQpCiAgICB9Cn0KCmltcG9ydCBzdGF0aWMgb3JnLm1vY2tpdG8uTW9ja2l0by4qCmltcG9ydCBvcmcuanVuaXQuVGVzdAoKY2xhc3MgT3JkZXJTZXJ2aWNlVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdFBsYWNlT3JkZXIoKSB7CiAgICAgICAgLy8gQ3JlZW0gdW4gbW9jayBkZSBsYSBjbGFzc2UgUGF5bWVudFNlcnZpY2UKICAgICAgICBQYXltZW50U2VydmljZSBtb2NrUGF5bWVudFNlcnZpY2UgPSBtb2NrKFBheW1lbnRTZXJ2aWNlLmNsYXNzKQoKICAgICAgICAvLyBEZWZpbmltIGVsIGNvbXBvcnRhbWVudCBkZWwgbW9jayAoc3R1YmJpbmcpCiAgICAgICAgd2hlbihtb2NrUGF5bWVudFNlcnZpY2UucHJvY2Vzc1BheW1lbnQoMTAwLjApKS50aGVuUmV0dXJuKHRydWUpCgogICAgICAgIC8vIENyZWVtIHVuYSBpbnN0w6BuY2lhIGRlIGxhIGNsYXNzZSBxdWUgdm9sZW0gcHJvdmFyCiAgICAgICAgT3JkZXJTZXJ2aWNlIG9yZGVyU2VydmljZSA9IG5ldyBPcmRlclNlcnZpY2UocGF5bWVudFNlcnZpY2U6IG1vY2tQYXltZW50U2VydmljZSkKCiAgICAgICAgLy8gQ3JpZGVtIGVsIG3DqHRvZGUgcXVlIHZvbGVtIHByb3ZhcgogICAgICAgIGJvb2xlYW4gcmVzdWx0ID0gb3JkZXJTZXJ2aWNlLnBsYWNlT3JkZXIoMTAwLjApCgogICAgICAgIC8vIFZlcmlmaXF1ZW0gZWwgcmVzdWx0YXQKICAgICAgICBhc3NlcnQgcmVzdWx0ID09IHRydWUKCiAgICAgICAgLy8gVmVyaWZpcXVlbSBxdWUgZWwgbcOodG9kZSBwcm9jZXNzUGF5bWVudCBlcyB2YSBjcmlkYXIgdW5hIHZlZ2FkYSBhbWIgZWwgcGFyw6BtZXRyZSAxMDAuMAogICAgICAgIHZlcmlmeShtb2NrUGF5bWVudFNlcnZpY2UsIHRpbWVzKDEpKS5wcm9jZXNzUGF5bWVudCgxMDAuMCkKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class PaymentService {
    boolean processPayment(double amount) {
        // Implementaci&oacute; real
    }
}

class OrderService {
    PaymentService paymentService

    boolean placeOrder(double amount) {
        return paymentService.processPayment(amount)
    }
}

import static org.mockito.Mockito.*
import org.junit.Test

class OrderServiceTest {

    @Test
    void testPlaceOrder() {
        // Creem un mock de la classe PaymentService
        PaymentService mockPaymentService = mock(PaymentService.class)

        // Definim el comportament del mock (stubbing)
        when(mockPaymentService.processPayment(100.0)).thenReturn(true)

        // Creem una inst&agrave;ncia de la classe que volem provar
        OrderService orderService = new OrderService(paymentService: mockPaymentService)

        // Cridem el m&egrave;tode que volem provar
        boolean result = orderService.placeOrder(100.0)

        // Verifiquem el resultat
        assert result == true

        // Verifiquem que el m&egrave;tode processPayment es va cridar una vegada amb el par&agrave;metre 100.0
        verify(mockPaymentService, times(1)).processPayment(100.0)
    }
}</pre></div><div class='content'></div><h2><p>Exercici 2: Mocking amb Spock</p>
</h2>
<div class='content'><ol>
<li>Crea una classe <code>InventoryService</code> amb un mètode <code>checkStock</code> que depengui d'una classe <code>Warehouse</code>.</li>
<li>Utilitza Spock per crear un mock de <code>Warehouse</code> i defineix el comportament del mètode <code>getStock</code>.</li>
<li>Prova el mètode <code>checkStock</code> de <code>InventoryService</code> utilitzant el mock de <code>Warehouse</code>.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgV2FyZWhvdXNlIHsKICAgIGludCBnZXRTdG9jayhTdHJpbmcgaXRlbSkgewogICAgICAgIC8vIEltcGxlbWVudGFjacOzIHJlYWwKICAgIH0KfQoKY2xhc3MgSW52ZW50b3J5U2VydmljZSB7CiAgICBXYXJlaG91c2Ugd2FyZWhvdXNlCgogICAgYm9vbGVhbiBjaGVja1N0b2NrKFN0cmluZyBpdGVtLCBpbnQgcmVxdWlyZWRRdWFudGl0eSkgewogICAgICAgIHJldHVybiB3YXJlaG91c2UuZ2V0U3RvY2soaXRlbSkgPj0gcmVxdWlyZWRRdWFudGl0eQogICAgfQp9CgppbXBvcnQgc3BvY2subGFuZy5TcGVjaWZpY2F0aW9uCgpjbGFzcyBJbnZlbnRvcnlTZXJ2aWNlU3BlYyBleHRlbmRzIFNwZWNpZmljYXRpb24gewoKICAgIGRlZiAidGVzdCBjaGVja1N0b2NrIigpIHsKICAgICAgICBnaXZlbjoKICAgICAgICAvLyBDcmVlbSB1biBtb2NrIGRlIGxhIGNsYXNzZSBXYXJlaG91c2UKICAgICAgICBXYXJlaG91c2UgbW9ja1dhcmVob3VzZSA9IE1vY2soV2FyZWhvdXNlKQoKICAgICAgICAvLyBEZWZpbmltIGVsIGNvbXBvcnRhbWVudCBkZWwgbW9jayAoc3R1YmJpbmcpCiAgICAgICAgbW9ja1dhcmVob3VzZS5nZXRTdG9jaygiaXRlbTEiKSA+PiAxMAoKICAgICAgICAvLyBDcmVlbSB1bmEgaW5zdMOgbmNpYSBkZSBsYSBjbGFzc2UgcXVlIHZvbGVtIHByb3ZhcgogICAgICAgIEludmVudG9yeVNlcnZpY2UgaW52ZW50b3J5U2VydmljZSA9IG5ldyBJbnZlbnRvcnlTZXJ2aWNlKHdhcmVob3VzZTogbW9ja1dhcmVob3VzZSkKCiAgICAgICAgd2hlbjoKICAgICAgICAvLyBDcmlkZW0gZWwgbcOodG9kZSBxdWUgdm9sZW0gcHJvdmFyCiAgICAgICAgYm9vbGVhbiByZXN1bHQgPSBpbnZlbnRvcnlTZXJ2aWNlLmNoZWNrU3RvY2soIml0ZW0xIiwgNSkKCiAgICAgICAgdGhlbjoKICAgICAgICAvLyBWZXJpZmlxdWVtIGVsIHJlc3VsdGF0CiAgICAgICAgcmVzdWx0ID09IHRydWUKCiAgICAgICAgLy8gVmVyaWZpcXVlbSBxdWUgZWwgbcOodG9kZSBnZXRTdG9jayBlcyB2YSBjcmlkYXIgdW5hIHZlZ2FkYSBhbWIgZWwgcGFyw6BtZXRyZSAiaXRlbTEiCiAgICAgICAgMSAqIG1vY2tXYXJlaG91c2UuZ2V0U3RvY2soIml0ZW0xIikKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Warehouse {
    int getStock(String item) {
        // Implementaci&oacute; real
    }
}

class InventoryService {
    Warehouse warehouse

    boolean checkStock(String item, int requiredQuantity) {
        return warehouse.getStock(item) &gt;= requiredQuantity
    }
}

import spock.lang.Specification

class InventoryServiceSpec extends Specification {

    def &quot;test checkStock&quot;() {
        given:
        // Creem un mock de la classe Warehouse
        Warehouse mockWarehouse = Mock(Warehouse)

        // Definim el comportament del mock (stubbing)
        mockWarehouse.getStock(&quot;item1&quot;) &gt;&gt; 10

        // Creem una inst&agrave;ncia de la classe que volem provar
        InventoryService inventoryService = new InventoryService(warehouse: mockWarehouse)

        when:
        // Cridem el m&egrave;tode que volem provar
        boolean result = inventoryService.checkStock(&quot;item1&quot;, 5)

        then:
        // Verifiquem el resultat
        result == true

        // Verifiquem que el m&egrave;tode getStock es va cridar una vegada amb el par&agrave;metre &quot;item1&quot;
        1 * mockWarehouse.getStock(&quot;item1&quot;)
    }
}</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après sobre les tècniques de mocking i stubbing en Groovy, així com les eines disponibles per implementar-les. Hem vist exemples pràctics utilitzant Mockito i Spock, i hem realitzat exercicis per reforçar els conceptes apresos. Aquestes tècniques són essencials per a la realització de proves unitàries efectives, ja que ens permeten aïllar el codi que volem provar i controlar el comportament dels components dependents.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-unit-testing' title="Proves Unitàries amb Groovy">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-debugging' title="Depuració de Codi Groovy">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
