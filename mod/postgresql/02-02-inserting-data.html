<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inserint dades</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/02-02-inserting-data" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/02-02-inserting-data" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/02-02-inserting-data" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/postgresql/02-02-inserting-data" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/postgresql/02-02-inserting-data" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-creating-databases-and-tables' title="Creant bases de dades i taules">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Inserint dades</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-querying-data' title="Consultant dades">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com inserir dades en les taules de PostgreSQL. Aquesta és una operació fonamental que permet afegir informació a la base de dades per a la seva posterior consulta i manipulació.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><a href="#sintaxi-bàsica-de-insert">Sintaxi bàsica de <code>INSERT</code></a></li>
<li><a href="#inserint-múltiples-files">Inserint múltiples files</a></li>
<li><a href="#inserint-dades-amb-returning">Inserint dades amb <code>RETURNING</code></a></li>
<li><a href="#inserint-dades-des-duna-altra-taula">Inserint dades des d'una altra taula</a></li>
<li><a href="#exercicis-pràctics">Exercicis pràctics</a></li>
</ol>
</div><h1>Sintaxi bàsica de `INSERT`</h1>
<div class='content'><p>La sintaxi bàsica per inserir dades en una taula és la següent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gbm9tX3RhdWxhIChjb2x1bW5hMSwgY29sdW1uYTIsIGNvbHVtbmEzLCAuLi4pClZBTFVFUyAodmFsb3IxLCB2YWxvcjIsIHZhbG9yMywgLi4uKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO nom_taula (columna1, columna2, columna3, ...)
VALUES (valor1, valor2, valor3, ...);</pre></div><div class='content'></div><h2>Exemple</h2>
<div class='content'><p>Suposem que tenim una taula anomenada <code>empleats</code> amb les següents columnes: <code>id</code>, <code>nom</code>, <code>càrrec</code> i <code>salari</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGVtcGxlYXRzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5vbSBWQVJDSEFSKDEwMCksCiAgICBjw6BycmVjIFZBUkNIQVIoNTApLAogICAgc2FsYXJpIE5VTUVSSUMKKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE empleats (
    id SERIAL PRIMARY KEY,
    nom VARCHAR(100),
    c&agrave;rrec VARCHAR(50),
    salari NUMERIC
);</pre></div><div class='content'><p>Per inserir un nou empleat en aquesta taula, utilitzem la següent instrucció:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gZW1wbGVhdHMgKG5vbSwgY8OgcnJlYywgc2FsYXJpKQpWQUxVRVMgKCdKb2FuIFDDqXJleicsICdFbmdpbnllcicsIDUwMDAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO empleats (nom, c&agrave;rrec, salari)
VALUES ('Joan P&eacute;rez', 'Enginyer', 50000);</pre></div><div class='content'></div><h1>Inserint múltiples files</h1>
<div class='content'><p>És possible inserir múltiples files en una sola instrucció <code>INSERT</code>. Això pot ser útil per millorar l'eficiència quan necessitem afegir diverses files alhora.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gZW1wbGVhdHMgKG5vbSwgY8OgcnJlYywgc2FsYXJpKQpWQUxVRVMgCiAgICAoJ0FubmEgR2FyY2lhJywgJ0FuYWxpc3RhJywgNDUwMDApLAogICAgKCdNYXJjIEzDs3BleicsICdEZXNlbnZvbHVwYWRvcicsIDU1MDAwKSwKICAgICgnTGF1cmEgTWFydMOtbmV6JywgJ0dlcmVudCcsIDcwMDAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO empleats (nom, c&agrave;rrec, salari)
VALUES 
    ('Anna Garcia', 'Analista', 45000),
    ('Marc L&oacute;pez', 'Desenvolupador', 55000),
    ('Laura Mart&iacute;nez', 'Gerent', 70000);</pre></div><div class='content'></div><h1>Inserint dades amb `RETURNING`</h1>
<div class='content'><p>La clàusula <code>RETURNING</code> permet retornar valors de les files que s'han inserit. Això és especialment útil quan necessitem obtenir l'ID generat automàticament per una columna <code>SERIAL</code>.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gZW1wbGVhdHMgKG5vbSwgY8OgcnJlYywgc2FsYXJpKQpWQUxVRVMgKCdDYXJsZXMgVG9ycmVzJywgJ0NvbnN1bHRvcicsIDYwMDAwKQpSRVRVUk5JTkcgaWQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO empleats (nom, c&agrave;rrec, salari)
VALUES ('Carles Torres', 'Consultor', 60000)
RETURNING id;</pre></div><div class='content'><p>Aquest codi retornarà l'ID de la fila que s'ha inserit.</p>
</div><h1>Inserint dades des d'una altra taula</h1>
<div class='content'><p>Podem inserir dades en una taula seleccionant-les d'una altra taula. Això es fa utilitzant una instrucció <code>INSERT INTO ... SELECT</code>.</p>
</div><h2>Exemple</h2>
<div class='content'><p>Suposem que tenim una altra taula anomenada <code>nous_empleats</code> amb les mateixes columnes que la taula <code>empleats</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gZW1wbGVhdHMgKG5vbSwgY8OgcnJlYywgc2FsYXJpKQpTRUxFQ1Qgbm9tLCBjw6BycmVjLCBzYWxhcmkKRlJPTSBub3VzX2VtcGxlYXRzOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO empleats (nom, c&agrave;rrec, salari)
SELECT nom, c&agrave;rrec, salari
FROM nous_empleats;</pre></div><div class='content'></div><h1>Exercicis pràctics</h1>
<div class='content'></div><h2>Exercici 1</h2>
<div class='content'><p>Crea una taula anomenada <code>productes</code> amb les següents columnes: <code>id</code> (SERIAL, PRIMARY KEY), <code>nom</code> (VARCHAR(100)), <code>preu</code> (NUMERIC) i <code>quantitat</code> (INTEGER). Inserta tres productes en aquesta taula.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHByb2R1Y3RlcyAoCiAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksCiAgICBub20gVkFSQ0hBUigxMDApLAogICAgcHJldSBOVU1FUklDLAogICAgcXVhbnRpdGF0IElOVEVHRVIKKTsKCklOU0VSVCBJTlRPIHByb2R1Y3RlcyAobm9tLCBwcmV1LCBxdWFudGl0YXQpClZBTFVFUyAKICAgICgnT3JkaW5hZG9yJywgMTAwMCwgMTApLAogICAgKCdSYXRvbMOtJywgMjAsIDUwKSwKICAgICgnVGVjbGF0JywgMzAsIDMwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE productes (
    id SERIAL PRIMARY KEY,
    nom VARCHAR(100),
    preu NUMERIC,
    quantitat INTEGER
);

INSERT INTO productes (nom, preu, quantitat)
VALUES 
    ('Ordinador', 1000, 10),
    ('Ratol&iacute;', 20, 50),
    ('Teclat', 30, 30);</pre></div><div class='content'></div><h2>Exercici 2</h2>
<div class='content'><p>Utilitza la clàusula <code>RETURNING</code> per inserir un nou producte en la taula <code>productes</code> i retorna l'ID del producte inserit.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gcHJvZHVjdGVzIChub20sIHByZXUsIHF1YW50aXRhdCkKVkFMVUVTICgnTW9uaXRvcicsIDE1MCwgMjApClJFVFVSTklORyBpZDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO productes (nom, preu, quantitat)
VALUES ('Monitor', 150, 20)
RETURNING id;</pre></div><div class='content'></div><h2>Exercici 3</h2>
<div class='content'><p>Crea una taula anomenada <code>nous_productes</code> amb les mateixes columnes que la taula <code>productes</code>. Inserta dos productes en aquesta taula i després copia aquests productes a la taula <code>productes</code>.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIG5vdXNfcHJvZHVjdGVzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5vbSBWQVJDSEFSKDEwMCksCiAgICBwcmV1IE5VTUVSSUMsCiAgICBxdWFudGl0YXQgSU5URUdFUgopOwoKSU5TRVJUIElOVE8gbm91c19wcm9kdWN0ZXMgKG5vbSwgcHJldSwgcXVhbnRpdGF0KQpWQUxVRVMgCiAgICAoJ0ltcHJlc3NvcmEnLCAyMDAsIDE1KSwKICAgICgnRXNjw6BuZXInLCAxMDAsIDI1KTsKCklOU0VSVCBJTlRPIHByb2R1Y3RlcyAobm9tLCBwcmV1LCBxdWFudGl0YXQpClNFTEVDVCBub20sIHByZXUsIHF1YW50aXRhdApGUk9NIG5vdXNfcHJvZHVjdGVzOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE nous_productes (
    id SERIAL PRIMARY KEY,
    nom VARCHAR(100),
    preu NUMERIC,
    quantitat INTEGER
);

INSERT INTO nous_productes (nom, preu, quantitat)
VALUES 
    ('Impressora', 200, 15),
    ('Esc&agrave;ner', 100, 25);

INSERT INTO productes (nom, preu, quantitat)
SELECT nom, preu, quantitat
FROM nous_productes;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après com inserir dades en les taules de PostgreSQL utilitzant la instrucció <code>INSERT</code>. Hem vist com inserir una sola fila, múltiples files, utilitzar la clàusula <code>RETURNING</code> i inserir dades des d'una altra taula. Aquests conceptes són fonamentals per gestionar les dades en una base de dades PostgreSQL. En el proper tema, explorarem com consultar dades utilitzant la instrucció <code>SELECT</code>.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-creating-databases-and-tables' title="Creant bases de dades i taules">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-querying-data' title="Consultant dades">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
