<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Vacuuming i manteniment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/06-04-vacuuming-and-maintenance" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/06-04-vacuuming-and-maintenance" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/06-04-vacuuming-and-maintenance" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "languages";
  		var MOD_NAME = "postgresql";
  		var TEMA_NAME = "6-4";
  		var TYPE = "mod";
  		var PATH = "mod/postgresql/06-04-vacuuming-and-maintenance";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.49d891d32f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/postgresql/06-04-vacuuming-and-maintenance" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/postgresql/06-04-vacuuming-and-maintenance" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="postgresql">
		<a  href="#" class="text-secondary d-none" data-read-mod="postgresql" data-read-unit="6-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="postgresql" data-unread-unit="6-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-03-analyzing-query-performance' title="Analitzant el rendiment de les consultes" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-03-analyzing-query-performance' title="Analitzant el rendiment de les consultes" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Vacuuming i manteniment</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-01-user-roles-and-permissions' title="Rols d'usuari i permisos" class="py-2 px-3 btn btn-primary"
				data-read-mod="postgresql" data-read-unit="6-4">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-01-user-roles-and-permissions' title="Rols d'usuari i permisos" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postgresql" data-read-unit="6-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest tema, explorarem les tècniques de manteniment de bases de dades en PostgreSQL, amb un enfocament especial en l'ús de la comanda <code>VACUUM</code>. El manteniment regular és crucial per assegurar que la base de dades funcioni de manera eficient i per evitar problemes de rendiment a llarg termini.</p>
</div><h1>Què és el Vacuuming?</h1>
<div class='content'><p>El vacuuming és el procés de neteja de les taules de la base de dades per eliminar les files que ja no són necessàries. Aquestes files poden ser el resultat de transaccions que han estat eliminades o actualitzades. PostgreSQL no elimina immediatament aquestes files per permetre la concurrència i la recuperació de transaccions.</p>
</div><h2>Tipus de Vacuuming</h2>
<div class='content'><ol>
<li><strong>VACUUM</strong>: Neteja les files obsoletes però no retorna l'espai lliure al sistema operatiu.</li>
<li><strong>VACUUM FULL</strong>: Neteja les files obsoletes i retorna l'espai lliure al sistema operatiu. Aquest procés és més lent i requereix un bloqueig exclusiu de la taula.</li>
</ol>
</div><h1>Comanda VACUUM</h1>
<div class='content'></div><h2>Sintaxi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VkFDVVVNIFtGVUxMXSBbRlJFRVpFXSBbVkVSQk9TRV0gW0FOQUxZWkVdIFt0YWJsZV9uYW1lXTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>VACUUM [FULL] [FREEZE] [VERBOSE] [ANALYZE] [table_name];</pre></div><div class='content'></div><h2>Opcions</h2>
<div class='content'><ul>
<li><strong>FULL</strong>: Realitza un vacuuming complet.</li>
<li><strong>FREEZE</strong>: Congela les transaccions antigues per evitar problemes de wraparound.</li>
<li><strong>VERBOSE</strong>: Proporciona informació detallada sobre el procés de vacuuming.</li>
<li><strong>ANALYZE</strong>: Actualitza les estadístiques de la taula després del vacuuming.</li>
</ul>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUmVhbGl0emEgdW4gdmFjdXVtaW5nIGLDoHNpYwpWQUNVVU07CgotLSBSZWFsaXR6YSB1biB2YWN1dW1pbmcgY29tcGxldCBhbWIgaW5mb3JtYWNpw7MgZGV0YWxsYWRhClZBQ1VVTSBGVUxMIFZFUkJPU0U7CgotLSBSZWFsaXR6YSB1biB2YWN1dW1pbmcgaSBhY3R1YWxpdHphIGxlcyBlc3RhZMOtc3RpcXVlcyBkZSBsYSB0YXVsYSAnZW1wbG95ZWVzJwpWQUNVVU0gQU5BTFlaRSBlbXBsb3llZXM7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Realitza un vacuuming b&agrave;sic
VACUUM;

-- Realitza un vacuuming complet amb informaci&oacute; detallada
VACUUM FULL VERBOSE;

-- Realitza un vacuuming i actualitza les estad&iacute;stiques de la taula 'employees'
VACUUM ANALYZE employees;</pre></div><div class='content'></div><h1>Manteniment Regular</h1>
<div class='content'></div><h2>Autovacuum</h2>
<div class='content'><p>PostgreSQL inclou una funcionalitat automàtica anomenada <code>autovacuum</code>, que s'encarrega de realitzar el vacuuming de manera automàtica. Aquesta funcionalitat és molt útil per mantenir la base de dades en bon estat sense necessitat d'intervenció manual constant.</p>
<h4>Configuració de l'Autovacuum</h4>
<p>La configuració de l'autovacuum es pot ajustar en el fitxer <code>postgresql.conf</code>. A continuació es mostren algunes de les opcions més importants:</p>
<ul>
<li><strong>autovacuum</strong>: Activa o desactiva l'autovacuum.</li>
<li><strong>autovacuum_naptime</strong>: Interval de temps entre les execucions de l'autovacuum.</li>
<li><strong>autovacuum_vacuum_threshold</strong>: Nombre mínim de files modificades abans de realitzar un vacuuming.</li>
<li><strong>autovacuum_analyze_threshold</strong>: Nombre mínim de files modificades abans de realitzar un analyze.</li>
</ul>
</div><h2>Exemple de Configuració</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBY3RpdmEgbCdhdXRvdmFjdXVtCmF1dG92YWN1dW0gPSBvbgoKIyBJbnRlcnZhbCBkZSB0ZW1wcyBlbnRyZSBleGVjdWNpb25zIChlbiBzZWdvbnMpCmF1dG92YWN1dW1fbmFwdGltZSA9IDYwCgojIExsaW5kYXIgZGUgZmlsZXMgbW9kaWZpY2FkZXMgcGVyIGEgdmFjdXVtaW5nCmF1dG92YWN1dW1fdmFjdXVtX3RocmVzaG9sZCA9IDUwCgojIExsaW5kYXIgZGUgZmlsZXMgbW9kaWZpY2FkZXMgcGVyIGEgYW5hbHl6ZQphdXRvdmFjdXVtX2FuYWx5emVfdGhyZXNob2xkID0gNTA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Activa l'autovacuum
autovacuum = on

# Interval de temps entre execucions (en segons)
autovacuum_naptime = 60

# Llindar de files modificades per a vacuuming
autovacuum_vacuum_threshold = 50

# Llindar de files modificades per a analyze
autovacuum_analyze_threshold = 50</pre></div><div class='content'></div><h1>Altres Tècniques de Manteniment</h1>
<div class='content'></div><h2>Reindexació</h2>
<div class='content'><p>La reindexació és el procés de reconstruir els índexs d'una taula per millorar el rendiment de les consultes. Es pot realitzar amb la comanda <code>REINDEX</code>.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUmVpbmRleGEgdW5hIHRhdWxhIGVzcGVjw61maWNhClJFSU5ERVggVEFCTEUgZW1wbG95ZWVzOwoKLS0gUmVpbmRleGEgdG90YSBsYSBiYXNlIGRlIGRhZGVzClJFSU5ERVggREFUQUJBU0UgbXlkYXRhYmFzZTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Reindexa una taula espec&iacute;fica
REINDEX TABLE employees;

-- Reindexa tota la base de dades
REINDEX DATABASE mydatabase;</pre></div><div class='content'></div><h2>Anàlisi de Taules</h2>
<div class='content'><p>L'anàlisi de taules actualitza les estadístiques utilitzades pel planificador de consultes per optimitzar les consultes SQL. Es pot realitzar amb la comanda <code>ANALYZE</code>.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQW5hbGl0emEgdW5hIHRhdWxhIGVzcGVjw61maWNhCkFOQUxZWkUgZW1wbG95ZWVzOwoKLS0gQW5hbGl0emEgdG90YSBsYSBiYXNlIGRlIGRhZGVzCkFOQUxZWkU7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Analitza una taula espec&iacute;fica
ANALYZE employees;

-- Analitza tota la base de dades
ANALYZE;</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Realitzar un Vacuuming Bàsic</h2>
<div class='content'><ol>
<li>Crea una taula i insereix algunes files.</li>
<li>Elimina algunes de les files.</li>
<li>Realitza un vacuuming bàsic de la taula.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYSB1bmEgdGF1bGEKQ1JFQVRFIFRBQkxFIHRlc3RfdGFibGUgKAogICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgbmFtZSBWQVJDSEFSKDUwKQopOwoKLS0gSW5zZXJlaXggYWxndW5lcyBmaWxlcwpJTlNFUlQgSU5UTyB0ZXN0X3RhYmxlIChuYW1lKSBWQUxVRVMgKCdBbGljZScpLCAoJ0JvYicpLCAoJ0NoYXJsaWUnKTsKCi0tIEVsaW1pbmEgYWxndW5lcyBmaWxlcwpERUxFVEUgRlJPTSB0ZXN0X3RhYmxlIFdIRVJFIG5hbWUgPSAnQm9iJzsKCi0tIFJlYWxpdHphIHVuIHZhY3V1bWluZyBiw6BzaWMKVkFDVVVNIHRlc3RfdGFibGU7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Crea una taula
CREATE TABLE test_table (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50)
);

-- Insereix algunes files
INSERT INTO test_table (name) VALUES ('Alice'), ('Bob'), ('Charlie');

-- Elimina algunes files
DELETE FROM test_table WHERE name = 'Bob';

-- Realitza un vacuuming b&agrave;sic
VACUUM test_table;</pre></div><div class='content'></div><h2>Exercici 2: Configurar l'Autovacuum</h2>
<div class='content'><ol>
<li>Activa l'autovacuum en el fitxer <code>postgresql.conf</code>.</li>
<li>Ajusta l'interval de temps entre execucions a 30 segons.</li>
<li>Estableix el llindar de files modificades per a vacuuming a 100.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBY3RpdmEgbCdhdXRvdmFjdXVtCmF1dG92YWN1dW0gPSBvbgoKIyBJbnRlcnZhbCBkZSB0ZW1wcyBlbnRyZSBleGVjdWNpb25zIChlbiBzZWdvbnMpCmF1dG92YWN1dW1fbmFwdGltZSA9IDMwCgojIExsaW5kYXIgZGUgZmlsZXMgbW9kaWZpY2FkZXMgcGVyIGEgdmFjdXVtaW5nCmF1dG92YWN1dW1fdmFjdXVtX3RocmVzaG9sZCA9IDEwMA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Activa l'autovacuum
autovacuum = on

# Interval de temps entre execucions (en segons)
autovacuum_naptime = 30

# Llindar de files modificades per a vacuuming
autovacuum_vacuum_threshold = 100</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>El manteniment regular de la base de dades és essencial per assegurar un rendiment òptim i evitar problemes a llarg termini. El vacuuming, la reindexació i l'anàlisi de taules són tècniques clau que haurien de formar part de qualsevol estratègia de manteniment de bases de dades. Amb la configuració adequada de l'autovacuum, es pot automatitzar gran part d'aquest manteniment, permetent als administradors de bases de dades centrar-se en altres tasques crítiques.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-03-analyzing-query-performance' title="Analitzant el rendiment de les consultes" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-03-analyzing-query-performance' title="Analitzant el rendiment de les consultes" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-01-user-roles-and-permissions' title="Rols d'usuari i permisos" class="py-2 px-3 btn btn-primary"
				data-read-mod="postgresql" data-read-unit="6-4">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-01-user-roles-and-permissions' title="Rols d'usuari i permisos" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postgresql" data-read-unit="6-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de PostgreSQL</h1>
<h2>Mòdul 1: Introducció a PostgreSQL</h2>
<ul>
<li><a href="01-01-what-is-postgresql">Què és PostgreSQL?</a></li>
<li><a href="01-02-installing-postgresql">Instal·lant PostgreSQL</a></li>
<li><a href="01-03-basic-sql-concepts">Conceptes bàsics de SQL</a></li>
<li><a href="01-04-connecting-to-postgresql">Connectant-se a PostgreSQL</a></li>
</ul>
<h2>Mòdul 2: Operacions bàsiques de SQL</h2>
<ul>
<li><a href="02-01-creating-databases-and-tables">Creant bases de dades i taules</a></li>
<li><a href="02-02-inserting-data">Inserint dades</a></li>
<li><a href="02-03-querying-data">Consultant dades</a></li>
<li><a href="02-04-updating-data">Actualitzant dades</a></li>
<li><a href="02-05-deleting-data">Eliminant dades</a></li>
</ul>
<h2>Mòdul 3: Consultes SQL avançades</h2>
<ul>
<li><a href="03-01-joins">Unions</a></li>
<li><a href="03-02-subqueries">Subconsultes</a></li>
<li><a href="03-03-aggregate-functions">Funcions agregades</a></li>
<li><a href="03-04-window-functions">Funcions de finestra</a></li>
<li><a href="03-05-common-table-expressions">Expressions de taula comunes (CTEs)</a></li>
</ul>
<h2>Mòdul 4: Disseny de bases de dades i normalització</h2>
<ul>
<li><a href="04-01-database-design-principles">Principis de disseny de bases de dades</a></li>
<li><a href="04-02-normalization">Normalització</a></li>
<li><a href="04-03-primary-and-foreign-keys">Claus primàries i estrangeres</a></li>
<li><a href="04-04-indexes">Índexs</a></li>
</ul>
<h2>Mòdul 5: Funcionalitats avançades de PostgreSQL</h2>
<ul>
<li><a href="05-01-views">Vistes</a></li>
<li><a href="05-02-triggers">Triggers</a></li>
<li><a href="05-03-stored-procedures-and-functions">Procediments i funcions emmagatzemades</a></li>
<li><a href="05-04-transactions-and-concurrency">Transaccions i concurrència</a></li>
</ul>
<h2>Mòdul 6: Optimització i millora del rendiment</h2>
<ul>
<li><a href="06-01-query-optimization">Optimització de consultes</a></li>
<li><a href="06-02-indexing-strategies">Estratègies d'indexació</a></li>
<li><a href="06-03-analyzing-query-performance">Analitzant el rendiment de les consultes</a></li>
<li><a href="06-04-vacuuming-and-maintenance">Vacuuming i manteniment</a></li>
</ul>
<h2>Mòdul 7: Seguretat i gestió d'usuaris</h2>
<ul>
<li><a href="07-01-user-roles-and-permissions">Rols d'usuari i permisos</a></li>
<li><a href="07-02-authentication-methods">Mètodes d'autenticació</a></li>
<li><a href="07-03-data-encryption">Encriptació de dades</a></li>
<li><a href="07-04-backup-and-restore">Còpia de seguretat i restauració</a></li>
</ul>
<h2>Mòdul 8: Treballant amb JSON i funcionalitats NoSQL</h2>
<ul>
<li><a href="08-01-json-data-types">Tipus de dades JSON</a></li>
<li><a href="08-02-json-functions-and-operators">Funcions i operadors JSON</a></li>
<li><a href="08-03-using-postgresql-as-nosql">Utilitzant PostgreSQL com a base de dades NoSQL</a></li>
</ul>
<h2>Mòdul 9: Extensions i eines avançades</h2>
<ul>
<li><a href="09-01-postgis-for-geospatial-data">PostGIS per a dades geoespacials</a></li>
<li><a href="09-02-full-text-search">Cerca de text complet</a></li>
<li><a href="09-03-foreign-data-wrappers">Wrappers de dades externes</a></li>
<li><a href="09-04-plpgsql-and-other-procedural-languages">PL/pgSQL i altres llenguatges procedimentals</a></li>
</ul>
<h2>Mòdul 10: Estudis de cas i aplicacions del món real</h2>
<ul>
<li><a href="10-01-e-commerce-database-design">Disseny de bases de dades per a comerç electrònic</a></li>
<li><a href="10-02-data-warehousing-with-postgresql">Magatzem de dades amb PostgreSQL</a></li>
<li><a href="10-03-handling-big-data">Gestionant grans volums de dades</a></li>
<li><a href="10-04-postgresql-in-microservices-architecture">PostgreSQL en arquitectura de microserveis</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Correu electrònic</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Introdueix el teu correu electrònic">
</div>
<button class="btn btn-primary" id="btnRecover">Enviar enllaç de recuperació</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	Atenció! Estàs a punt d'eliminar totes les dades de registre i progrés.<br><b>Aquesta acció no es pot desfer.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Introdueix la teva contrasenya">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Eliminar usuari</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Introdueix la contrasenya actual">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Introdueix la nova contrasenya">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeteix la nova contrasenya">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Canviar la contrasenya</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Enviar enllaç de verificació</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Desconnectar</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Canviar la contrasenya</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Eliminar usuari</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Iniciar sessió
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Registrar-se
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Correu electrònic</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Introdueix el teu correu electrònic">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Contrasenya</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Introdueix la teva contrasenya">
</div>
<button class="btn btn-primary" id="btnLogin">Iniciar sessió</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Has oblidat la teva contrasenya?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Correu electrònic</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Introdueix el teu correu electrònic">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Contrasenya</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Introdueix la teva contrasenya">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Nom</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Introdueix el teu nom">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        He llegit i accepto la <a href="/privacity" target="blank">Política de Privacitat</a> i els <a href="/licence" target="blank">Termes i Condicions d'Ús</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        Vull rebre notícies i actualitzacions sobre els cursos (opcional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Registrar-se</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
