<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integració i Desplegament Continu</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/11-04-ci-cd" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/11-04-ci-cd" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/11-04-ci-cd" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/nodejs/11-04-ci-cd" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/nodejs/11-04-ci-cd" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='11-03-deploying-heroku' title="Desplegar a Heroku">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integració i Desplegament Continu</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='12-01-building-chat-app' title="Construir una Aplicació de Xat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem sobre la integració i desplegament continu (CI/CD), una pràctica essencial en el desenvolupament de programari modern que permet automatitzar el procés de construcció, prova i desplegament de les aplicacions. Això ajuda a garantir que el codi es mantingui en un estat desplegable en tot moment i que els canvis es puguin integrar i desplegar de manera ràpida i segura.</p>
</div><h1><p>Què és CI/CD?</p>
</h1>
<div class='content'></div><h2><p>Integració Contínua (CI)</p>
</h2>
<div class='content'><p>La integració contínua és una pràctica de desenvolupament de programari on els desenvolupadors integren el seu codi en un repositori compartit diverses vegades al dia. Cada integració es verifica mitjançant la construcció automàtica i l'execució de proves per detectar errors tan aviat com sigui possible.</p>
</div><h2><p>Desplegament Continu (CD)</p>
</h2>
<div class='content'><p>El desplegament continu és una extensió de la integració contínua que permet desplegar automàticament cada canvi que passa les proves en un entorn de producció. Això assegura que el programari estigui sempre en un estat desplegable i que els canvis es puguin lliurar als usuaris de manera ràpida i segura.</p>
</div><h1><p>Beneficis de CI/CD</p>
</h1>
<div class='content'><ul>
<li><strong>Detecció primerenca d'errors:</strong> Les proves automàtiques ajuden a detectar errors tan aviat com es produeixen.</li>
<li><strong>Desplegament ràpid i segur:</strong> Els canvis es poden desplegar de manera ràpida i segura gràcies a la automatització.</li>
<li><strong>Millora de la col·laboració:</strong> Els desenvolupadors poden integrar el seu codi de manera freqüent, millorant la col·laboració i reduint els conflictes de codi.</li>
<li><strong>Feedback ràpid:</strong> Els desenvolupadors reben feedback ràpid sobre l'estat del seu codi, permetent una resolució més ràpida dels problemes.</li>
</ul>
</div><h1><p>Configuració de CI/CD amb GitHub Actions</p>
</h1>
<div class='content'><p>GitHub Actions és una plataforma d'automatització que permet crear fluxos de treball personalitzats per construir, provar i desplegar el codi directament des de GitHub. A continuació, veurem com configurar un flux de treball bàsic de CI/CD per a una aplicació Node.js.</p>
</div><h2><p>Pas 1: Crear un Repositori de GitHub</p>
</h2>
<div class='content'><ol>
<li>Crea un nou repositori a GitHub.</li>
<li>Clona el repositori al teu ordinador local.</li>
</ol>
</div><h2><p>Pas 2: Configurar el Projecte Node.js</p>
</h2>
<div class='content'><ol>
<li>
<p>Inicialitza un nou projecte Node.js:</p>
<pre><code class="language-bash">npm init -y
</code></pre>
</li>
<li>
<p>Afegeix un fitxer <code>index.js</code> amb el següent contingut:</p>
<pre><code class="language-javascript">const http = require('http');

const server = http.createServer((req, res) =&gt; {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Hello, World!\n');
});

const PORT = process.env.PORT || 3000;
server.listen(PORT, () =&gt; {
    console.log(`Server running at http://localhost:${PORT}/`);
});
</code></pre>
</li>
<li>
<p>Afegeix un fitxer <code>test.js</code> per a les proves:</p>
<pre><code class="language-javascript">const assert = require('assert');

describe('Sample Test', () =&gt; {
    it('should return true', () =&gt; {
        assert.strictEqual(true, true);
    });
});
</code></pre>
</li>
<li>
<p>Afegeix les dependències de prova:</p>
<pre><code class="language-bash">npm install --save-dev mocha
</code></pre>
</li>
<li>
<p>Actualitza el <code>package.json</code> per incloure un script de prova:</p>
<pre><code class="language-json">&quot;scripts&quot;: {
    &quot;test&quot;: &quot;mocha&quot;
}
</code></pre>
</li>
</ol>
</div><h2><p>Pas 3: Configurar GitHub Actions</p>
</h2>
<div class='content'><ol>
<li>Crea una carpeta <code>.github/workflows</code> al directori arrel del teu projecte.</li>
<li>Afegeix un fitxer <code>ci.yml</code> amb el següent contingut:
<pre><code class="language-yaml">name: Node.js CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [12.x, 14.x, 16.x]

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: ${{ matrix.node-version }}

    - name: Install dependencies
      run: npm install

    - name: Run tests
      run: npm test
</code></pre>
</li>
</ol>
</div><h2><p>Pas 4: Provar la Configuració</p>
</h2>
<div class='content'><ol>
<li>
<p>Fes un commit i puja els canvis al repositori de GitHub:</p>
<pre><code class="language-bash">git add .
git commit -m &quot;Setup CI with GitHub Actions&quot;
git push origin main
</code></pre>
</li>
<li>
<p>Ves al teu repositori a GitHub i comprova la pestanya &quot;Actions&quot; per veure el flux de treball en execució.</p>
</li>
</ol>
</div><h1><p>Desplegament Automàtic amb Heroku</p>
</h1>
<div class='content'><p>Heroku és una plataforma de desplegament que permet desplegar aplicacions de manera fàcil i ràpida. A continuació, veurem com configurar el desplegament automàtic amb Heroku.</p>
</div><h2><p>Pas 1: Crear una Aplicació a Heroku</p>
</h2>
<div class='content'><ol>
<li>Crea un compte a <a href="https://www.heroku.com/">Heroku</a>.</li>
<li>Crea una nova aplicació des del tauler de control de Heroku.</li>
</ol>
</div><h2><p>Pas 2: Configurar el Desplegament Automàtic</p>
</h2>
<div class='content'><ol>
<li>Afegeix el repositori de GitHub a la teva aplicació de Heroku.</li>
<li>Configura el desplegament automàtic des de la pestanya &quot;Deploy&quot; de la teva aplicació de Heroku.</li>
</ol>
</div><h2><p>Pas 3: Provar el Desplegament</p>
</h2>
<div class='content'><ol>
<li>
<p>Fes un commit i puja els canvis al repositori de GitHub:</p>
<pre><code class="language-bash">git add .
git commit -m &quot;Setup automatic deployment with Heroku&quot;
git push origin main
</code></pre>
</li>
<li>
<p>Ves al tauler de control de Heroku i comprova que la teva aplicació s'ha desplegat correctament.</p>
</li>
</ol>
</div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Objectiu</p>
</h2>
<div class='content'><p>Configurar un flux de treball de CI/CD per a una aplicació Node.js que inclogui proves automàtiques i desplegament automàtic a Heroku.</p>
</div><h2><p>Passos</p>
</h2>
<div class='content'><ol>
<li>Crea un nou repositori de GitHub i inicialitza un projecte Node.js.</li>
<li>Configura GitHub Actions per executar les proves automàtiques.</li>
<li>Configura el desplegament automàtic a Heroku.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'><p>Segueix els passos detallats en aquesta secció per configurar el flux de treball de CI/CD.</p>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après sobre la integració i desplegament continu (CI/CD) i els seus beneficis. Hem configurat un flux de treball de CI/CD bàsic utilitzant GitHub Actions per a una aplicació Node.js i hem configurat el desplegament automàtic a Heroku. Aquestes pràctiques ajuden a garantir que el codi es mantingui en un estat desplegable en tot moment i que els canvis es puguin integrar i desplegar de manera ràpida i segura.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='11-03-deploying-heroku' title="Desplegar a Heroku">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='12-01-building-chat-app' title="Construir una Aplicació de Xat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
