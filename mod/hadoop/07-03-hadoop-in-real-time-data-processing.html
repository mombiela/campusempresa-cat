<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadoop en processament de dades en temps real</title>

    <link rel="alternate" href="https://campusempresa.com/mod/hadoop/07-03-hadoop-in-real-time-data-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/hadoop/07-03-hadoop-in-real-time-data-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/hadoop/07-03-hadoop-in-real-time-data-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/hadoop/07-03-hadoop-in-real-time-data-processing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/hadoop/07-03-hadoop-in-real-time-data-processing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-hadoop-in-machine-learning' title="Hadoop en aprenentatge automàtic">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Hadoop en processament de dades en temps real</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-case-studies-of-hadoop-implementations' title="Estudis de cas d'implementacions de Hadoop">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>El processament de dades en temps real és una necessitat creixent en moltes indústries, ja que permet prendre decisions ràpides basades en dades recents. Hadoop, tradicionalment conegut per processar grans volums de dades en lots, també pot ser utilitzat per al processament de dades en temps real amb l'ajuda de diverses eines de l'ecosistema Hadoop.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ol>
<li>Entendre els conceptes bàsics del processament de dades en temps real.</li>
<li>Conèixer les eines de l'ecosistema Hadoop que suporten el processament en temps real.</li>
<li>Aprendre a configurar i utilitzar aquestes eines per processar dades en temps real.</li>
</ol>
</div><h1>Conceptes Bàsics del Processament de Dades en Temps Real</h1>
<div class='content'><p>El processament de dades en temps real implica l'anàlisi i el processament de dades immediatament després de la seva generació. Això és crucial per a aplicacions com la detecció de fraus, la monitorització de sistemes, l'anàlisi de xarxes socials, etc.</p>
</div><h2>Diferències entre Processament en Lots i en Temps Real</h2>
<div class='content'><table>
<thead>
<tr>
<th>Característica</th>
<th>Processament en Lots</th>
<th>Processament en Temps Real</th>
</tr>
</thead>
<tbody>
<tr>
<td>Latència</td>
<td>Alta (minuts a hores)</td>
<td>Baixa (mil·lisegons a segons)</td>
</tr>
<tr>
<td>Volum de Dades</td>
<td>Gran</td>
<td>Variable</td>
</tr>
<tr>
<td>Tipus de Dades</td>
<td>Històriques</td>
<td>Recents o en temps real</td>
</tr>
<tr>
<td>Casos d'Ús</td>
<td>Anàlisi de dades històriques, informes</td>
<td>Monitorització, detecció de fraus</td>
</tr>
</tbody>
</table>
</div><h1>Eines de l'Ecosistema Hadoop per al Processament en Temps Real</h1>
<div class='content'></div><h2>Apache Kafka</h2>
<div class='content'><p>Apache Kafka és una plataforma de streaming distribuïda que permet publicar, subscriure's, emmagatzemar i processar fluxos de dades en temps real.</p>
<h4>Característiques Clau:</h4>
<ul>
<li>Alta rendibilitat i baixa latència.</li>
<li>Escalabilitat horitzontal.</li>
<li>Persistència de dades.</li>
</ul>
<h4>Exemple de Configuració de Kafka:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZXNjYXJyZWdhciBpIGV4dHJldXJlIEthZmthCndnZXQgaHR0cHM6Ly9kb3dubG9hZHMuYXBhY2hlLm9yZy9rYWZrYS8yLjguMC9rYWZrYV8yLjEzLTIuOC4wLnRnegp0YXIgLXh6ZiBrYWZrYV8yLjEzLTIuOC4wLnRnegpjZCBrYWZrYV8yLjEzLTIuOC4wCgojIEluaWNpYXIgZWwgc2Vydmlkb3IgWm9va2VlcGVyCmJpbi96b29rZWVwZXItc2VydmVyLXN0YXJ0LnNoIGNvbmZpZy96b29rZWVwZXIucHJvcGVydGllcwoKIyBJbmljaWFyIGVsIHNlcnZpZG9yIEthZmthCmJpbi9rYWZrYS1zZXJ2ZXItc3RhcnQuc2ggY29uZmlnL3NlcnZlci5wcm9wZXJ0aWVz"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Descarregar i extreure Kafka
wget https://downloads.apache.org/kafka/2.8.0/kafka_2.13-2.8.0.tgz
tar -xzf kafka_2.13-2.8.0.tgz
cd kafka_2.13-2.8.0

# Iniciar el servidor Zookeeper
bin/zookeeper-server-start.sh config/zookeeper.properties

# Iniciar el servidor Kafka
bin/kafka-server-start.sh config/server.properties</pre></div><div class='content'></div><h2>Apache Storm</h2>
<div class='content'><p>Apache Storm és un sistema de processament de fluxos en temps real que processa dades de manera distribuïda i paral·lela.</p>
<h4>Característiques Clau:</h4>
<ul>
<li>Processament de dades en temps real amb baixa latència.</li>
<li>Escalabilitat i tolerància a fallades.</li>
<li>Integració amb altres components de l'ecosistema Hadoop.</li>
</ul>
<h4>Exemple de Topologia de Storm:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUuc3Rvcm0uQ29uZmlnOwppbXBvcnQgb3JnLmFwYWNoZS5zdG9ybS5Mb2NhbENsdXN0ZXI7CmltcG9ydCBvcmcuYXBhY2hlLnN0b3JtLnRvcG9sb2d5LlRvcG9sb2d5QnVpbGRlcjsKaW1wb3J0IG9yZy5hcGFjaGUuc3Rvcm0udHVwbGUuRmllbGRzOwoKcHVibGljIGNsYXNzIFJlYWxUaW1lUHJvY2Vzc2luZ1RvcG9sb2d5IHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBUb3BvbG9neUJ1aWxkZXIgYnVpbGRlciA9IG5ldyBUb3BvbG9neUJ1aWxkZXIoKTsKICAgICAgICAKICAgICAgICBidWlsZGVyLnNldFNwb3V0KCJkYXRhLXNwb3V0IiwgbmV3IERhdGFTcG91dCgpKTsKICAgICAgICBidWlsZGVyLnNldEJvbHQoInByb2Nlc3NpbmctYm9sdCIsIG5ldyBQcm9jZXNzaW5nQm9sdCgpKS5zaHVmZmxlR3JvdXBpbmcoImRhdGEtc3BvdXQiKTsKICAgICAgICAKICAgICAgICBDb25maWcgY29uZmlnID0gbmV3IENvbmZpZygpOwogICAgICAgIGNvbmZpZy5zZXREZWJ1Zyh0cnVlKTsKICAgICAgICAKICAgICAgICBMb2NhbENsdXN0ZXIgY2x1c3RlciA9IG5ldyBMb2NhbENsdXN0ZXIoKTsKICAgICAgICBjbHVzdGVyLnN1Ym1pdFRvcG9sb2d5KCJyZWFsLXRpbWUtcHJvY2Vzc2luZy10b3BvbG9neSIsIGNvbmZpZywgYnVpbGRlci5jcmVhdGVUb3BvbG9neSgpKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.storm.Config;
import org.apache.storm.LocalCluster;
import org.apache.storm.topology.TopologyBuilder;
import org.apache.storm.tuple.Fields;

public class RealTimeProcessingTopology {
    public static void main(String[] args) {
        TopologyBuilder builder = new TopologyBuilder();
        
        builder.setSpout(&quot;data-spout&quot;, new DataSpout());
        builder.setBolt(&quot;processing-bolt&quot;, new ProcessingBolt()).shuffleGrouping(&quot;data-spout&quot;);
        
        Config config = new Config();
        config.setDebug(true);
        
        LocalCluster cluster = new LocalCluster();
        cluster.submitTopology(&quot;real-time-processing-topology&quot;, config, builder.createTopology());
    }
}</pre></div><div class='content'></div><h2>Apache Flink</h2>
<div class='content'><p>Apache Flink és una plataforma de processament de fluxos i lots que permet processar dades en temps real amb alta rendibilitat i baixa latència.</p>
<h4>Característiques Clau:</h4>
<ul>
<li>Processament de fluxos i lots.</li>
<li>Alta rendibilitat i baixa latència.</li>
<li>Suport per a processament d'esdeveniments complexos.</li>
</ul>
<h4>Exemple de Programa de Flink:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUuZmxpbmsuYXBpLmNvbW1vbi5mdW5jdGlvbnMuRmxhdE1hcEZ1bmN0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5mbGluay5hcGkuamF2YS50dXBsZS5UdXBsZTI7CmltcG9ydCBvcmcuYXBhY2hlLmZsaW5rLnN0cmVhbWluZy5hcGkuZGF0YXN0cmVhbS5EYXRhU3RyZWFtOwppbXBvcnQgb3JnLmFwYWNoZS5mbGluay5zdHJlYW1pbmcuYXBpLmVudmlyb25tZW50LlN0cmVhbUV4ZWN1dGlvbkVudmlyb25tZW50OwppbXBvcnQgb3JnLmFwYWNoZS5mbGluay51dGlsLkNvbGxlY3RvcjsKCnB1YmxpYyBjbGFzcyBSZWFsVGltZVByb2Nlc3NpbmcgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgZmluYWwgU3RyZWFtRXhlY3V0aW9uRW52aXJvbm1lbnQgZW52ID0gU3RyZWFtRXhlY3V0aW9uRW52aXJvbm1lbnQuZ2V0RXhlY3V0aW9uRW52aXJvbm1lbnQoKTsKICAgICAgICAKICAgICAgICBEYXRhU3RyZWFtPFN0cmluZz4gdGV4dCA9IGVudi5zb2NrZXRUZXh0U3RyZWFtKCJsb2NhbGhvc3QiLCA5OTk5KTsKICAgICAgICAKICAgICAgICBEYXRhU3RyZWFtPFR1cGxlMjxTdHJpbmcsIEludGVnZXI+PiBjb3VudHMgPSB0ZXh0CiAgICAgICAgICAgIC5mbGF0TWFwKG5ldyBGbGF0TWFwRnVuY3Rpb248U3RyaW5nLCBUdXBsZTI8U3RyaW5nLCBJbnRlZ2VyPj4oKSB7CiAgICAgICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZsYXRNYXAoU3RyaW5nIHZhbHVlLCBDb2xsZWN0b3I8VHVwbGUyPFN0cmluZywgSW50ZWdlcj4+IG91dCkgewogICAgICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHdvcmQgOiB2YWx1ZS5zcGxpdCgiICIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG91dC5jb2xsZWN0KG5ldyBUdXBsZTI8Pih3b3JkLCAxKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAua2V5QnkoMCkKICAgICAgICAgICAgLnN1bSgxKTsKICAgICAgICAKICAgICAgICBjb3VudHMucHJpbnQoKTsKICAgICAgICAKICAgICAgICBlbnYuZXhlY3V0ZSgiUmVhbCBUaW1lIFByb2Nlc3NpbmcgRXhhbXBsZSIpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.flink.api.common.functions.FlatMapFunction;
import org.apache.flink.api.java.tuple.Tuple2;
import org.apache.flink.streaming.api.datastream.DataStream;
import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
import org.apache.flink.util.Collector;

public class RealTimeProcessing {
    public static void main(String[] args) throws Exception {
        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
        
        DataStream&lt;String&gt; text = env.socketTextStream(&quot;localhost&quot;, 9999);
        
        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; counts = text
            .flatMap(new FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt;() {
                @Override
                public void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {
                    for (String word : value.split(&quot; &quot;)) {
                        out.collect(new Tuple2&lt;&gt;(word, 1));
                    }
                }
            })
            .keyBy(0)
            .sum(1);
        
        counts.print();
        
        env.execute(&quot;Real Time Processing Example&quot;);
    }
}</pre></div><div class='content'></div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Configurar un sistema de processament de dades en temps real utilitzant Apache Kafka i Apache Storm.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>
<p><strong>Configurar Apache Kafka</strong>:</p>
<ul>
<li>Descarregar i instal·lar Kafka.</li>
<li>Iniciar el servidor Zookeeper i el servidor Kafka.</li>
<li>Crear un tema de Kafka per a la ingesta de dades.</li>
</ul>
</li>
<li>
<p><strong>Desenvolupar una Topologia de Storm</strong>:</p>
<ul>
<li>Crear un Spout per llegir dades del tema de Kafka.</li>
<li>Crear un Bolt per processar les dades.</li>
<li>Configurar i executar la topologia de Storm.</li>
</ul>
</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><h4>Configuració de Kafka:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1biB0ZW1hIGRlIEthZmthCmJpbi9rYWZrYS10b3BpY3Muc2ggLS1jcmVhdGUgLS10b3BpYyByZWFsLXRpbWUtZGF0YSAtLWJvb3RzdHJhcC1zZXJ2ZXIgbG9jYWxob3N0OjkwOTIgLS1wYXJ0aXRpb25zIDEgLS1yZXBsaWNhdGlvbi1mYWN0b3IgMQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear un tema de Kafka
bin/kafka-topics.sh --create --topic real-time-data --bootstrap-server localhost:9092 --partitions 1 --replication-factor 1</pre></div><div class='content'><h4>Topologia de Storm:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUuc3Rvcm0ua2Fma2EuS2Fma2FTcG91dDsKaW1wb3J0IG9yZy5hcGFjaGUuc3Rvcm0ua2Fma2EuU3BvdXRDb25maWc7CmltcG9ydCBvcmcuYXBhY2hlLnN0b3JtLmthZmthLlprSG9zdHM7CmltcG9ydCBvcmcuYXBhY2hlLnN0b3JtLnRvcG9sb2d5LlRvcG9sb2d5QnVpbGRlcjsKCnB1YmxpYyBjbGFzcyBLYWZrYVN0b3JtVG9wb2xvZ3kgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFprSG9zdHMgemtIb3N0cyA9IG5ldyBaa0hvc3RzKCJsb2NhbGhvc3Q6MjE4MSIpOwogICAgICAgIFNwb3V0Q29uZmlnIHNwb3V0Q29uZmlnID0gbmV3IFNwb3V0Q29uZmlnKHprSG9zdHMsICJyZWFsLXRpbWUtZGF0YSIsICIiLCAic3Rvcm0iKTsKICAgICAgICBLYWZrYVNwb3V0IGthZmthU3BvdXQgPSBuZXcgS2Fma2FTcG91dChzcG91dENvbmZpZyk7CiAgICAgICAgCiAgICAgICAgVG9wb2xvZ3lCdWlsZGVyIGJ1aWxkZXIgPSBuZXcgVG9wb2xvZ3lCdWlsZGVyKCk7CiAgICAgICAgYnVpbGRlci5zZXRTcG91dCgia2Fma2Etc3BvdXQiLCBrYWZrYVNwb3V0KTsKICAgICAgICBidWlsZGVyLnNldEJvbHQoInByb2Nlc3NpbmctYm9sdCIsIG5ldyBQcm9jZXNzaW5nQm9sdCgpKS5zaHVmZmxlR3JvdXBpbmcoImthZmthLXNwb3V0Iik7CiAgICAgICAgCiAgICAgICAgQ29uZmlnIGNvbmZpZyA9IG5ldyBDb25maWcoKTsKICAgICAgICBjb25maWcuc2V0RGVidWcodHJ1ZSk7CiAgICAgICAgCiAgICAgICAgTG9jYWxDbHVzdGVyIGNsdXN0ZXIgPSBuZXcgTG9jYWxDbHVzdGVyKCk7CiAgICAgICAgY2x1c3Rlci5zdWJtaXRUb3BvbG9neSgia2Fma2Etc3Rvcm0tdG9wb2xvZ3kiLCBjb25maWcsIGJ1aWxkZXIuY3JlYXRlVG9wb2xvZ3koKSk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.storm.kafka.KafkaSpout;
import org.apache.storm.kafka.SpoutConfig;
import org.apache.storm.kafka.ZkHosts;
import org.apache.storm.topology.TopologyBuilder;

public class KafkaStormTopology {
    public static void main(String[] args) {
        ZkHosts zkHosts = new ZkHosts(&quot;localhost:2181&quot;);
        SpoutConfig spoutConfig = new SpoutConfig(zkHosts, &quot;real-time-data&quot;, &quot;&quot;, &quot;storm&quot;);
        KafkaSpout kafkaSpout = new KafkaSpout(spoutConfig);
        
        TopologyBuilder builder = new TopologyBuilder();
        builder.setSpout(&quot;kafka-spout&quot;, kafkaSpout);
        builder.setBolt(&quot;processing-bolt&quot;, new ProcessingBolt()).shuffleGrouping(&quot;kafka-spout&quot;);
        
        Config config = new Config();
        config.setDebug(true);
        
        LocalCluster cluster = new LocalCluster();
        cluster.submitTopology(&quot;kafka-storm-topology&quot;, config, builder.createTopology());
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>El processament de dades en temps real amb Hadoop és possible gràcies a diverses eines de l'ecosistema Hadoop com Apache Kafka, Apache Storm i Apache Flink. Aquestes eines permeten processar i analitzar dades immediatament després de la seva generació, proporcionant informació valuosa en temps real. En aquest tema, hem après els conceptes bàsics del processament de dades en temps real, les eines disponibles i com configurar-les per a un sistema de processament en temps real.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-hadoop-in-machine-learning' title="Hadoop en aprenentatge automàtic">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-case-studies-of-hadoop-implementations' title="Estudis de cas d'implementacions de Hadoop">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
