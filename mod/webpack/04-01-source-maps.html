<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapes de Fonts</title>

    <link rel="alternate" href="https://campusempresa.com/mod/webpack/04-01-source-maps" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/webpack/04-01-source-maps" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/webpack/04-01-source-maps" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/webpack/04-01-source-maps" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/webpack/04-01-source-maps" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-05-environment-variables' title="Variables d'Entorn">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mapes de Fonts</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-webpack-dev-server' title="Servidor de Desenvolupament de Webpack">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Els mapes de fonts (source maps) són una eina essencial per a la depuració de codi en aplicacions web modernes. Permeten als desenvolupadors veure el codi original, abans de ser transformat per Webpack, en les eines de desenvolupament del navegador. Això és especialment útil quan es treballa amb codi minificat o transformat (per exemple, codi JavaScript transpilat des de TypeScript o Babel).</p>
</div><h1>Què són els Mapes de Fonts?</h1>
<div class='content'><p>Els mapes de fonts són fitxers que mapegen el codi transformat (com el codi minificat o transpilat) al codi original. Això permet que les eines de desenvolupament del navegador mostrin el codi original en lloc del codi transformat, facilitant la depuració.</p>
</div><h2>Beneficis dels Mapes de Fonts:</h2>
<div class='content'><ul>
<li><strong>Depuració més fàcil:</strong> Permeten veure el codi original en les eines de desenvolupament del navegador.</li>
<li><strong>Millor traçabilitat:</strong> Faciliten la identificació de l'origen dels errors.</li>
<li><strong>Millor experiència de desenvolupament:</strong> Fan que el procés de depuració sigui més intuïtiu i eficient.</li>
</ul>
</div><h1>Configuració de Mapes de Fonts en Webpack</h1>
<div class='content'><p>Per habilitar els mapes de fonts en Webpack, cal configurar l'opció <code>devtool</code> en el fitxer de configuració de Webpack (<code>webpack.config.js</code>).</p>
</div><h2>Exemple de Configuració</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gd2VicGFjay5jb25maWcuanMKbW9kdWxlLmV4cG9ydHMgPSB7CiAgbW9kZTogJ2RldmVsb3BtZW50JywgLy8gbyAncHJvZHVjdGlvbicKICBlbnRyeTogJy4vc3JjL2luZGV4LmpzJywKICBvdXRwdXQ6IHsKICAgIGZpbGVuYW1lOiAnYnVuZGxlLmpzJywKICAgIHBhdGg6IF9fZGlybmFtZSArICcvZGlzdCcKICB9LAogIGRldnRvb2w6ICdzb3VyY2UtbWFwJywgLy8gSGFiaWxpdGEgZWxzIG1hcGVzIGRlIGZvbnRzCiAgbW9kdWxlOiB7CiAgICBydWxlczogWwogICAgICB7CiAgICAgICAgdGVzdDogL1wuanMkLywKICAgICAgICBleGNsdWRlOiAvbm9kZV9tb2R1bGVzLywKICAgICAgICB1c2U6IHsKICAgICAgICAgIGxvYWRlcjogJ2JhYmVsLWxvYWRlcicsCiAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgIHByZXNldHM6IFsnQGJhYmVsL3ByZXNldC1lbnYnXQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgXQogIH0KfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// webpack.config.js
module.exports = {
  mode: 'development', // o 'production'
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: __dirname + '/dist'
  },
  devtool: 'source-map', // Habilita els mapes de fonts
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  }
};</pre></div><div class='content'></div><h2>Opcions de `devtool`</h2>
<div class='content'><p>Webpack ofereix diverses opcions per a <code>devtool</code>, cadascuna amb diferents nivells de precisió i velocitat. A continuació es mostra una taula amb algunes de les opcions més comunes:</p>
<table>
<thead>
<tr>
<th>Opció</th>
<th>Descripció</th>
<th>Velocitat de Compilació</th>
<th>Qualitat del Mapa de Fonts</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>eval</code></td>
<td>Cada mòdul és avaluat amb <code>eval()</code> i es genera un mapa de fonts per mòdul.</td>
<td>Molt ràpida</td>
<td>Baixa</td>
</tr>
<tr>
<td><code>source-map</code></td>
<td>Genera un fitxer <code>.map</code> separat per al mapa de fonts.</td>
<td>Lenta</td>
<td>Alta</td>
</tr>
<tr>
<td><code>cheap-source-map</code></td>
<td>Genera un fitxer <code>.map</code> separat, però sense column mappings.</td>
<td>Ràpida</td>
<td>Mitjana</td>
</tr>
<tr>
<td><code>inline-source-map</code></td>
<td>Inclou el mapa de fonts com a data URL dins del fitxer de sortida.</td>
<td>Lenta</td>
<td>Alta</td>
</tr>
<tr>
<td><code>cheap-module-source-map</code></td>
<td>Similar a <code>cheap-source-map</code>, però també inclou loaders.</td>
<td>Ràpida</td>
<td>Mitjana</td>
</tr>
</tbody>
</table>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Configurar un projecte Webpack per utilitzar mapes de fonts i verificar el seu funcionament en les eines de desenvolupament del navegador.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>
<p><strong>Crea un projecte nou:</strong></p>
<pre><code class="language-bash">mkdir webpack-source-maps
cd webpack-source-maps
npm init -y
npm install webpack webpack-cli babel-loader @babel/core @babel/preset-env --save-dev
</code></pre>
</li>
<li>
<p><strong>Crea l'estructura de fitxers:</strong></p>
<pre><code class="language-bash">mkdir src
touch src/index.js webpack.config.js
</code></pre>
</li>
<li>
<p><strong>Configura Babel i Webpack:</strong></p>
<ul>
<li>
<p><code>webpack.config.js</code>:</p>
<pre><code class="language-javascript">const path = require('path');

module.exports = {
  mode: 'development',
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist')
  },
  devtool: 'source-map',
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  }
};
</code></pre>
</li>
<li>
<p><code>.babelrc</code>:</p>
<pre><code class="language-json">{
  &quot;presets&quot;: [&quot;@babel/preset-env&quot;]
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Escriu codi JavaScript:</strong></p>
<ul>
<li><code>src/index.js</code>:
<pre><code class="language-javascript">const greet = (name) =&gt; {
  console.log(`Hello, ${name}!`);
};

greet('World');
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Construeix el projecte:</strong></p>
<pre><code class="language-bash">npx webpack
</code></pre>
</li>
<li>
<p><strong>Verifica els mapes de fonts:</strong></p>
<ul>
<li>Obre <code>dist/index.html</code> en un navegador.</li>
<li>Obre les eines de desenvolupament (F12 o clic dret -&gt; &quot;Inspect&quot;).</li>
<li>Navega a la pestanya &quot;Sources&quot; i verifica que pots veure el codi original en lloc del codi transformat.</li>
</ul>
</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>Els mapes de fonts són una eina poderosa per a la depuració de codi en aplicacions web modernes. Configurar-los en Webpack és senzill i pot millorar significativament l'experiència de desenvolupament. Amb aquesta configuració, els desenvolupadors poden veure i depurar el codi original, facilitant la identificació i resolució d'errors.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-05-environment-variables' title="Variables d'Entorn">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-webpack-dev-server' title="Servidor de Desenvolupament de Webpack">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
