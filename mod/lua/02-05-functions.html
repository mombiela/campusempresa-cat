<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funcions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/02-05-functions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/02-05-functions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/02-05-functions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/lua/02-05-functions" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/lua/02-05-functions" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-loops' title="Bucles">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Funcions</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-tables' title="Taules">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les funcions són una part fonamental de qualsevol llenguatge de programació, i Lua no és una excepció. Les funcions permeten agrupar codi que es pot reutilitzar, millorant així la modularitat i la llegibilitat del codi. En aquesta secció, aprendrem com definir, cridar i utilitzar funcions en Lua.</p>
</div><h1><p>Continguts</p>
</h1>
<div class='content'><ol>
<li><a href="#definició-de-funcions">Definició de Funcions</a></li>
<li><a href="#paràmetres-i-arguments">Paràmetres i Arguments</a></li>
<li><a href="#valors-de-retorn">Valors de Retorn</a></li>
<li><a href="#funcions-anònimes">Funcions Anònimes</a></li>
<li><a href="#àmbit-de-les-variables">Àmbit de les Variables</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
</ol>
</div><h1><p>Definició de Funcions</p>
</h1>
<div class='content'><p>En Lua, les funcions es defineixen utilitzant la paraula clau <code>function</code> seguida del nom de la funció, una llista de paràmetres entre parèntesis i el cos de la funció entre <code>end</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbm9tX2RlX2xhX2Z1bmNpw7MocGFyw6BtZXRyZTEsIHBhcsOgbWV0cmUyKQogICAgLS0gQ29zIGRlIGxhIGZ1bmNpw7MKICAgIHByaW50KHBhcsOgbWV0cmUxLCBwYXLDoG1ldHJlMikKZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function nom_de_la_funci&oacute;(par&agrave;metre1, par&agrave;metre2)
    -- Cos de la funci&oacute;
    print(par&agrave;metre1, par&agrave;metre2)
end</pre></div><div class='content'></div><h2><p>Exemple</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc2FsdWRhKG5vbSkKICAgIHByaW50KCJIb2xhLCAiIC4uIG5vbSAuLiAiISIpCmVuZAoKc2FsdWRhKCJBbm5hIikgIC0tIFNvcnRpZGE6IEhvbGEsIEFubmEh"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function saluda(nom)
    print(&quot;Hola, &quot; .. nom .. &quot;!&quot;)
end

saluda(&quot;Anna&quot;)  -- Sortida: Hola, Anna!</pre></div><div class='content'></div><h1><p>Paràmetres i Arguments</p>
</h1>
<div class='content'><p>Les funcions poden acceptar paràmetres, que són valors que es passen a la funció quan es crida. Aquests paràmetres es poden utilitzar dins de la funció com a variables locals.</p>
</div><h2><p>Exemple</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc3VtYShhLCBiKQogICAgcmV0dXJuIGEgKyBiCmVuZAoKcmVzdWx0YXQgPSBzdW1hKDUsIDMpICAtLSByZXN1bHRhdCDDqXMgOApwcmludChyZXN1bHRhdCkgIC0tIFNvcnRpZGE6IDg="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function suma(a, b)
    return a + b
end

resultat = suma(5, 3)  -- resultat &eacute;s 8
print(resultat)  -- Sortida: 8</pre></div><div class='content'></div><h1><p>Valors de Retorn</p>
</h1>
<div class='content'><p>Les funcions poden retornar valors utilitzant la paraula clau <code>return</code>. Això permet que la funció proporcioni un resultat que es pot utilitzar més endavant en el codi.</p>
</div><h2><p>Exemple</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbXVsdGlwbGljYShhLCBiKQogICAgcmV0dXJuIGEgKiBiCmVuZAoKcmVzdWx0YXQgPSBtdWx0aXBsaWNhKDQsIDcpICAtLSByZXN1bHRhdCDDqXMgMjgKcHJpbnQocmVzdWx0YXQpICAtLSBTb3J0aWRhOiAyOA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function multiplica(a, b)
    return a * b
end

resultat = multiplica(4, 7)  -- resultat &eacute;s 28
print(resultat)  -- Sortida: 28</pre></div><div class='content'></div><h1><p>Funcions Anònimes</p>
</h1>
<div class='content'><p>Les funcions anònimes són funcions que no tenen un nom i es poden definir en qualsevol lloc on es pugui definir una expressió. Són especialment útils per a funcions de callback o funcions que es passen com a arguments a altres funcions.</p>
</div><h2><p>Exemple</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRnVuY2nDsyBhbsOybmltYSBhc3NpZ25hZGEgYSB1bmEgdmFyaWFibGUKZG9ibGUgPSBmdW5jdGlvbih4KQogICAgcmV0dXJuIHggKiAyCmVuZAoKcHJpbnQoZG9ibGUoNSkpICAtLSBTb3J0aWRhOiAxMAoKLS0gRnVuY2nDsyBhbsOybmltYSBjb20gYSBhcmd1bWVudApmdW5jdGlvbiBhcGxpY2FfZnVuY2nDsyhmLCB2YWxvcikKICAgIHJldHVybiBmKHZhbG9yKQplbmQKCnByaW50KGFwbGljYV9mdW5jacOzKGZ1bmN0aW9uKHgpIHJldHVybiB4ICsgMyBlbmQsIDcpKSAgLS0gU29ydGlkYTogMTA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Funci&oacute; an&ograve;nima assignada a una variable
doble = function(x)
    return x * 2
end

print(doble(5))  -- Sortida: 10

-- Funci&oacute; an&ograve;nima com a argument
function aplica_funci&oacute;(f, valor)
    return f(valor)
end

print(aplica_funci&oacute;(function(x) return x + 3 end, 7))  -- Sortida: 10</pre></div><div class='content'></div><h1><p>Àmbit de les Variables</p>
</h1>
<div class='content'><p>Les variables definides dins d'una funció són locals a aquesta funció i no es poden accedir des de fora. Això ajuda a evitar conflictes de noms i fa que el codi sigui més modular.</p>
</div><h2><p>Exemple</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZXhlbXBsZSgpCiAgICBsb2NhbCB4ID0gMTAgIC0tIHggw6lzIGxvY2FsIGEgbGEgZnVuY2nDsyBleGVtcGxlCiAgICBwcmludCh4KQplbmQKCmV4ZW1wbGUoKSAgLS0gU29ydGlkYTogMTAKLS0gcHJpbnQoeCkgIC0tIEFpeMOyIGRvbmFyw6AgdW4gZXJyb3IgcGVycXXDqCB4IG5vIGVzdMOgIGRlZmluaWRhIGZvcmEgZGUgbGEgZnVuY2nDsw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function exemple()
    local x = 10  -- x &eacute;s local a la funci&oacute; exemple
    print(x)
end

exemple()  -- Sortida: 10
-- print(x)  -- Aix&ograve; donar&agrave; un error perqu&egrave; x no est&agrave; definida fora de la funci&oacute;</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Funció de Salutació</p>
</h2>
<div class='content'><p>Crea una funció anomenada <code>salutacio</code> que accepti un nom com a paràmetre i imprimeixi una salutació personalitzada.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc2FsdXRhY2lvKG5vbSkKICAgIC0tIEVsIHRldSBjb2RpIGFxdcOtCmVuZAoKc2FsdXRhY2lvKCJKb2FuIikgIC0tIFNvcnRpZGEgZXNwZXJhZGE6IEhvbGEsIEpvYW4h"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function salutacio(nom)
    -- El teu codi aqu&iacute;
end

salutacio(&quot;Joan&quot;)  -- Sortida esperada: Hola, Joan!</pre></div><div class='content'></div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc2FsdXRhY2lvKG5vbSkKICAgIHByaW50KCJIb2xhLCAiIC4uIG5vbSAuLiAiISIpCmVuZAoKc2FsdXRhY2lvKCJKb2FuIikgIC0tIFNvcnRpZGE6IEhvbGEsIEpvYW4h"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function salutacio(nom)
    print(&quot;Hola, &quot; .. nom .. &quot;!&quot;)
end

salutacio(&quot;Joan&quot;)  -- Sortida: Hola, Joan!</pre></div><div class='content'></div><h2><p>Exercici 2: Funció de Factorial</p>
</h2>
<div class='content'><p>Escriu una funció anomenada <code>factorial</code> que calculi el factorial d'un nombre donat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmFjdG9yaWFsKG4pCiAgICAtLSBFbCB0ZXUgY29kaSBhcXXDrQplbmQKCnByaW50KGZhY3RvcmlhbCg1KSkgIC0tIFNvcnRpZGEgZXNwZXJhZGE6IDEyMA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function factorial(n)
    -- El teu codi aqu&iacute;
end

print(factorial(5))  -- Sortida esperada: 120</pre></div><div class='content'></div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmFjdG9yaWFsKG4pCiAgICBpZiBuID09IDAgdGhlbgogICAgICAgIHJldHVybiAxCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIG4gKiBmYWN0b3JpYWwobiAtIDEpCiAgICBlbmQKZW5kCgpwcmludChmYWN0b3JpYWwoNSkpICAtLSBTb3J0aWRhOiAxMjA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function factorial(n)
    if n == 0 then
        return 1
    else
        return n * factorial(n - 1)
    end
end

print(factorial(5))  -- Sortida: 120</pre></div><div class='content'></div><h2><p>Exercici 3: Funció de Comprovació de Nombre Parell</p>
</h2>
<div class='content'><p>Crea una funció anomenada <code>és_parell</code> que accepti un nombre i retorni <code>true</code> si el nombre és parell i <code>false</code> en cas contrari.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gw6lzX3BhcmVsbChuKQogICAgLS0gRWwgdGV1IGNvZGkgYXF1w60KZW5kCgpwcmludCjDqXNfcGFyZWxsKDQpKSAgLS0gU29ydGlkYSBlc3BlcmFkYTogdHJ1ZQpwcmludCjDqXNfcGFyZWxsKDcpKSAgLS0gU29ydGlkYSBlc3BlcmFkYTogZmFsc2U="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function &eacute;s_parell(n)
    -- El teu codi aqu&iacute;
end

print(&eacute;s_parell(4))  -- Sortida esperada: true
print(&eacute;s_parell(7))  -- Sortida esperada: false</pre></div><div class='content'></div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gw6lzX3BhcmVsbChuKQogICAgcmV0dXJuIG4gJSAyID09IDAKZW5kCgpwcmludCjDqXNfcGFyZWxsKDQpKSAgLS0gU29ydGlkYTogdHJ1ZQpwcmludCjDqXNfcGFyZWxsKDcpKSAgLS0gU29ydGlkYTogZmFsc2U="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function &eacute;s_parell(n)
    return n % 2 == 0
end

print(&eacute;s_parell(4))  -- Sortida: true
print(&eacute;s_parell(7))  -- Sortida: false</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après com definir i utilitzar funcions en Lua. Hem vist com passar paràmetres a les funcions, com retornar valors, i com utilitzar funcions anònimes. També hem explorat l'àmbit de les variables dins de les funcions. Finalment, hem practicat aquests conceptes amb alguns exercicis pràctics. Ara estàs preparat per utilitzar funcions per organitzar i modularitzar el teu codi Lua de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-loops' title="Bucles">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-tables' title="Taules">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
