<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Scripting en Motors de Joc</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/05-02-scripting-game-engines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/05-02-scripting-game-engines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/05-02-scripting-game-engines" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/lua/05-02-scripting-game-engines" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/lua/05-02-scripting-game-engines" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-building-simple-game' title="Construcció d'un Joc Simple">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Scripting en Motors de Joc</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-automating-tasks' title="Automatització de Tasques amb Lua">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem com utilitzar Lua per crear scripts en motors de joc. Lua és àmpliament utilitzat en la indústria dels videojocs gràcies a la seva simplicitat, flexibilitat i eficiència. Aprendrem a integrar Lua en motors de joc populars i a crear scripts que controlin diferents aspectes del joc.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Entendre el paper de Lua en el desenvolupament de jocs.</li>
<li>Aprendre a configurar un entorn de desenvolupament amb un motor de joc que suporti Lua.</li>
<li>Escriure scripts Lua per controlar elements del joc.</li>
<li>Integrar i executar scripts Lua dins del motor de joc.</li>
</ul>
</div><h1><ol>
<li>Introducció a Lua en Motors de Joc</li>
</ol>
</h1>
<div class='content'></div><h2><p>Per què Lua?</p>
</h2>
<div class='content'><ul>
<li><strong>Simplicitat</strong>: Lua té una sintaxi senzilla i fàcil d'aprendre.</li>
<li><strong>Rendiment</strong>: Lua és ràpid i eficient, ideal per a aplicacions en temps real com els jocs.</li>
<li><strong>Integració</strong>: Lua es pot integrar fàcilment amb altres llenguatges i motors de joc.</li>
</ul>
</div><h2><p>Motors de Joc Populars que Utilitzen Lua</p>
</h2>
<div class='content'><ul>
<li><strong>Unity</strong>: Tot i que Unity utilitza principalment C#, també suporta Lua a través de plugins.</li>
<li><strong>Corona SDK</strong>: Un motor de joc que utilitza Lua com a llenguatge principal.</li>
<li><strong>LOVE2D</strong>: Un motor de joc 2D que utilitza Lua.</li>
<li><strong>CryEngine</strong>: Un motor de joc avançat que suporta Lua per a scripting.</li>
</ul>
</div><h1><ol start="2">
<li>Configuració de l'Entorn</li>
</ol>
</h1>
<div class='content'></div><h2><p>Instal·lació de LOVE2D</p>
</h2>
<div class='content'><p>LOVE2D és un motor de joc 2D que utilitza Lua. És una bona opció per començar a aprendre scripting en motors de joc.</p>
<ol>
<li><strong>Descarrega LOVE2D</strong> des del lloc oficial: <a href="https://love2d.org/">LOVE2D Download</a></li>
<li><strong>Instal·la LOVE2D</strong> seguint les instruccions per al teu sistema operatiu.</li>
</ol>
</div><h2><p>Configuració de l'Editor de Codi</p>
</h2>
<div class='content'><p>Recomanem utilitzar un editor de codi com Visual Studio Code amb l'extensió de Lua per a una millor experiència de desenvolupament.</p>
<ol>
<li><strong>Descarrega Visual Studio Code</strong>: <a href="https://code.visualstudio.com/">Visual Studio Code</a></li>
<li><strong>Instal·la l'extensió de Lua</strong>: Cerca &quot;Lua&quot; a la secció d'extensions i instal·la-la.</li>
</ol>
</div><h1><ol start="3">
<li>El Teu Primer Script en LOVE2D</li>
</ol>
</h1>
<div class='content'></div><h2><p>Estructura d'un Projecte LOVE2D</p>
</h2>
<div class='content'><p>Un projecte LOVE2D típic conté almenys dos fitxers:</p>
<ul>
<li><code>main.lua</code>: El fitxer principal on s'inicia el joc.</li>
<li><code>conf.lua</code>: Opcional, per configurar paràmetres del joc.</li>
</ul>
</div><h2><p>Exemple de <code>main.lua</code></p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG92ZS5sb2FkKCkKICAgIGxvdmUuZ3JhcGhpY3Muc2V0QmFja2dyb3VuZENvbG9yKDAuMSwgMC4xLCAwLjEpIC0tIENhbnZpYSBlbCBjb2xvciBkZSBmb25zCiAgICBsb3ZlLndpbmRvdy5zZXRUaXRsZSgiRWwgTWV1IFByaW1lciBKb2MgZW4gTE9WRTJEIikgLS0gQ2FudmlhIGVsIHTDrXRvbCBkZSBsYSBmaW5lc3RyYQplbmQKCmZ1bmN0aW9uIGxvdmUuZHJhdygpCiAgICBsb3ZlLmdyYXBoaWNzLnNldENvbG9yKDEsIDEsIDEpIC0tIENhbnZpYSBlbCBjb2xvciBkZSBkaWJ1aXggYSBibGFuYwogICAgbG92ZS5ncmFwaGljcy5wcmludCgiSG9sYSwgbcOzbiEiLCA0MDAsIDMwMCkgLS0gRGlidWl4YSB0ZXh0IGEgbGEgcGFudGFsbGEKZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function love.load()
    love.graphics.setBackgroundColor(0.1, 0.1, 0.1) -- Canvia el color de fons
    love.window.setTitle(&quot;El Meu Primer Joc en LOVE2D&quot;) -- Canvia el t&iacute;tol de la finestra
end

function love.draw()
    love.graphics.setColor(1, 1, 1) -- Canvia el color de dibuix a blanc
    love.graphics.print(&quot;Hola, m&oacute;n!&quot;, 400, 300) -- Dibuixa text a la pantalla
end</pre></div><div class='content'></div><h2><p>Executar el Joc</p>
</h2>
<div class='content'><ol>
<li>Guarda el fitxer <code>main.lua</code> en una carpeta.</li>
<li>Obre un terminal i navega fins a la carpeta.</li>
<li>Executa el joc amb la comanda: <code>love .</code></li>
</ol>
</div><h1><ol start="4">
<li>Control d'Elements del Joc</li>
</ol>
</h1>
<div class='content'></div><h2><p>Moviment d'un Personatge</p>
</h2>
<div class='content'><p>Afegirem moviment a un personatge utilitzant les tecles de direcció.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgcGxheWVyID0geyB4ID0gNDAwLCB5ID0gMzAwLCBzcGVlZCA9IDIwMCB9CgpmdW5jdGlvbiBsb3ZlLnVwZGF0ZShkdCkKICAgIGlmIGxvdmUua2V5Ym9hcmQuaXNEb3duKCJyaWdodCIpIHRoZW4KICAgICAgICBwbGF5ZXIueCA9IHBsYXllci54ICsgcGxheWVyLnNwZWVkICogZHQKICAgIGVsc2VpZiBsb3ZlLmtleWJvYXJkLmlzRG93bigibGVmdCIpIHRoZW4KICAgICAgICBwbGF5ZXIueCA9IHBsYXllci54IC0gcGxheWVyLnNwZWVkICogZHQKICAgIGVuZAogICAgaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oImRvd24iKSB0aGVuCiAgICAgICAgcGxheWVyLnkgPSBwbGF5ZXIueSArIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbHNlaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oInVwIikgdGhlbgogICAgICAgIHBsYXllci55ID0gcGxheWVyLnkgLSBwbGF5ZXIuc3BlZWQgKiBkdAogICAgZW5kCmVuZAoKZnVuY3Rpb24gbG92ZS5kcmF3KCkKICAgIGxvdmUuZ3JhcGhpY3Muc2V0Q29sb3IoMSwgMSwgMSkKICAgIGxvdmUuZ3JhcGhpY3MucmVjdGFuZ2xlKCJmaWxsIiwgcGxheWVyLngsIHBsYXllci55LCA1MCwgNTApCmVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local player = { x = 400, y = 300, speed = 200 }

function love.update(dt)
    if love.keyboard.isDown(&quot;right&quot;) then
        player.x = player.x + player.speed * dt
    elseif love.keyboard.isDown(&quot;left&quot;) then
        player.x = player.x - player.speed * dt
    end
    if love.keyboard.isDown(&quot;down&quot;) then
        player.y = player.y + player.speed * dt
    elseif love.keyboard.isDown(&quot;up&quot;) then
        player.y = player.y - player.speed * dt
    end
end

function love.draw()
    love.graphics.setColor(1, 1, 1)
    love.graphics.rectangle(&quot;fill&quot;, player.x, player.y, 50, 50)
end</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ul>
<li><strong><code>love.update(dt)</code></strong>: Aquesta funció s'executa cada fotograma i s'utilitza per actualitzar la lògica del joc. <code>dt</code> és el temps transcorregut des de l'últim fotograma.</li>
<li><strong><code>love.keyboard.isDown(key)</code></strong>: Comprova si una tecla està premuda.</li>
<li><strong><code>love.draw()</code></strong>: Aquesta funció s'executa cada fotograma per dibuixar a la pantalla.</li>
</ul>
</div><h1><ol start="5">
<li>Integració de Scripts Lua en Altres Motors</li>
</ol>
</h1>
<div class='content'></div><h2><p>Unity amb Lua</p>
</h2>
<div class='content'><p>Per utilitzar Lua en Unity, necessitaràs un plugin com MoonSharp o SLua.</p>
<h4>Exemple amb MoonSharp</h4>
<ol>
<li><strong>Instal·la MoonSharp</strong>: Afegeix el plugin al teu projecte Unity.</li>
<li><strong>Crea un Script Lua</strong>:
<pre><code class="language-lua">function update()
    print(&quot;Actualitzant des de Lua!&quot;)
end
</code></pre>
</li>
<li><strong>Crea un Script C# per Executar Lua</strong>:
<pre><code class="language-csharp">using MoonSharp.Interpreter;

public class LuaScript : MonoBehaviour
{
    private Script luaScript;

    void Start()
    {
        luaScript = new Script();
        luaScript.DoFile(&quot;path/to/your/script.lua&quot;);
    }

    void Update()
    {
        luaScript.Call(luaScript.Globals[&quot;update&quot;]);
    }
}
</code></pre>
</li>
</ol>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Afegir Salt al Personatge</p>
</h2>
<div class='content'><p>Modifica el codi del moviment del personatge per afegir la capacitat de saltar quan es prem la tecla &quot;space&quot;.</p>
</div><h2><p>Exercici 2: Crear un Joc de Pong</p>
</h2>
<div class='content'><p>Utilitzant LOVE2D, crea un joc de Pong bàsic amb dues pales i una pilota.</p>
</div><h2><p>Solucions</p>
</h2>
<div class='content'><h4>Solució Exercici 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgcGxheWVyID0geyB4ID0gNDAwLCB5ID0gMzAwLCBzcGVlZCA9IDIwMCwganVtcEhlaWdodCA9IC0zMDAsIGdyYXZpdHkgPSA1MDAsIHlWZWxvY2l0eSA9IDAsIGlzR3JvdW5kZWQgPSB0cnVlIH0KCmZ1bmN0aW9uIGxvdmUudXBkYXRlKGR0KQogICAgaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oInJpZ2h0IikgdGhlbgogICAgICAgIHBsYXllci54ID0gcGxheWVyLnggKyBwbGF5ZXIuc3BlZWQgKiBkdAogICAgZWxzZWlmIGxvdmUua2V5Ym9hcmQuaXNEb3duKCJsZWZ0IikgdGhlbgogICAgICAgIHBsYXllci54ID0gcGxheWVyLnggLSBwbGF5ZXIuc3BlZWQgKiBkdAogICAgZW5kCgogICAgaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oInNwYWNlIikgYW5kIHBsYXllci5pc0dyb3VuZGVkIHRoZW4KICAgICAgICBwbGF5ZXIueVZlbG9jaXR5ID0gcGxheWVyLmp1bXBIZWlnaHQKICAgICAgICBwbGF5ZXIuaXNHcm91bmRlZCA9IGZhbHNlCiAgICBlbmQKCiAgICBwbGF5ZXIueSA9IHBsYXllci55ICsgcGxheWVyLnlWZWxvY2l0eSAqIGR0CiAgICBwbGF5ZXIueVZlbG9jaXR5ID0gcGxheWVyLnlWZWxvY2l0eSArIHBsYXllci5ncmF2aXR5ICogZHQKCiAgICBpZiBwbGF5ZXIueSA+PSAzMDAgdGhlbgogICAgICAgIHBsYXllci55ID0gMzAwCiAgICAgICAgcGxheWVyLnlWZWxvY2l0eSA9IDAKICAgICAgICBwbGF5ZXIuaXNHcm91bmRlZCA9IHRydWUKICAgIGVuZAplbmQKCmZ1bmN0aW9uIGxvdmUuZHJhdygpCiAgICBsb3ZlLmdyYXBoaWNzLnNldENvbG9yKDEsIDEsIDEpCiAgICBsb3ZlLmdyYXBoaWNzLnJlY3RhbmdsZSgiZmlsbCIsIHBsYXllci54LCBwbGF5ZXIueSwgNTAsIDUwKQplbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local player = { x = 400, y = 300, speed = 200, jumpHeight = -300, gravity = 500, yVelocity = 0, isGrounded = true }

function love.update(dt)
    if love.keyboard.isDown(&quot;right&quot;) then
        player.x = player.x + player.speed * dt
    elseif love.keyboard.isDown(&quot;left&quot;) then
        player.x = player.x - player.speed * dt
    end

    if love.keyboard.isDown(&quot;space&quot;) and player.isGrounded then
        player.yVelocity = player.jumpHeight
        player.isGrounded = false
    end

    player.y = player.y + player.yVelocity * dt
    player.yVelocity = player.yVelocity + player.gravity * dt

    if player.y &gt;= 300 then
        player.y = 300
        player.yVelocity = 0
        player.isGrounded = true
    end
end

function love.draw()
    love.graphics.setColor(1, 1, 1)
    love.graphics.rectangle(&quot;fill&quot;, player.x, player.y, 50, 50)
end</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après com utilitzar Lua per crear scripts en motors de joc. Hem configurat un entorn de desenvolupament amb LOVE2D, escrit scripts per controlar elements del joc i explorat la integració de Lua en altres motors com Unity. Amb aquests coneixements, estàs preparat per començar a crear els teus propis jocs utilitzant Lua.</p>
<p>En el següent tema, explorarem com automatitzar tasques amb Lua, una habilitat útil tant en el desenvolupament de jocs com en altres àrees de programació.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-building-simple-game' title="Construcció d'un Joc Simple">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-automating-tasks' title="Automatització de Tasques amb Lua">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
