<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consideracions de Seguretat</title>

    <link rel="alternate" href="https://campusempresa.com/mod/c/11-04-security-considerations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/c/11-04-security-considerations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/c/11-04-security-considerations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/c/11-04-security-considerations" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/c/11-04-security-considerations" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='11-03-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Consideracions de Seguretat</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='12-01-project-guidelines' title="Directrius del Projecte">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La seguretat en la programació és un aspecte crucial que sovint es passa per alt fins que es produeix un problema. En aquest tema, explorarem les pràctiques de seguretat que hauríem de seguir quan programem en C per evitar vulnerabilitats i assegurar-nos que el nostre codi sigui robust i segur.</p>
</div><h1><p>Conceptes Clau</p>
</h1>
<div class='content'><ol>
<li><strong>Desbordament de Memòria (Buffer Overflow)</strong></li>
<li><strong>Validació d'Entrades</strong></li>
<li><strong>Gestió de Memòria Segura</strong></li>
<li><strong>Control d'Accés</strong></li>
<li><strong>Encriptació i Hashing</strong></li>
<li><strong>Gestió d'Errors i Excepcions</strong></li>
<li><strong>Pràctiques de Codificació Segura</strong></li>
</ol>
</div><h1><ol>
<li>Desbordament de Memòria (Buffer Overflow)</li>
</ol>
</h1>
<div class='content'><p>El desbordament de memòria és una de les vulnerabilitats més comunes en C. Es produeix quan un programa escriu més dades en un buffer del que aquest pot contenir, sobreescrivint així la memòria adjacent.</p>
</div><h2><p>Exemple de Desbordament de Memòria</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCnZvaWQgdW5zYWZlRnVuY3Rpb24oY2hhciAqaW5wdXQpIHsKICAgIGNoYXIgYnVmZmVyWzEwXTsKICAgIHN0cmNweShidWZmZXIsIGlucHV0KTsgLy8gUG90ZW5jaWFsIGRlc2JvcmRhbWVudCBkZSBtZW3DsnJpYQogICAgcHJpbnRmKCJCdWZmZXI6ICVzXG4iLCBidWZmZXIpOwp9CgppbnQgbWFpbigpIHsKICAgIGNoYXIgaW5wdXRbMjBdID0gIlRoaXMgaXMgdG9vIGxvbmchIjsKICAgIHVuc2FmZUZ1bmN0aW9uKGlucHV0KTsKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

void unsafeFunction(char *input) {
    char buffer[10];
    strcpy(buffer, input); // Potencial desbordament de mem&ograve;ria
    printf(&quot;Buffer: %s\n&quot;, buffer);
}

int main() {
    char input[20] = &quot;This is too long!&quot;;
    unsafeFunction(input);
    return 0;
}</pre></div><div class='content'></div><h2><p>Solució</p>
</h2>
<div class='content'><p>Utilitzar funcions segures com <code>strncpy</code> en lloc de <code>strcpy</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCnZvaWQgc2FmZUZ1bmN0aW9uKGNoYXIgKmlucHV0KSB7CiAgICBjaGFyIGJ1ZmZlclsxMF07CiAgICBzdHJuY3B5KGJ1ZmZlciwgaW5wdXQsIHNpemVvZihidWZmZXIpIC0gMSk7CiAgICBidWZmZXJbc2l6ZW9mKGJ1ZmZlcikgLSAxXSA9ICdcMCc7IC8vIEFzc2VndXJhciBxdWUgZWwgYnVmZmVyIGVzdMOgIG51bC10ZXJtaW5hdAogICAgcHJpbnRmKCJCdWZmZXI6ICVzXG4iLCBidWZmZXIpOwp9CgppbnQgbWFpbigpIHsKICAgIGNoYXIgaW5wdXRbMjBdID0gIlRoaXMgaXMgdG9vIGxvbmchIjsKICAgIHNhZmVGdW5jdGlvbihpbnB1dCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

void safeFunction(char *input) {
    char buffer[10];
    strncpy(buffer, input, sizeof(buffer) - 1);
    buffer[sizeof(buffer) - 1] = '\0'; // Assegurar que el buffer est&agrave; nul-terminat
    printf(&quot;Buffer: %s\n&quot;, buffer);
}

int main() {
    char input[20] = &quot;This is too long!&quot;;
    safeFunction(input);
    return 0;
}</pre></div><div class='content'></div><h1><ol start="2">
<li>Validació d'Entrades</li>
</ol>
</h1>
<div class='content'><p>Sempre hem de validar les entrades de l'usuari per evitar injeccions de codi i altres tipus d'atacs.</p>
</div><h2><p>Exemple de Validació d'Entrades</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgY2hhciBpbnB1dFsxMF07CiAgICBwcmludGYoIkVudGVyIGEgbnVtYmVyOiAiKTsKICAgIGZnZXRzKGlucHV0LCBzaXplb2YoaW5wdXQpLCBzdGRpbik7CiAgICBpbnQgbnVtYmVyID0gYXRvaShpbnB1dCk7CiAgICBpZiAobnVtYmVyID09IDAgJiYgaW5wdXRbMF0gIT0gJzAnKSB7CiAgICAgICAgcHJpbnRmKCJJbnZhbGlkIGlucHV0IVxuIik7CiAgICB9IGVsc2UgewogICAgICAgIHByaW50ZigiWW91IGVudGVyZWQ6ICVkXG4iLCBudW1iZXIpOwogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    char input[10];
    printf(&quot;Enter a number: &quot;);
    fgets(input, sizeof(input), stdin);
    int number = atoi(input);
    if (number == 0 &amp;&amp; input[0] != '0') {
        printf(&quot;Invalid input!\n&quot;);
    } else {
        printf(&quot;You entered: %d\n&quot;, number);
    }
    return 0;
}</pre></div><div class='content'></div><h1><ol start="3">
<li>Gestió de Memòria Segura</li>
</ol>
</h1>
<div class='content'><p>Gestionar la memòria de manera segura és essencial per evitar fuites de memòria i altres problemes.</p>
</div><h2><p>Exemple de Gestió de Memòria</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICphcnJheSA9IChpbnQgKiltYWxsb2MoMTAgKiBzaXplb2YoaW50KSk7CiAgICBpZiAoYXJyYXkgPT0gTlVMTCkgewogICAgICAgIGZwcmludGYoc3RkZXJyLCAiTWVtb3J5IGFsbG9jYXRpb24gZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICAvLyBVdGlsaXR6YXIgbCdhcnJheQoKICAgIGZyZWUoYXJyYXkpOyAvLyBBbGxpYmVyYXIgbGEgbWVtw7JyaWEKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *array = (int *)malloc(10 * sizeof(int));
    if (array == NULL) {
        fprintf(stderr, &quot;Memory allocation failed\n&quot;);
        return 1;
    }

    // Utilitzar l'array

    free(array); // Alliberar la mem&ograve;ria
    return 0;
}</pre></div><div class='content'></div><h1><ol start="4">
<li>Control d'Accés</li>
</ol>
</h1>
<div class='content'><p>Assegurar-nos que només els usuaris autoritzats poden accedir a certes parts del codi o dades.</p>
</div><h2><p>Exemple de Control d'Accés</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCnZvaWQgYXV0aGVudGljYXRlKGNoYXIgKnBhc3N3b3JkKSB7CiAgICBjaGFyIGNvcnJlY3RQYXNzd29yZFtdID0gInNlY3VyZXBhc3N3b3JkIjsKICAgIGlmIChzdHJjbXAocGFzc3dvcmQsIGNvcnJlY3RQYXNzd29yZCkgPT0gMCkgewogICAgICAgIHByaW50ZigiQWNjZXNzIGdyYW50ZWRcbiIpOwogICAgfSBlbHNlIHsKICAgICAgICBwcmludGYoIkFjY2VzcyBkZW5pZWRcbiIpOwogICAgfQp9CgppbnQgbWFpbigpIHsKICAgIGNoYXIgaW5wdXRbMjBdOwogICAgcHJpbnRmKCJFbnRlciBwYXNzd29yZDogIik7CiAgICBmZ2V0cyhpbnB1dCwgc2l6ZW9mKGlucHV0KSwgc3RkaW4pOwogICAgaW5wdXRbc3RyY3NwbihpbnB1dCwgIlxuIildID0gJ1wwJzsgLy8gRWxpbWluYXIgZWwgc2FsdCBkZSBsw61uaWEKICAgIGF1dGhlbnRpY2F0ZShpbnB1dCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

void authenticate(char *password) {
    char correctPassword[] = &quot;securepassword&quot;;
    if (strcmp(password, correctPassword) == 0) {
        printf(&quot;Access granted\n&quot;);
    } else {
        printf(&quot;Access denied\n&quot;);
    }
}

int main() {
    char input[20];
    printf(&quot;Enter password: &quot;);
    fgets(input, sizeof(input), stdin);
    input[strcspn(input, &quot;\n&quot;)] = '\0'; // Eliminar el salt de l&iacute;nia
    authenticate(input);
    return 0;
}</pre></div><div class='content'></div><h1><ol start="5">
<li>Encriptació i Hashing</li>
</ol>
</h1>
<div class='content'><p>Utilitzar tècniques d'encriptació i hashing per protegir dades sensibles.</p>
</div><h2><p>Exemple d'Hashing</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPG9wZW5zc2wvc2hhLmg+Cgp2b2lkIGhhc2hQYXNzd29yZChjaGFyICpwYXNzd29yZCkgewogICAgdW5zaWduZWQgY2hhciBoYXNoW1NIQTI1Nl9ESUdFU1RfTEVOR1RIXTsKICAgIFNIQTI1NigodW5zaWduZWQgY2hhciAqKXBhc3N3b3JkLCBzdHJsZW4ocGFzc3dvcmQpLCBoYXNoKTsKCiAgICBwcmludGYoIkhhc2hlZCBwYXNzd29yZDogIik7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IFNIQTI1Nl9ESUdFU1RfTEVOR1RIOyBpKyspIHsKICAgICAgICBwcmludGYoIiUwMngiLCBoYXNoW2ldKTsKICAgIH0KICAgIHByaW50ZigiXG4iKTsKfQoKaW50IG1haW4oKSB7CiAgICBjaGFyIHBhc3N3b3JkWzIwXTsKICAgIHByaW50ZigiRW50ZXIgcGFzc3dvcmQ6ICIpOwogICAgZmdldHMocGFzc3dvcmQsIHNpemVvZihwYXNzd29yZCksIHN0ZGluKTsKICAgIHBhc3N3b3JkW3N0cmNzcG4ocGFzc3dvcmQsICJcbiIpXSA9ICdcMCc7IC8vIEVsaW1pbmFyIGVsIHNhbHQgZGUgbMOtbmlhCiAgICBoYXNoUGFzc3dvcmQocGFzc3dvcmQpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;openssl/sha.h&gt;

void hashPassword(char *password) {
    unsigned char hash[SHA256_DIGEST_LENGTH];
    SHA256((unsigned char *)password, strlen(password), hash);

    printf(&quot;Hashed password: &quot;);
    for (int i = 0; i &lt; SHA256_DIGEST_LENGTH; i++) {
        printf(&quot;%02x&quot;, hash[i]);
    }
    printf(&quot;\n&quot;);
}

int main() {
    char password[20];
    printf(&quot;Enter password: &quot;);
    fgets(password, sizeof(password), stdin);
    password[strcspn(password, &quot;\n&quot;)] = '\0'; // Eliminar el salt de l&iacute;nia
    hashPassword(password);
    return 0;
}</pre></div><div class='content'></div><h1><ol start="6">
<li>Gestió d'Errors i Excepcions</li>
</ol>
</h1>
<div class='content'><p>Gestionar els errors de manera adequada per evitar que el programa es comporti de manera inesperada.</p>
</div><h2><p>Exemple de Gestió d'Errors</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgRklMRSAqZmlsZSA9IGZvcGVuKCJub25leGlzdGVudC50eHQiLCAiciIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLy8gTGxlZ2lyIGkgcHJvY2Vzc2FyIGVsIGZpdHhlcgoKICAgIGZjbG9zZShmaWxlKTsKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    FILE *file = fopen(&quot;nonexistent.txt&quot;, &quot;r&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return 1;
    }

    // Llegir i processar el fitxer

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h1><ol start="7">
<li>Pràctiques de Codificació Segura</li>
</ol>
</h1>
<div class='content'><p>Seguir pràctiques de codificació segura per minimitzar les vulnerabilitats.</p>
</div><h2><p>Consells de Codificació Segura</p>
</h2>
<div class='content'><ul>
<li><strong>Evitar l'ús de funcions insegures</strong>: Utilitzar alternatives segures com <code>strncpy</code> en lloc de <code>strcpy</code>.</li>
<li><strong>Validar totes les entrades</strong>: No confiar mai en les dades d'entrada sense validar-les.</li>
<li><strong>Gestionar la memòria amb cura</strong>: Assegurar-se de que tota la memòria assignada es desallibera.</li>
<li><strong>Utilitzar tècniques d'encriptació</strong>: Protegir dades sensibles amb encriptació i hashing.</li>
<li><strong>Controlar els accessos</strong>: Implementar mecanismes d'autenticació i autorització.</li>
</ul>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem explorat diverses consideracions de seguretat que hauríem de tenir en compte quan programem en C. Hem vist exemples pràctics de com evitar desbordaments de memòria, validar entrades, gestionar la memòria de manera segura, controlar l'accés, utilitzar encriptació i hashing, gestionar errors i seguir pràctiques de codificació segura. Seguir aquestes pràctiques ens ajudarà a escriure codi més segur i robust.</p>
<p>En el següent tema, explorarem les directrius del projecte final, on podreu aplicar tots els coneixements adquirits durant el curs.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='11-03-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='12-01-project-guidelines' title="Directrius del Projecte">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
