<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processament d'Arxius Relatius</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cobol/04-04-relative-file-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cobol/04-04-relative-file-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cobol/04-04-relative-file-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/cobol/04-04-relative-file-processing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/cobol/04-04-relative-file-processing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Processament d'Arxius Relatius</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-tables-arrays' title="Taules i Arrays">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem sobre el processament d'arxius relatius en COBOL. Els arxius relatius són una forma d'emmagatzematge de dades on cada registre té una posició relativa dins de l'arxiu. Això permet accedir directament a qualsevol registre si es coneix la seva posició relativa.</p>
</div><h1><p>Objectius</p>
</h1>
<div class='content'><ul>
<li>Entendre què són els arxius relatius.</li>
<li>Aprendre a definir i utilitzar arxius relatius en COBOL.</li>
<li>Realitzar operacions bàsiques com llegir, escriure, actualitzar i esborrar registres en arxius relatius.</li>
</ul>
</div><h1><p>Què són els Arxius Relatius?</p>
</h1>
<div class='content'><p>Els arxius relatius són arxius on cada registre es pot accedir directament mitjançant un número de registre relatiu (RRN - Relative Record Number). Això permet un accés ràpid i eficient als registres, ja que no cal llegir l'arxiu seqüencialment per trobar un registre específic.</p>
</div><h2><p>Característiques dels Arxius Relatius</p>
</h2>
<div class='content'><ul>
<li><strong>Accés Directe:</strong> Es pot accedir directament a qualsevol registre si es coneix el seu número de registre relatiu.</li>
<li><strong>Eficient:</strong> L'accés directe fa que les operacions siguin més ràpides en comparació amb els arxius seqüencials.</li>
<li><strong>Flexibilitat:</strong> Permet operacions com la inserció, actualització i esborrat de registres de manera eficient.</li>
</ul>
</div><h1><p>Definició d'Arxius Relatius en COBOL</p>
</h1>
<div class='content'><p>Per treballar amb arxius relatius en COBOL, cal definir l'arxiu en la secció <code>FILE-CONTROL</code> i la seva estructura en la secció <code>DATA DIVISION</code>.</p>
</div><h2><p>Exemple de Definició d'un Arxiu Relatiu</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlbGF0aXZlRmlsZUV4YW1wbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCByZWxhdGl2ZS1maWxlIEFTU0lHTiBUTyAicmVsYXRpdmUuZGF0IgogICAgT1JHQU5JWkFUSU9OIElTIFJFTEFUSVZFCiAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgIFJFQ09SRCBLRVkgSVMgcmVsYXRpdmUta2V5CiAgICBGSUxFIFNUQVRVUyBJUyBmaWxlLXN0YXR1cy4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIHJlbGF0aXZlLWZpbGUuCjAxICByZWxhdGl2ZS1yZWNvcmQuCiAgICAwNSAgcmVsYXRpdmUta2V5ICAgIFBJQyA5KDQpLgogICAgMDUgIHJlbGF0aXZlLWRhdGEgICBQSUMgWCgyMCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIGZpbGUtc3RhdHVzICAgICAgICAgUElDIFhYLgowMSAgd3MtcmVsYXRpdmUta2V5ICAgICBQSUMgOSg0KS4KMDEgIHdzLXJlbGF0aXZlLWRhdGEgICAgUElDIFgoMjApLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBPVVRQVVQgcmVsYXRpdmUtZmlsZQogICAgTU9WRSAxIFRPIHdzLXJlbGF0aXZlLWtleQogICAgTU9WRSAiRmlyc3QgUmVjb3JkIiBUTyB3cy1yZWxhdGl2ZS1kYXRhCiAgICBXUklURSByZWxhdGl2ZS1yZWNvcmQKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIE1PVkUgIlNlY29uZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. RelativeFileExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN OUTPUT relative-file
    MOVE 1 TO ws-relative-key
    MOVE &quot;First Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 2 TO ws-relative-key
    MOVE &quot;Second Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ul>
<li><strong>FILE-CONTROL:</strong> Defineix l'arxiu relatiu amb <code>ORGANIZATION IS RELATIVE</code> i <code>ACCESS MODE IS RANDOM</code>.</li>
<li><strong>FILE SECTION:</strong> Defineix l'estructura del registre amb un camp clau (<code>relative-key</code>) i un camp de dades (<code>relative-data</code>).</li>
<li><strong>WORKING-STORAGE SECTION:</strong> Defineix variables de treball per gestionar els registres.</li>
<li><strong>PROCEDURE DIVISION:</strong> Obre l'arxiu en mode de sortida (<code>OUTPUT</code>), escriu dos registres i tanca l'arxiu.</li>
</ul>
</div><h1><p>Operacions Bàsiques amb Arxius Relatius</p>
</h1>
<div class='content'></div><h2><p>Llegir un Registre</p>
</h2>
<div class='content'><p>Per llegir un registre específic, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>READ</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSU5QVVQgcmVsYXRpdmUtZmlsZQogICAgTU9WRSAxIFRPIHdzLXJlbGF0aXZlLWtleQogICAgUkVBRCByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1SRUFECiAgICBESVNQTEFZICJLZXk6ICIgd3MtcmVsYXRpdmUta2V5ICIgRGF0YTogIiB3cy1yZWxhdGl2ZS1kYXRhCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN INPUT relative-file
    MOVE 1 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    DISPLAY &quot;Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    CLOSE relative-file.</pre></div><div class='content'></div><h2><p>Escriure un Registre</p>
</h2>
<div class='content'><p>Per escriure un nou registre, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>WRITE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gT1VUUFVUIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMyBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIE1PVkUgIlRoaXJkIFJlY29yZCIgVE8gd3MtcmVsYXRpdmUtZGF0YQogICAgV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN OUTPUT relative-file
    MOVE 3 TO ws-relative-key
    MOVE &quot;Third Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file.</pre></div><div class='content'></div><h2><p>Actualitzar un Registre</p>
</h2>
<div class='content'><p>Per actualitzar un registre existent, cal llegir el registre, modificar les dades i utilitzar la sentència <code>REWRITE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSS1PIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIFJFQUQgcmVsYXRpdmUtZmlsZQogICAgICAgIElOVkFMSUQgS0VZIERJU1BMQVkgIlJlY29yZCBub3QgZm91bmQiCiAgICBFTkQtUkVBRAogICAgTU9WRSAiVXBkYXRlZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFJFV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    MOVE &quot;Updated Record&quot; TO ws-relative-data
    REWRITE relative-record
    CLOSE relative-file.</pre></div><div class='content'></div><h2><p>Esborrar un Registre</p>
</h2>
<div class='content'><p>Per esborrar un registre, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>DELETE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSS1PIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIERFTEVURSByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1ERUxFVEUKICAgIENMT1NFIHJlbGF0aXZlLWZpbGUu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    DELETE relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-DELETE
    CLOSE relative-file.</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear i Escriure en un Arxiu Relatiu</p>
</h2>
<div class='content'><ol>
<li>Defineix un arxiu relatiu amb una estructura de registre que contingui un camp clau i un camp de dades.</li>
<li>Escriu un programa COBOL que creï l'arxiu i escrigui tres registres en ell.</li>
</ol>
</div><h2><p>Exercici 2: Llegir i Actualitzar un Registre</p>
</h2>
<div class='content'><ol>
<li>Escriu un programa COBOL que llegeixi un registre específic d'un arxiu relatiu.</li>
<li>Actualitza el camp de dades del registre llegit i guarda els canvis.</li>
</ol>
</div><h2><p>Exercici 3: Esborrar un Registre</p>
</h2>
<div class='content'><ol>
<li>Escriu un programa COBOL que esborri un registre específic d'un arxiu relatiu.</li>
<li>Verifica que el registre ha estat esborrat intentant llegir-lo després de l'esborrat.</li>
</ol>
</div><h1><p>Solucions als Exercicis</p>
</h1>
<div class='content'></div><h2><p>Solució a l'Exercici 1</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIENyZWF0ZVJlbGF0aXZlRmlsZS4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIHJlbGF0aXZlLWZpbGUgQVNTSUdOIFRPICJyZWxhdGl2ZS5kYXQiCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVDT1JEIEtFWSBJUyByZWxhdGl2ZS1rZXkKICAgIEZJTEUgU1RBVFVTIElTIGZpbGUtc3RhdHVzLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgcmVsYXRpdmUtZmlsZS4KMDEgIHJlbGF0aXZlLXJlY29yZC4KICAgIDA1ICByZWxhdGl2ZS1rZXkgICAgUElDIDkoNCkuCiAgICAwNSAgcmVsYXRpdmUtZGF0YSAgIFBJQyBYKDIwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgZmlsZS1zdGF0dXMgICAgICAgICBQSUMgWFguCjAxICB3cy1yZWxhdGl2ZS1rZXkgICAgIFBJQyA5KDQpLgowMSAgd3MtcmVsYXRpdmUtZGF0YSAgICBQSUMgWCgyMCkuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIE9VVFBVVCByZWxhdGl2ZS1maWxlCiAgICBNT1ZFIDEgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBNT1ZFICJGaXJzdCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgTU9WRSAyIFRPIHdzLXJlbGF0aXZlLWtleQogICAgTU9WRSAiU2Vjb25kIFJlY29yZCIgVE8gd3MtcmVsYXRpdmUtZGF0YQogICAgV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBNT1ZFIDMgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBNT1ZFICJUaGlyZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. CreateRelativeFile.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN OUTPUT relative-file
    MOVE 1 TO ws-relative-key
    MOVE &quot;First Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 2 TO ws-relative-key
    MOVE &quot;Second Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 3 TO ws-relative-key
    MOVE &quot;Third Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2><p>Solució a l'Exercici 2</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlYWRVcGRhdGVSZWxhdGl2ZUZpbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCByZWxhdGl2ZS1maWxlIEFTU0lHTiBUTyAicmVsYXRpdmUuZGF0IgogICAgT1JHQU5JWkFUSU9OIElTIFJFTEFUSVZFCiAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgIFJFQ09SRCBLRVkgSVMgcmVsYXRpdmUta2V5CiAgICBGSUxFIFNUQVRVUyBJUyBmaWxlLXN0YXR1cy4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIHJlbGF0aXZlLWZpbGUuCjAxICByZWxhdGl2ZS1yZWNvcmQuCiAgICAwNSAgcmVsYXRpdmUta2V5ICAgIFBJQyA5KDQpLgogICAgMDUgIHJlbGF0aXZlLWRhdGEgICBQSUMgWCgyMCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIGZpbGUtc3RhdHVzICAgICAgICAgUElDIFhYLgowMSAgd3MtcmVsYXRpdmUta2V5ICAgICBQSUMgOSg0KS4KMDEgIHdzLXJlbGF0aXZlLWRhdGEgICAgUElDIFgoMjApLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gcmVsYXRpdmUtZmlsZQogICAgTU9WRSAyIFRPIHdzLXJlbGF0aXZlLWtleQogICAgUkVBRCByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1SRUFECiAgICBESVNQTEFZICJCZWZvcmUgVXBkYXRlIC0gS2V5OiAiIHdzLXJlbGF0aXZlLWtleSAiIERhdGE6ICIgd3MtcmVsYXRpdmUtZGF0YQogICAgTU9WRSAiVXBkYXRlZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFJFV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBESVNQTEFZICJBZnRlciBVcGRhdGUgLSBLZXk6ICIgd3MtcmVsYXRpdmUta2V5ICIgRGF0YTogIiB3cy1yZWxhdGl2ZS1kYXRhCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlCiAgICBTVE9QIFJVTi4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. ReadUpdateRelativeFile.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    DISPLAY &quot;Before Update - Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    MOVE &quot;Updated Record&quot; TO ws-relative-data
    REWRITE relative-record
    DISPLAY &quot;After Update - Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2><p>Solució a l'Exercici 3</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIERlbGV0ZVJlbGF0aXZlRmlsZVJlY29yZC4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIHJlbGF0aXZlLWZpbGUgQVNTSUdOIFRPICJyZWxhdGl2ZS5kYXQiCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVDT1JEIEtFWSBJUyByZWxhdGl2ZS1rZXkKICAgIEZJTEUgU1RBVFVTIElTIGZpbGUtc3RhdHVzLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgcmVsYXRpdmUtZmlsZS4KMDEgIHJlbGF0aXZlLXJlY29yZC4KICAgIDA1ICByZWxhdGl2ZS1rZXkgICAgUElDIDkoNCkuCiAgICAwNSAgcmVsYXRpdmUtZGF0YSAgIFBJQyBYKDIwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgZmlsZS1zdGF0dXMgICAgICAgICBQSUMgWFguCjAxICB3cy1yZWxhdGl2ZS1rZXkgICAgIFBJQyA5KDQpLgowMSAgd3MtcmVsYXRpdmUtZGF0YSAgICBQSUMgWCgyMCkuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIEktTyByZWxhdGl2ZS1maWxlCiAgICBNT1ZFIDIgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBERUxFVEUgcmVsYXRpdmUtZmlsZQogICAgICAgIElOVkFMSUQgS0VZIERJU1BMQVkgIlJlY29yZCBub3QgZm91bmQiCiAgICBFTkQtREVMRVRFCiAgICBNT1ZFIDIgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBSRUFEIHJlbGF0aXZlLWZpbGUKICAgICAgICBJTlZBTElEIEtFWSBESVNQTEFZICJSZWNvcmQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiCiAgICBFTkQtUkVBRAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. DeleteRelativeFileRecord.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    DELETE relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-DELETE
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record successfully deleted&quot;
    END-READ
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après què són els arxius relatius i com treballar amb ells en COBOL. Hem vist com definir, llegir, escriure, actualitzar i esborrar registres en arxius relatius. Els exercicis pràctics proporcionats ajuden a reforçar els conceptes apresos i a adquirir experiència pràctica en el processament d'arxius relatius.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-tables-arrays' title="Taules i Arrays">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
