<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Processament d'Arxius Relatius</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cobol/04-04-relative-file-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cobol/04-04-relative-file-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cobol/04-04-relative-file-processing" hreflang="en" />
    
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
	<link href="/css/bootstrap/bootstrap.css?v=1" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<!-- 
  	<style type="text/css">
  		img {
  			visibility:hidden;
  		}
  	</style>
  	 -->
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "languages";
  		var MOD_NAME = "cobol";
  		var TEMA_NAME = "04-04";
  		var TYPE = "mod";
  		var PATH = "mod/cobol/04-04-relative-file-processing";
  		var IS_INDEX = false;
  		var DEVELOP = sessionStorage.getItem("DEVELOP") == "true";
  		  		var ALL_PAGES_MOD = ["01-01-what-is-cobol","01-02-history-of-cobol","01-03-setting-up-cobol-environment","01-04-basic-structure-cobol-program","02-01-cobol-syntax","02-02-data-types-cobol","02-03-variables-constants","02-04-arithmetic-operations","03-01-conditional-statements","03-02-looping-constructs","03-03-nested-control-structures","04-01-file-handling-cobol","04-02-sequential-file-processing","04-03-indexed-file-processing","04-04-relative-file-processing","05-01-tables-arrays","05-02-multi-dimensional-arrays","05-03-string-handling","05-04-sorting-merging-data","06-01-introduction-subprograms","06-02-call-statement","06-03-passing-parameters","06-04-modular-programming-techniques","07-01-error-handling-techniques","07-02-debugging-cobol-programs","07-03-common-errors-solutions","08-01-introduction-cobol-db2","08-02-embedded-sql-cobol","08-03-database-operations","08-04-handling-cursors","09-01-object-oriented-cobol","09-02-cobol-web-services","09-03-performance-tuning","09-04-best-practices-cobol","10-01-real-world-cobol-projects","10-02-case-study-banking-system","10-03-case-study-inventory-management","10-04-final-project-guidelines"];
  		  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
  	<script type="module" src="/js/app.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/cobol/04-04-relative-file-processing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/cobol/04-04-relative-file-processing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0">
	<div class="col-6 p-0" data-mod="cobol">
		<a  href="#" class="text-secondary d-none" data-read-mod="cobol" data-read-unit="04-04" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="cobol" data-unread-unit="04-04" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats" class="py-2 px-3 btn btn-primary d-none d-md-inline">
				<i class="bi bi-caret-left-square-fill"></i> Anterior 
			</a>
			<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats" class="py-2 px-3 btn btn-primary d-md-none">
				<i class="bi bi-caret-left-square-fill"></i>
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Processament d'Arxius Relatius</h2>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-tables-arrays' title="Taules i Arrays" class="py-2 px-3 d-none d-md-inline btn btn-primary"
				data-read-mod="cobol" data-read-unit="04-04">
				Següent <i class="bi bi-caret-right-square-fill"></i>
			</a>
			<a href='05-01-tables-arrays' title="Taules i Arrays" class="py-2 px-3 d-md-none btn btn-primary" 
				data-read-mod="cobol" data-read-unit="04-04">
				<i class="bi bi-caret-right-square-fill"></i>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem sobre el processament d'arxius relatius en COBOL. Els arxius relatius són una forma d'emmagatzematge de dades on cada registre té una posició relativa dins de l'arxiu. Això permet accedir directament a qualsevol registre si es coneix la seva posició relativa.</p>
</div><h1>Objectius</h1>
<div class='content'><ul>
<li>Entendre què són els arxius relatius.</li>
<li>Aprendre a definir i utilitzar arxius relatius en COBOL.</li>
<li>Realitzar operacions bàsiques com llegir, escriure, actualitzar i esborrar registres en arxius relatius.</li>
</ul>
</div><h1>Què són els Arxius Relatius?</h1>
<div class='content'><p>Els arxius relatius són arxius on cada registre es pot accedir directament mitjançant un número de registre relatiu (RRN - Relative Record Number). Això permet un accés ràpid i eficient als registres, ja que no cal llegir l'arxiu seqüencialment per trobar un registre específic.</p>
</div><h2>Característiques dels Arxius Relatius</h2>
<div class='content'><ul>
<li><strong>Accés Directe:</strong> Es pot accedir directament a qualsevol registre si es coneix el seu número de registre relatiu.</li>
<li><strong>Eficient:</strong> L'accés directe fa que les operacions siguin més ràpides en comparació amb els arxius seqüencials.</li>
<li><strong>Flexibilitat:</strong> Permet operacions com la inserció, actualització i esborrat de registres de manera eficient.</li>
</ul>
</div><h1>Definició d'Arxius Relatius en COBOL</h1>
<div class='content'><p>Per treballar amb arxius relatius en COBOL, cal definir l'arxiu en la secció <code>FILE-CONTROL</code> i la seva estructura en la secció <code>DATA DIVISION</code>.</p>
</div><h2>Exemple de Definició d'un Arxiu Relatiu</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlbGF0aXZlRmlsZUV4YW1wbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCByZWxhdGl2ZS1maWxlIEFTU0lHTiBUTyAicmVsYXRpdmUuZGF0IgogICAgT1JHQU5JWkFUSU9OIElTIFJFTEFUSVZFCiAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgIFJFQ09SRCBLRVkgSVMgcmVsYXRpdmUta2V5CiAgICBGSUxFIFNUQVRVUyBJUyBmaWxlLXN0YXR1cy4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIHJlbGF0aXZlLWZpbGUuCjAxICByZWxhdGl2ZS1yZWNvcmQuCiAgICAwNSAgcmVsYXRpdmUta2V5ICAgIFBJQyA5KDQpLgogICAgMDUgIHJlbGF0aXZlLWRhdGEgICBQSUMgWCgyMCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIGZpbGUtc3RhdHVzICAgICAgICAgUElDIFhYLgowMSAgd3MtcmVsYXRpdmUta2V5ICAgICBQSUMgOSg0KS4KMDEgIHdzLXJlbGF0aXZlLWRhdGEgICAgUElDIFgoMjApLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBPVVRQVVQgcmVsYXRpdmUtZmlsZQogICAgTU9WRSAxIFRPIHdzLXJlbGF0aXZlLWtleQogICAgTU9WRSAiRmlyc3QgUmVjb3JkIiBUTyB3cy1yZWxhdGl2ZS1kYXRhCiAgICBXUklURSByZWxhdGl2ZS1yZWNvcmQKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIE1PVkUgIlNlY29uZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. RelativeFileExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN OUTPUT relative-file
    MOVE 1 TO ws-relative-key
    MOVE &quot;First Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 2 TO ws-relative-key
    MOVE &quot;Second Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>FILE-CONTROL:</strong> Defineix l'arxiu relatiu amb <code>ORGANIZATION IS RELATIVE</code> i <code>ACCESS MODE IS RANDOM</code>.</li>
<li><strong>FILE SECTION:</strong> Defineix l'estructura del registre amb un camp clau (<code>relative-key</code>) i un camp de dades (<code>relative-data</code>).</li>
<li><strong>WORKING-STORAGE SECTION:</strong> Defineix variables de treball per gestionar els registres.</li>
<li><strong>PROCEDURE DIVISION:</strong> Obre l'arxiu en mode de sortida (<code>OUTPUT</code>), escriu dos registres i tanca l'arxiu.</li>
</ul>
</div><h1>Operacions Bàsiques amb Arxius Relatius</h1>
<div class='content'></div><h2>Llegir un Registre</h2>
<div class='content'><p>Per llegir un registre específic, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>READ</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSU5QVVQgcmVsYXRpdmUtZmlsZQogICAgTU9WRSAxIFRPIHdzLXJlbGF0aXZlLWtleQogICAgUkVBRCByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1SRUFECiAgICBESVNQTEFZICJLZXk6ICIgd3MtcmVsYXRpdmUta2V5ICIgRGF0YTogIiB3cy1yZWxhdGl2ZS1kYXRhCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN INPUT relative-file
    MOVE 1 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    DISPLAY &quot;Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    CLOSE relative-file.</pre></div><div class='content'></div><h2>Escriure un Registre</h2>
<div class='content'><p>Per escriure un nou registre, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>WRITE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gT1VUUFVUIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMyBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIE1PVkUgIlRoaXJkIFJlY29yZCIgVE8gd3MtcmVsYXRpdmUtZGF0YQogICAgV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN OUTPUT relative-file
    MOVE 3 TO ws-relative-key
    MOVE &quot;Third Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file.</pre></div><div class='content'></div><h2>Actualitzar un Registre</h2>
<div class='content'><p>Per actualitzar un registre existent, cal llegir el registre, modificar les dades i utilitzar la sentència <code>REWRITE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSS1PIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIFJFQUQgcmVsYXRpdmUtZmlsZQogICAgICAgIElOVkFMSUQgS0VZIERJU1BMQVkgIlJlY29yZCBub3QgZm91bmQiCiAgICBFTkQtUkVBRAogICAgTU9WRSAiVXBkYXRlZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFJFV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    MOVE &quot;Updated Record&quot; TO ws-relative-data
    REWRITE relative-record
    CLOSE relative-file.</pre></div><div class='content'></div><h2>Esborrar un Registre</h2>
<div class='content'><p>Per esborrar un registre, cal moure el número de registre relatiu a la clau i utilitzar la sentència <code>DELETE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE9QRU4gSS1PIHJlbGF0aXZlLWZpbGUKICAgIE1PVkUgMiBUTyB3cy1yZWxhdGl2ZS1rZXkKICAgIERFTEVURSByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1ERUxFVEUKICAgIENMT1NFIHJlbGF0aXZlLWZpbGUu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    DELETE relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-DELETE
    CLOSE relative-file.</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear i Escriure en un Arxiu Relatiu</h2>
<div class='content'><ol>
<li>Defineix un arxiu relatiu amb una estructura de registre que contingui un camp clau i un camp de dades.</li>
<li>Escriu un programa COBOL que creï l'arxiu i escrigui tres registres en ell.</li>
</ol>
</div><h2>Exercici 2: Llegir i Actualitzar un Registre</h2>
<div class='content'><ol>
<li>Escriu un programa COBOL que llegeixi un registre específic d'un arxiu relatiu.</li>
<li>Actualitza el camp de dades del registre llegit i guarda els canvis.</li>
</ol>
</div><h2>Exercici 3: Esborrar un Registre</h2>
<div class='content'><ol>
<li>Escriu un programa COBOL que esborri un registre específic d'un arxiu relatiu.</li>
<li>Verifica que el registre ha estat esborrat intentant llegir-lo després de l'esborrat.</li>
</ol>
</div><h1>Solucions als Exercicis</h1>
<div class='content'></div><h2>Solució a l'Exercici 1</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIENyZWF0ZVJlbGF0aXZlRmlsZS4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIHJlbGF0aXZlLWZpbGUgQVNTSUdOIFRPICJyZWxhdGl2ZS5kYXQiCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVDT1JEIEtFWSBJUyByZWxhdGl2ZS1rZXkKICAgIEZJTEUgU1RBVFVTIElTIGZpbGUtc3RhdHVzLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgcmVsYXRpdmUtZmlsZS4KMDEgIHJlbGF0aXZlLXJlY29yZC4KICAgIDA1ICByZWxhdGl2ZS1rZXkgICAgUElDIDkoNCkuCiAgICAwNSAgcmVsYXRpdmUtZGF0YSAgIFBJQyBYKDIwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgZmlsZS1zdGF0dXMgICAgICAgICBQSUMgWFguCjAxICB3cy1yZWxhdGl2ZS1rZXkgICAgIFBJQyA5KDQpLgowMSAgd3MtcmVsYXRpdmUtZGF0YSAgICBQSUMgWCgyMCkuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIE9VVFBVVCByZWxhdGl2ZS1maWxlCiAgICBNT1ZFIDEgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBNT1ZFICJGaXJzdCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgTU9WRSAyIFRPIHdzLXJlbGF0aXZlLWtleQogICAgTU9WRSAiU2Vjb25kIFJlY29yZCIgVE8gd3MtcmVsYXRpdmUtZGF0YQogICAgV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBNT1ZFIDMgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBNT1ZFICJUaGlyZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFdSSVRFIHJlbGF0aXZlLXJlY29yZAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. CreateRelativeFile.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN OUTPUT relative-file
    MOVE 1 TO ws-relative-key
    MOVE &quot;First Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 2 TO ws-relative-key
    MOVE &quot;Second Record&quot; TO ws-relative-data
    WRITE relative-record
    MOVE 3 TO ws-relative-key
    MOVE &quot;Third Record&quot; TO ws-relative-data
    WRITE relative-record
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2>Solució a l'Exercici 2</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlYWRVcGRhdGVSZWxhdGl2ZUZpbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCByZWxhdGl2ZS1maWxlIEFTU0lHTiBUTyAicmVsYXRpdmUuZGF0IgogICAgT1JHQU5JWkFUSU9OIElTIFJFTEFUSVZFCiAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgIFJFQ09SRCBLRVkgSVMgcmVsYXRpdmUta2V5CiAgICBGSUxFIFNUQVRVUyBJUyBmaWxlLXN0YXR1cy4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIHJlbGF0aXZlLWZpbGUuCjAxICByZWxhdGl2ZS1yZWNvcmQuCiAgICAwNSAgcmVsYXRpdmUta2V5ICAgIFBJQyA5KDQpLgogICAgMDUgIHJlbGF0aXZlLWRhdGEgICBQSUMgWCgyMCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIGZpbGUtc3RhdHVzICAgICAgICAgUElDIFhYLgowMSAgd3MtcmVsYXRpdmUta2V5ICAgICBQSUMgOSg0KS4KMDEgIHdzLXJlbGF0aXZlLWRhdGEgICAgUElDIFgoMjApLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gcmVsYXRpdmUtZmlsZQogICAgTU9WRSAyIFRPIHdzLXJlbGF0aXZlLWtleQogICAgUkVBRCByZWxhdGl2ZS1maWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAiUmVjb3JkIG5vdCBmb3VuZCIKICAgIEVORC1SRUFECiAgICBESVNQTEFZICJCZWZvcmUgVXBkYXRlIC0gS2V5OiAiIHdzLXJlbGF0aXZlLWtleSAiIERhdGE6ICIgd3MtcmVsYXRpdmUtZGF0YQogICAgTU9WRSAiVXBkYXRlZCBSZWNvcmQiIFRPIHdzLXJlbGF0aXZlLWRhdGEKICAgIFJFV1JJVEUgcmVsYXRpdmUtcmVjb3JkCiAgICBESVNQTEFZICJBZnRlciBVcGRhdGUgLSBLZXk6ICIgd3MtcmVsYXRpdmUta2V5ICIgRGF0YTogIiB3cy1yZWxhdGl2ZS1kYXRhCiAgICBDTE9TRSByZWxhdGl2ZS1maWxlCiAgICBTVE9QIFJVTi4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. ReadUpdateRelativeFile.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-READ
    DISPLAY &quot;Before Update - Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    MOVE &quot;Updated Record&quot; TO ws-relative-data
    REWRITE relative-record
    DISPLAY &quot;After Update - Key: &quot; ws-relative-key &quot; Data: &quot; ws-relative-data
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h2>Solució a l'Exercici 3</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIERlbGV0ZVJlbGF0aXZlRmlsZVJlY29yZC4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIHJlbGF0aXZlLWZpbGUgQVNTSUdOIFRPICJyZWxhdGl2ZS5kYXQiCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVDT1JEIEtFWSBJUyByZWxhdGl2ZS1rZXkKICAgIEZJTEUgU1RBVFVTIElTIGZpbGUtc3RhdHVzLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgcmVsYXRpdmUtZmlsZS4KMDEgIHJlbGF0aXZlLXJlY29yZC4KICAgIDA1ICByZWxhdGl2ZS1rZXkgICAgUElDIDkoNCkuCiAgICAwNSAgcmVsYXRpdmUtZGF0YSAgIFBJQyBYKDIwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgZmlsZS1zdGF0dXMgICAgICAgICBQSUMgWFguCjAxICB3cy1yZWxhdGl2ZS1rZXkgICAgIFBJQyA5KDQpLgowMSAgd3MtcmVsYXRpdmUtZGF0YSAgICBQSUMgWCgyMCkuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIEktTyByZWxhdGl2ZS1maWxlCiAgICBNT1ZFIDIgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBERUxFVEUgcmVsYXRpdmUtZmlsZQogICAgICAgIElOVkFMSUQgS0VZIERJU1BMQVkgIlJlY29yZCBub3QgZm91bmQiCiAgICBFTkQtREVMRVRFCiAgICBNT1ZFIDIgVE8gd3MtcmVsYXRpdmUta2V5CiAgICBSRUFEIHJlbGF0aXZlLWZpbGUKICAgICAgICBJTlZBTElEIEtFWSBESVNQTEFZICJSZWNvcmQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiCiAgICBFTkQtUkVBRAogICAgQ0xPU0UgcmVsYXRpdmUtZmlsZQogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. DeleteRelativeFileRecord.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT relative-file ASSIGN TO &quot;relative.dat&quot;
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RECORD KEY IS relative-key
    FILE STATUS IS file-status.

DATA DIVISION.
FILE SECTION.
FD  relative-file.
01  relative-record.
    05  relative-key    PIC 9(4).
    05  relative-data   PIC X(20).

WORKING-STORAGE SECTION.
01  file-status         PIC XX.
01  ws-relative-key     PIC 9(4).
01  ws-relative-data    PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O relative-file
    MOVE 2 TO ws-relative-key
    DELETE relative-file
        INVALID KEY DISPLAY &quot;Record not found&quot;
    END-DELETE
    MOVE 2 TO ws-relative-key
    READ relative-file
        INVALID KEY DISPLAY &quot;Record successfully deleted&quot;
    END-READ
    CLOSE relative-file
    STOP RUN.</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après què són els arxius relatius i com treballar amb ells en COBOL. Hem vist com definir, llegir, escriure, actualitzar i esborrar registres en arxius relatius. Els exercicis pràctics proporcionats ajuden a reforçar els conceptes apresos i a adquirir experiència pràctica en el processament d'arxius relatius.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats" class="py-2 px-3 btn btn-primary d-none d-md-inline">
				<i class="bi bi-caret-left-square-fill"></i> Anterior 
			</a>
			<a href='04-03-indexed-file-processing' title="Processament d'Arxius Indexats" class="py-2 px-3 btn btn-primary d-md-none">
				<i class="bi bi-caret-left-square-fill"></i>
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-tables-arrays' title="Taules i Arrays" class="py-2 px-3 d-none d-md-inline btn btn-primary"
				data-read-mod="cobol" data-read-unit="04-04">
				Següent <i class="bi bi-caret-right-square-fill"></i>
			</a>
			<a href='05-01-tables-arrays' title="Taules i Arrays" class="py-2 px-3 d-md-none btn btn-primary" 
				data-read-mod="cobol" data-read-unit="04-04">
				<i class="bi bi-caret-right-square-fill"></i>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Programació COBOL</h1>
<h2>Mòdul 1: Introducció al COBOL</h2>
<ul>
<li><a href="01-01-what-is-cobol">Què és el COBOL?</a></li>
<li><a href="01-02-history-of-cobol">Història del COBOL</a></li>
<li><a href="01-03-setting-up-cobol-environment">Configuració de l'Entorn COBOL</a></li>
<li><a href="01-04-basic-structure-cobol-program">Estructura Bàsica d'un Programa COBOL</a></li>
</ul>
<h2>Mòdul 2: Sintaxi Bàsica del COBOL i Tipus de Dades</h2>
<ul>
<li><a href="02-01-cobol-syntax">Sintaxi del COBOL</a></li>
<li><a href="02-02-data-types-cobol">Tipus de Dades en COBOL</a></li>
<li><a href="02-03-variables-constants">Variables i Constants</a></li>
<li><a href="02-04-arithmetic-operations">Operacions Aritmètiques</a></li>
</ul>
<h2>Mòdul 3: Estructures de Control</h2>
<ul>
<li><a href="03-01-conditional-statements">Sentències Condicionals</a></li>
<li><a href="03-02-looping-constructs">Construccions de Bucle</a></li>
<li><a href="03-03-nested-control-structures">Estructures de Control Imbricades</a></li>
</ul>
<h2>Mòdul 4: Treballant amb Dades</h2>
<ul>
<li><a href="04-01-file-handling-cobol">Gestió d'Arxius en COBOL</a></li>
<li><a href="04-02-sequential-file-processing">Processament d'Arxius Seqüencials</a></li>
<li><a href="04-03-indexed-file-processing">Processament d'Arxius Indexats</a></li>
<li><a href="04-04-relative-file-processing">Processament d'Arxius Relatius</a></li>
</ul>
<h2>Mòdul 5: Gestió Avançada de Dades</h2>
<ul>
<li><a href="05-01-tables-arrays">Taules i Arrays</a></li>
<li><a href="05-02-multi-dimensional-arrays">Arrays Multidimensionals</a></li>
<li><a href="05-03-string-handling">Gestió de Cadenes</a></li>
<li><a href="05-04-sorting-merging-data">Ordenació i Fusió de Dades</a></li>
</ul>
<h2>Mòdul 6: Subprogrames i Programació Modular</h2>
<ul>
<li><a href="06-01-introduction-subprograms">Introducció als Subprogrames</a></li>
<li><a href="06-02-call-statement">Sentència CALL</a></li>
<li><a href="06-03-passing-parameters">Passant Paràmetres</a></li>
<li><a href="06-04-modular-programming-techniques">Tècniques de Programació Modular</a></li>
</ul>
<h2>Mòdul 7: Gestió d'Errors i Depuració</h2>
<ul>
<li><a href="07-01-error-handling-techniques">Tècniques de Gestió d'Errors</a></li>
<li><a href="07-02-debugging-cobol-programs">Depuració de Programes COBOL</a></li>
<li><a href="07-03-common-errors-solutions">Errors Comuns i Solucions</a></li>
</ul>
<h2>Mòdul 8: COBOL i Bases de Dades</h2>
<ul>
<li><a href="08-01-introduction-cobol-db2">Introducció al COBOL-DB2</a></li>
<li><a href="08-02-embedded-sql-cobol">SQL Inserit en COBOL</a></li>
<li><a href="08-03-database-operations">Operacions de Base de Dades</a></li>
<li><a href="08-04-handling-cursors">Gestió de Cursors</a></li>
</ul>
<h2>Mòdul 9: Temes Avançats</h2>
<ul>
<li><a href="09-01-object-oriented-cobol">COBOL Orientat a Objectes</a></li>
<li><a href="09-02-cobol-web-services">COBOL i Serveis Web</a></li>
<li><a href="09-03-performance-tuning">Optimització del Rendiment</a></li>
<li><a href="09-04-best-practices-cobol">Millors Pràctiques en Programació COBOL</a></li>
</ul>
<h2>Mòdul 10: Projecte i Estudis de Cas</h2>
<ul>
<li><a href="10-01-real-world-cobol-projects">Projectes COBOL del Món Real</a></li>
<li><a href="10-02-case-study-banking-system">Estudi de Cas 1: Sistema Bancari</a></li>
<li><a href="10-03-case-study-inventory-management">Estudi de Cas 2: Gestió d'Inventari</a></li>
<li><a href="10-04-final-project-guidelines">Directrius del Projecte Final</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="error"></div>
            	<div id="mensaje_info" class="text-success"></div>
            	
				<div class="mt-4 d-none" id="forgotPasswordSection">
					<div class="mb-3">
    <label for="recovery-email" class="form-label">Correu electrònic</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Introdueix el teu correu electrònic">
</div>
<button class="btn btn-primary" id="btnRecover">Enviar enllaç de recuperació</button>

				</div>
								
				<div class="mt-4 d-none" id="deleteUserSection">	
					<div class="mb-3 alert alert-danger">
	Atenció! Estàs a punt d'eliminar totes les dades de registre i progrés.<br><b>Aquesta acció no es pot desfer.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Introdueix la teva contrasenya">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Eliminar usuari</button>

				</div>
				
				<div class="mt-4 d-none" id="changePassordSection">
					<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Introdueix la contrasenya actual">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Introdueix la nova contrasenya">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeteix la nova contrasenya">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Canviar la contrasenya</button>

				</div>
				
				<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
					<p><b>Falta verificar correu</b></p>
					<a id="btnVerifyEmail" href="#">Enviar enllaç de verificació</a>

				</div>
				
				<div class="mt-4 d-none" id="disconnectUserSection">
					<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Desconnectar</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Canviar la contrasenya</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Eliminar usuari</a>
</div>

				</div>
            
            	<div class="mt-4 d-none" id="modalTabsSection">
            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Iniciar sessió
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Registrar-se
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Correu electrònic</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Introdueix el teu correu electrònic">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Contrasenya</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Introdueix la teva contrasenya">
</div>
<button class="btn btn-primary" id="btnLogin">Iniciar sessió</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Has oblidat la teva contrasenya?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Correu electrònic</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Introdueix el teu correu electrònic">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Contrasenya</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Introdueix la teva contrasenya">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Nom</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Introdueix el teu nom">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        He llegit i accepto la <a href="/privacity" target="blank">Política de Privacitat</a> i els <a href="/licence" target="blank">Termes i Condicions d'Ús</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        Vull rebre notícies i actualitzacions sobre els cursos (opcional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Registrar-se</button>
    </div>
</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
