<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assertions Personalitzades</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/03-04-custom-assertions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/03-04-custom-assertions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/03-04-custom-assertions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/junit/03-04-custom-assertions" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/junit/03-04-custom-assertions" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-advanced-assertions' title="Assertions Avançades">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Assertions Personalitzades</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-introduction-to-parameterized-tests' title="Introducció als Tests Parametritzats">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les assertions personalitzades són una eina poderosa que permet als desenvolupadors crear les seves pròpies verificacions específiques per a les necessitats del seu projecte. Aquestes assertions poden simplificar el codi de test i fer-lo més llegible i mantenible.</p>
</div><h1>Per què utilitzar assertions personalitzades?</h1>
<div class='content'><ul>
<li><strong>Reutilització de codi</strong>: Les assertions personalitzades permeten encapsular la lògica de verificació complexa en una sola funció, que es pot reutilitzar en múltiples tests.</li>
<li><strong>Millora de la llegibilitat</strong>: Les assertions personalitzades poden fer que els tests siguin més fàcils de llegir i entendre, ja que encapsulen la lògica de verificació en noms de mètodes significatius.</li>
<li><strong>Mantenibilitat</strong>: Si la lògica de verificació canvia, només cal actualitzar l'assertion personalitzada en un sol lloc.</li>
</ul>
</div><h1>Creació d'Assertions Personalitzades</h1>
<div class='content'></div><h2>Pas 1: Crear una Classe d'Assertions</h2>
<div class='content'><p>Primer, crearem una classe d'assertions personalitzades. Aquesta classe contindrà els mètodes d'assertion que encapsulen la lògica de verificació específica.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEN1c3RvbUFzc2VydGlvbnMgewoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3NlcnRJc1Bvc2l0aXZlKGludCBudW1iZXIpIHsKICAgICAgICBpZiAobnVtYmVyIDw9IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKCJFeHBlY3RlZCBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGdvdDogIiArIG51bWJlcik7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3NlcnRJc0V2ZW4oaW50IG51bWJlcikgewogICAgICAgIGlmIChudW1iZXIgJSAyICE9IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciwgYnV0IGdvdDogIiArIG51bWJlcik7CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CustomAssertions {

    public static void assertIsPositive(int number) {
        if (number &lt;= 0) {
            throw new AssertionError(&quot;Expected a positive number, but got: &quot; + number);
        }
    }

    public static void assertIsEven(int number) {
        if (number % 2 != 0) {
            throw new AssertionError(&quot;Expected an even number, but got: &quot; + number);
        }
    }
}</pre></div><div class='content'></div><h2>Pas 2: Utilitzar les Assertions Personalitzades en els Tests</h2>
<div class='content'><p>Ara que tenim la nostra classe d'assertions personalitzades, podem utilitzar aquests mètodes en els nostres tests.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwoKcHVibGljIGNsYXNzIEN1c3RvbUFzc2VydGlvbnNUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFBvc2l0aXZlTnVtYmVyKCkgewogICAgICAgIGludCBudW1iZXIgPSA1OwogICAgICAgIEN1c3RvbUFzc2VydGlvbnMuYXNzZXJ0SXNQb3NpdGl2ZShudW1iZXIpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0RXZlbk51bWJlcigpIHsKICAgICAgICBpbnQgbnVtYmVyID0gNDsKICAgICAgICBDdXN0b21Bc3NlcnRpb25zLmFzc2VydElzRXZlbihudW1iZXIpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TmVnYXRpdmVOdW1iZXIoKSB7CiAgICAgICAgaW50IG51bWJlciA9IC0zOwogICAgICAgIEN1c3RvbUFzc2VydGlvbnMuYXNzZXJ0SXNQb3NpdGl2ZShudW1iZXIpOyAvLyBBcXVlc3QgdGVzdCBmYWxsYXLDoAogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0T2RkTnVtYmVyKCkgewogICAgICAgIGludCBudW1iZXIgPSAzOwogICAgICAgIEN1c3RvbUFzc2VydGlvbnMuYXNzZXJ0SXNFdmVuKG51bWJlcik7IC8vIEFxdWVzdCB0ZXN0IGZhbGxhcsOgCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;

public class CustomAssertionsTest {

    @Test
    public void testPositiveNumber() {
        int number = 5;
        CustomAssertions.assertIsPositive(number);
    }

    @Test
    public void testEvenNumber() {
        int number = 4;
        CustomAssertions.assertIsEven(number);
    }

    @Test
    public void testNegativeNumber() {
        int number = -3;
        CustomAssertions.assertIsPositive(number); // Aquest test fallar&agrave;
    }

    @Test
    public void testOddNumber() {
        int number = 3;
        CustomAssertions.assertIsEven(number); // Aquest test fallar&agrave;
    }
}</pre></div><div class='content'></div><h2>Pas 3: Afegir Missatges d'Error Descriptius</h2>
<div class='content'><p>És important proporcionar missatges d'error descriptius per facilitar la depuració quan un test falla. Ja hem afegit missatges d'error en els nostres mètodes d'assertion personalitzats.</p>
</div><h2>Pas 4: Assertions Personalitzades amb Objectes Complexos</h2>
<div class='content'><p>Les assertions personalitzades també poden ser útils per verificar objectes complexos. Per exemple, si tenim una classe <code>Person</code> i volem verificar que dues instàncies de <code>Person</code> són iguals basant-nos en certs atributs, podem crear una assertion personalitzada per a això.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFBlcnNvbiB7CiAgICBwcml2YXRlIFN0cmluZyBuYW1lOwogICAgcHJpdmF0ZSBpbnQgYWdlOwoKICAgIC8vIENvbnN0cnVjdG9yLCBnZXR0ZXJzLCBhbmQgc2V0dGVycwp9CgpwdWJsaWMgY2xhc3MgQ3VzdG9tQXNzZXJ0aW9ucyB7CgogICAgcHVibGljIHN0YXRpYyB2b2lkIGFzc2VydFBlcnNvbkVxdWFscyhQZXJzb24gZXhwZWN0ZWQsIFBlcnNvbiBhY3R1YWwpIHsKICAgICAgICBpZiAoIWV4cGVjdGVkLmdldE5hbWUoKS5lcXVhbHMoYWN0dWFsLmdldE5hbWUoKSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKCJFeHBlY3RlZCBuYW1lOiAiICsgZXhwZWN0ZWQuZ2V0TmFtZSgpICsgIiwgYnV0IGdvdDogIiArIGFjdHVhbC5nZXROYW1lKCkpOwogICAgICAgIH0KICAgICAgICBpZiAoZXhwZWN0ZWQuZ2V0QWdlKCkgIT0gYWN0dWFsLmdldEFnZSgpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcigiRXhwZWN0ZWQgYWdlOiAiICsgZXhwZWN0ZWQuZ2V0QWdlKCkgKyAiLCBidXQgZ290OiAiICsgYWN0dWFsLmdldEFnZSgpKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Person {
    private String name;
    private int age;

    // Constructor, getters, and setters
}

public class CustomAssertions {

    public static void assertPersonEquals(Person expected, Person actual) {
        if (!expected.getName().equals(actual.getName())) {
            throw new AssertionError(&quot;Expected name: &quot; + expected.getName() + &quot;, but got: &quot; + actual.getName());
        }
        if (expected.getAge() != actual.getAge()) {
            throw new AssertionError(&quot;Expected age: &quot; + expected.getAge() + &quot;, but got: &quot; + actual.getAge());
        }
    }
}</pre></div><div class='content'></div><h2>Exemple d'ús amb Objectes Complexos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwoKcHVibGljIGNsYXNzIEN1c3RvbUFzc2VydGlvbnNUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFBlcnNvbkVxdWFsaXR5KCkgewogICAgICAgIFBlcnNvbiBleHBlY3RlZCA9IG5ldyBQZXJzb24oIkpvaG4iLCAzMCk7CiAgICAgICAgUGVyc29uIGFjdHVhbCA9IG5ldyBQZXJzb24oIkpvaG4iLCAzMCk7CiAgICAgICAgQ3VzdG9tQXNzZXJ0aW9ucy5hc3NlcnRQZXJzb25FcXVhbHMoZXhwZWN0ZWQsIGFjdHVhbCk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RQZXJzb25JbmVxdWFsaXR5KCkgewogICAgICAgIFBlcnNvbiBleHBlY3RlZCA9IG5ldyBQZXJzb24oIkpvaG4iLCAzMCk7CiAgICAgICAgUGVyc29uIGFjdHVhbCA9IG5ldyBQZXJzb24oIkphbmUiLCAyNSk7CiAgICAgICAgQ3VzdG9tQXNzZXJ0aW9ucy5hc3NlcnRQZXJzb25FcXVhbHMoZXhwZWN0ZWQsIGFjdHVhbCk7IC8vIEFxdWVzdCB0ZXN0IGZhbGxhcsOgCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;

public class CustomAssertionsTest {

    @Test
    public void testPersonEquality() {
        Person expected = new Person(&quot;John&quot;, 30);
        Person actual = new Person(&quot;John&quot;, 30);
        CustomAssertions.assertPersonEquals(expected, actual);
    }

    @Test
    public void testPersonInequality() {
        Person expected = new Person(&quot;John&quot;, 30);
        Person actual = new Person(&quot;Jane&quot;, 25);
        CustomAssertions.assertPersonEquals(expected, actual); // Aquest test fallar&agrave;
    }
}</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear una Assertion Personalitzada per Verificar Strings</h2>
<div class='content'><p>Crea una assertion personalitzada que verifiqui si una cadena de text conté una subcadena específica.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEN1c3RvbUFzc2VydGlvbnMgewoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3NlcnRTdHJpbmdDb250YWlucyhTdHJpbmcgc3RyLCBTdHJpbmcgc3Vic3RyaW5nKSB7CiAgICAgICAgaWYgKCFzdHIuY29udGFpbnMoc3Vic3RyaW5nKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoIkV4cGVjdGVkIHN0cmluZyB0byBjb250YWluOiAiICsgc3Vic3RyaW5nICsgIiwgYnV0IGdvdDogIiArIHN0cik7CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CustomAssertions {

    public static void assertStringContains(String str, String substring) {
        if (!str.contains(substring)) {
            throw new AssertionError(&quot;Expected string to contain: &quot; + substring + &quot;, but got: &quot; + str);
        }
    }
}</pre></div><div class='content'></div><h2>Exercici 2: Utilitzar la Nova Assertion en un Test</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwoKcHVibGljIGNsYXNzIEN1c3RvbUFzc2VydGlvbnNUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFN0cmluZ0NvbnRhaW5zKCkgewogICAgICAgIFN0cmluZyBzdHIgPSAiSGVsbG8sIHdvcmxkISI7CiAgICAgICAgQ3VzdG9tQXNzZXJ0aW9ucy5hc3NlcnRTdHJpbmdDb250YWlucyhzdHIsICJ3b3JsZCIpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0U3RyaW5nRG9lc05vdENvbnRhaW4oKSB7CiAgICAgICAgU3RyaW5nIHN0ciA9ICJIZWxsbywgd29ybGQhIjsKICAgICAgICBDdXN0b21Bc3NlcnRpb25zLmFzc2VydFN0cmluZ0NvbnRhaW5zKHN0ciwgIkpVbml0Iik7IC8vIEFxdWVzdCB0ZXN0IGZhbGxhcsOgCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;

public class CustomAssertionsTest {

    @Test
    public void testStringContains() {
        String str = &quot;Hello, world!&quot;;
        CustomAssertions.assertStringContains(str, &quot;world&quot;);
    }

    @Test
    public void testStringDoesNotContain() {
        String str = &quot;Hello, world!&quot;;
        CustomAssertions.assertStringContains(str, &quot;JUnit&quot;); // Aquest test fallar&agrave;
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les assertions personalitzades són una eina valuosa per millorar la llegibilitat, la reutilització i la mantenibilitat dels tests. En encapsular la lògica de verificació en mètodes significatius, podem fer que els nostres tests siguin més clars i fàcils de mantenir. Practica creant les teves pròpies assertions personalitzades per adaptar-les a les necessitats específiques del teu projecte.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-advanced-assertions' title="Assertions Avançades">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-introduction-to-parameterized-tests' title="Introducció als Tests Parametritzats">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
