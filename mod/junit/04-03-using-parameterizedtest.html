<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utilitzant @ParameterizedTest</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/04-03-using-parameterizedtest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/04-03-using-parameterizedtest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/04-03-using-parameterizedtest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/junit/04-03-using-parameterizedtest" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/junit/04-03-using-parameterizedtest" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-creating-parameterized-tests' title="Creant Tests Parametritzats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Utilitzant @ParameterizedTest</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-custom-parameterized-tests' title="Tests Parametritzats Personalitzats">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem a utilitzar l'anotació <code>@ParameterizedTest</code> de JUnit per crear tests parametritzats. Els tests parametritzats permeten executar el mateix test diverses vegades amb diferents conjunts de dades, la qual cosa és molt útil per verificar el comportament del codi amb diferents entrades.</p>
</div><h1>Què és un Test Parametritzat?</h1>
<div class='content'><p>Un test parametritzat és un test que s'executa múltiples vegades amb diferents valors d'entrada. Això permet verificar que el codi funcioni correctament per a una varietat de casos sense haver d'escriure múltiples tests individuals.</p>
</div><h1>Configuració de @ParameterizedTest</h1>
<div class='content'><p>Per utilitzar <code>@ParameterizedTest</code>, necessitem importar les següents classes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5wcm92aWRlci5WYWx1ZVNvdXJjZTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;</pre></div><div class='content'></div><h1>Exemple Bàsic amb @ValueSource</h1>
<div class='content'><p>L'anotació <code>@ValueSource</code> permet especificar un conjunt de valors literals que es passaran al test. A continuació, es mostra un exemple bàsic:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5wcm92aWRlci5WYWx1ZVNvdXJjZTsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRUcnVlOwoKcHVibGljIGNsYXNzIFBhcmFtZXRlcml6ZWRUZXN0RXhhbXBsZSB7CgogICAgQFBhcmFtZXRlcml6ZWRUZXN0CiAgICBAVmFsdWVTb3VyY2UoaW50cyA9IHsxLCAyLCAzLCA0LCA1fSkKICAgIHZvaWQgdGVzdFdpdGhWYWx1ZVNvdXJjZShpbnQgYXJndW1lbnQpIHsKICAgICAgICBhc3NlcnRUcnVlKGFyZ3VtZW50ID4gMCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class ParameterizedTestExample {

    @ParameterizedTest
    @ValueSource(ints = {1, 2, 3, 4, 5})
    void testWithValueSource(int argument) {
        assertTrue(argument &gt; 0);
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Importacions</strong>: Importem les classes necessàries per a <code>@ParameterizedTest</code> i <code>@ValueSource</code>.</li>
<li><strong>Definició del Test</strong>: Utilitzem l'anotació <code>@ParameterizedTest</code> per indicar que aquest és un test parametritzat.</li>
<li><strong>@ValueSource</strong>: Especifica un conjunt de valors literals (en aquest cas, enters) que es passaran al test.</li>
<li><strong>Mètode de Test</strong>: El mètode <code>testWithValueSource</code> s'executarà cinc vegades, una per cada valor especificat a <code>@ValueSource</code>.</li>
</ol>
</div><h1>Utilitzant @CsvSource</h1>
<div class='content'><p>L'anotació <code>@CsvSource</code> permet passar múltiples arguments al test en format CSV (valors separats per comes). A continuació, es mostra un exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5wcm92aWRlci5Dc3ZTb3VyY2U7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIENzdlNvdXJjZUV4YW1wbGUgewoKICAgIEBQYXJhbWV0ZXJpemVkVGVzdAogICAgQENzdlNvdXJjZSh7CiAgICAgICAgIjEsIDEiLAogICAgICAgICIyLCA0IiwKICAgICAgICAiMywgOSIsCiAgICAgICAgIjQsIDE2IiwKICAgICAgICAiNSwgMjUiCiAgICB9KQogICAgdm9pZCB0ZXN0V2l0aENzdlNvdXJjZShpbnQgaW5wdXQsIGludCBleHBlY3RlZCkgewogICAgICAgIGFzc2VydEVxdWFscyhleHBlY3RlZCwgaW5wdXQgKiBpbnB1dCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.CsvSource;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class CsvSourceExample {

    @ParameterizedTest
    @CsvSource({
        &quot;1, 1&quot;,
        &quot;2, 4&quot;,
        &quot;3, 9&quot;,
        &quot;4, 16&quot;,
        &quot;5, 25&quot;
    })
    void testWithCsvSource(int input, int expected) {
        assertEquals(expected, input * input);
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Importacions</strong>: Importem les classes necessàries per a <code>@ParameterizedTest</code> i <code>@CsvSource</code>.</li>
<li><strong>Definició del Test</strong>: Utilitzem l'anotació <code>@ParameterizedTest</code> per indicar que aquest és un test parametritzat.</li>
<li><strong>@CsvSource</strong>: Especifica un conjunt de valors en format CSV. Cada línia representa un conjunt d'arguments que es passaran al test.</li>
<li><strong>Mètode de Test</strong>: El mètode <code>testWithCsvSource</code> s'executarà cinc vegades, una per cada conjunt de valors especificat a <code>@CsvSource</code>.</li>
</ol>
</div><h1>Utilitzant @MethodSource</h1>
<div class='content'><p>L'anotació <code>@MethodSource</code> permet utilitzar un mètode que retorna un <code>Stream</code>, <code>Iterable</code> o <code>Iterator</code> de valors que es passaran al test. A continuació, es mostra un exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5wcm92aWRlci5NZXRob2RTb3VyY2U7CmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLlN0cmVhbTsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRUcnVlOwoKcHVibGljIGNsYXNzIE1ldGhvZFNvdXJjZUV4YW1wbGUgewoKICAgIEBQYXJhbWV0ZXJpemVkVGVzdAogICAgQE1ldGhvZFNvdXJjZSgic3RyaW5nUHJvdmlkZXIiKQogICAgdm9pZCB0ZXN0V2l0aE1ldGhvZFNvdXJjZShTdHJpbmcgYXJndW1lbnQpIHsKICAgICAgICBhc3NlcnRUcnVlKGFyZ3VtZW50Lmxlbmd0aCgpID4gMCk7CiAgICB9CgogICAgc3RhdGljIFN0cmVhbTxTdHJpbmc+IHN0cmluZ1Byb3ZpZGVyKCkgewogICAgICAgIHJldHVybiBTdHJlYW0ub2YoImFwcGxlIiwgImJhbmFuYSIsICJjaGVycnkiKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;
import java.util.stream.Stream;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class MethodSourceExample {

    @ParameterizedTest
    @MethodSource(&quot;stringProvider&quot;)
    void testWithMethodSource(String argument) {
        assertTrue(argument.length() &gt; 0);
    }

    static Stream&lt;String&gt; stringProvider() {
        return Stream.of(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;);
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Importacions</strong>: Importem les classes necessàries per a <code>@ParameterizedTest</code> i <code>@MethodSource</code>.</li>
<li><strong>Definició del Test</strong>: Utilitzem l'anotació <code>@ParameterizedTest</code> per indicar que aquest és un test parametritzat.</li>
<li><strong>@MethodSource</strong>: Especifica el nom del mètode que proporcionarà els valors per al test.</li>
<li><strong>Mètode de Test</strong>: El mètode <code>testWithMethodSource</code> s'executarà tres vegades, una per cada valor retornat pel mètode <code>stringProvider</code>.</li>
<li><strong>Mètode Proveïdor</strong>: El mètode <code>stringProvider</code> retorna un <code>Stream</code> de cadenes de text que es passaran al test.</li>
</ol>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Exercici</h2>
<div class='content'><p>Crea un test parametritzat que verifiqui si una cadena de text és un palíndrom. Utilitza <code>@CsvSource</code> per proporcionar diferents cadenes de text i els seus resultats esperats (true o false).</p>
</div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5wcm92aWRlci5Dc3ZTb3VyY2U7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIFBhbGluZHJvbWVUZXN0IHsKCiAgICBAUGFyYW1ldGVyaXplZFRlc3QKICAgIEBDc3ZTb3VyY2UoewogICAgICAgICJtYWRhbSwgdHJ1ZSIsCiAgICAgICAgInJhY2VjYXIsIHRydWUiLAogICAgICAgICJoZWxsbywgZmFsc2UiLAogICAgICAgICJsZXZlbCwgdHJ1ZSIsCiAgICAgICAgIndvcmxkLCBmYWxzZSIKICAgIH0pCiAgICB2b2lkIHRlc3RJc1BhbGluZHJvbWUoU3RyaW5nIGlucHV0LCBib29sZWFuIGV4cGVjdGVkKSB7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGV4cGVjdGVkLCBpc1BhbGluZHJvbWUoaW5wdXQpKTsKICAgIH0KCiAgICBib29sZWFuIGlzUGFsaW5kcm9tZShTdHJpbmcgc3RyKSB7CiAgICAgICAgU3RyaW5nIHJldmVyc2VkID0gbmV3IFN0cmluZ0J1aWxkZXIoc3RyKS5yZXZlcnNlKCkudG9TdHJpbmcoKTsKICAgICAgICByZXR1cm4gc3RyLmVxdWFscyhyZXZlcnNlZCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.CsvSource;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class PalindromeTest {

    @ParameterizedTest
    @CsvSource({
        &quot;madam, true&quot;,
        &quot;racecar, true&quot;,
        &quot;hello, false&quot;,
        &quot;level, true&quot;,
        &quot;world, false&quot;
    })
    void testIsPalindrome(String input, boolean expected) {
        assertEquals(expected, isPalindrome(input));
    }

    boolean isPalindrome(String str) {
        String reversed = new StringBuilder(str).reverse().toString();
        return str.equals(reversed);
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Definició del Test</strong>: Utilitzem l'anotació <code>@ParameterizedTest</code> per indicar que aquest és un test parametritzat.</li>
<li><strong>@CsvSource</strong>: Especifica un conjunt de cadenes de text i els seus resultats esperats.</li>
<li><strong>Mètode de Test</strong>: El mètode <code>testIsPalindrome</code> s'executarà cinc vegades, una per cada conjunt de valors especificat a <code>@CsvSource</code>.</li>
<li><strong>Mètode Auxiliar</strong>: El mètode <code>isPalindrome</code> verifica si una cadena de text és un palíndrom.</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après a utilitzar l'anotació <code>@ParameterizedTest</code> de JUnit per crear tests parametritzats. Hem vist exemples amb <code>@ValueSource</code>, <code>@CsvSource</code> i <code>@MethodSource</code>, i hem practicat amb un exercici per verificar si una cadena de text és un palíndrom. Els tests parametritzats són una eina poderosa per verificar el comportament del codi amb diferents conjunts de dades de manera eficient.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-creating-parameterized-tests' title="Creant Tests Parametritzats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-custom-parameterized-tests' title="Tests Parametritzats Personalitzats">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
