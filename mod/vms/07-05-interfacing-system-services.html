<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Interfície amb Serveis del Sistema</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vms/07-05-interfacing-system-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vms/07-05-interfacing-system-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vms/07-05-interfacing-system-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/vms/07-05-interfacing-system-services" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/vms/07-05-interfacing-system-services" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-using-cobol' title="Ús de COBOL a OpenVMS">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interfície amb Serveis del Sistema</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-introduction-clustering' title="Introducció als Clústers">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem com interactuar amb els serveis del sistema a OpenVMS utilitzant diferents llenguatges de programació. Els serveis del sistema són funcions proporcionades pel sistema operatiu que permeten als programes realitzar tasques específiques com la gestió de processos, la manipulació de fitxers, la comunicació entre processos, etc.</p>
</div><h1>Objectius d'Aprenentatge</h1>
<div class='content'><ul>
<li>Comprendre què són els serveis del sistema a OpenVMS.</li>
<li>Aprendre a utilitzar serveis del sistema des de diferents llenguatges de programació.</li>
<li>Implementar exemples pràctics d'ús de serveis del sistema.</li>
<li>Resoldre problemes comuns relacionats amb la interfície amb serveis del sistema.</li>
</ul>
</div><h1>Conceptes Clau</h1>
<div class='content'></div><h2>Què són els Serveis del Sistema?</h2>
<div class='content'><p>Els serveis del sistema són funcions proporcionades pel sistema operatiu que permeten als programes interactuar amb el sistema de manera controlada i segura. A OpenVMS, aquests serveis es poden invocar des de diversos llenguatges de programació com C, Fortran, i COBOL.</p>
</div><h2>Tipus de Serveis del Sistema</h2>
<div class='content'><ul>
<li><strong>Gestió de Processos:</strong> Creació, terminació i sincronització de processos.</li>
<li><strong>Gestió de Fitxers:</strong> Creació, lectura, escriptura i esborrat de fitxers.</li>
<li><strong>Comunicació entre Processos:</strong> Enviament i recepció de missatges entre processos.</li>
<li><strong>Gestió de Memòria:</strong> Assignació i alliberament de memòria.</li>
</ul>
</div><h1>Utilització de Serveis del Sistema en C</h1>
<div class='content'></div><h2>Exemple: Creació d'un Fitxer</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KI2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPGxpYiRyb3V0aW5lcy5oPgojaW5jbHVkZSA8c3RhcmxldC5oPgoKaW50IG1haW4oKSB7CiAgICBzdHJ1Y3QgZHNjJGRlc2NyaXB0b3JfcyBmaWxlX25hbWU7CiAgICBmaWxlX25hbWUuZHNjJHdfbGVuZ3RoID0gc3RybGVuKCJ0ZXN0ZmlsZS50eHQiKTsKICAgIGZpbGVfbmFtZS5kc2MkYV9wb2ludGVyID0gInRlc3RmaWxlLnR4dCI7CiAgICBmaWxlX25hbWUuZHNjJGJfZHR5cGUgPSBEU0MkS19EVFlQRV9UOwogICAgZmlsZV9uYW1lLmRzYyRiX2NsYXNzID0gRFNDJEtfQ0xBU1NfUzsKCiAgICB1bnNpZ25lZCBsb25nIHN0YXR1czsKICAgIHN0YXR1cyA9IHN5cyRjcmVhdGUoJmZpbGVfbmFtZSwgMCwgMCwgMCwgMCwgMCwgMCk7CgogICAgaWYgKCEoc3RhdHVzICYgMSkpIHsKICAgICAgICBwcmludGYoIkVycm9yIGNyZWF0aW5nIGZpbGVcbiIpOwogICAgICAgIGV4aXQoMSk7CiAgICB9CgogICAgcHJpbnRmKCJGaWxlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XG4iKTsKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;descrip.h&gt;
#include &lt;lib$routines.h&gt;
#include &lt;starlet.h&gt;

int main() {
    struct dsc$descriptor_s file_name;
    file_name.dsc$w_length = strlen(&quot;testfile.txt&quot;);
    file_name.dsc$a_pointer = &quot;testfile.txt&quot;;
    file_name.dsc$b_dtype = DSC$K_DTYPE_T;
    file_name.dsc$b_class = DSC$K_CLASS_S;

    unsigned long status;
    status = sys$create(&amp;file_name, 0, 0, 0, 0, 0, 0);

    if (!(status &amp; 1)) {
        printf(&quot;Error creating file\n&quot;);
        exit(1);
    }

    printf(&quot;File created successfully\n&quot;);
    return 0;
}</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Incloure Llibreries:</strong> Les llibreries <code>descrip.h</code>, <code>lib$routines.h</code> i <code>starlet.h</code> són necessàries per utilitzar els serveis del sistema.</li>
<li><strong>Descriptor de Fitxer:</strong> Es defineix un descriptor per al nom del fitxer.</li>
<li><strong>Crida al Servei del Sistema:</strong> <code>sys$create</code> és el servei del sistema utilitzat per crear un fitxer.</li>
<li><strong>Gestió d'Errors:</strong> Es comprova l'estat retornat per la crida al servei per assegurar-se que el fitxer s'ha creat correctament.</li>
</ol>
</div><h2>Exercici Pràctic</h2>
<div class='content'><p><strong>Objectiu:</strong> Escriu un programa en C que llegeixi el contingut d'un fitxer existent i el mostri per pantalla.</p>
<p><strong>Pistes:</strong></p>
<ul>
<li>Utilitza el servei del sistema <code>sys$open</code> per obrir el fitxer.</li>
<li>Utilitza el servei del sistema <code>sys$read</code> per llegir el contingut del fitxer.</li>
</ul>
</div><h1>Utilització de Serveis del Sistema en Fortran</h1>
<div class='content'></div><h2>Exemple: Creació d'un Fitxer</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBDcmVhdGVGaWxlCiAgSU1QTElDSVQgTk9ORQogIElOVEVHRVIgOjogc3RhdHVzCiAgQ0hBUkFDVEVSKGxlbj0xMSkgOjogZmlsZV9uYW1lCiAgZmlsZV9uYW1lID0gJ3Rlc3RmaWxlLnR4dCcKCiAgQ0FMTCBMSUIkQ1JFQVRFX0ZJTEUoZmlsZV9uYW1lLCBzdGF0dXMpCiAgSUYgKHN0YXR1cyAuTkUuIDEpIFRIRU4KICAgIFBSSU5UICosICdFcnJvciBjcmVhdGluZyBmaWxlJwogICAgU1RPUAogIEVORCBJRgoKICBQUklOVCAqLCAnRmlsZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScKRU5EIFBST0dSQU0gQ3JlYXRlRmlsZQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM CreateFile
  IMPLICIT NONE
  INTEGER :: status
  CHARACTER(len=11) :: file_name
  file_name = 'testfile.txt'

  CALL LIB$CREATE_FILE(file_name, status)
  IF (status .NE. 1) THEN
    PRINT *, 'Error creating file'
    STOP
  END IF

  PRINT *, 'File created successfully'
END PROGRAM CreateFile</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Definició de Variables:</strong> Es defineix una variable per al nom del fitxer i una per a l'estat.</li>
<li><strong>Crida al Servei del Sistema:</strong> <code>LIB$CREATE_FILE</code> és el servei del sistema utilitzat per crear un fitxer.</li>
<li><strong>Gestió d'Errors:</strong> Es comprova l'estat retornat per la crida al servei per assegurar-se que el fitxer s'ha creat correctament.</li>
</ol>
</div><h2>Exercici Pràctic</h2>
<div class='content'><p><strong>Objectiu:</strong> Escriu un programa en Fortran que llegeixi el contingut d'un fitxer existent i el mostri per pantalla.</p>
<p><strong>Pistes:</strong></p>
<ul>
<li>Utilitza el servei del sistema <code>LIB$OPEN_FILE</code> per obrir el fitxer.</li>
<li>Utilitza el servei del sistema <code>LIB$READ_FILE</code> per llegir el contingut del fitxer.</li>
</ul>
</div><h1>Utilització de Serveis del Sistema en COBOL</h1>
<div class='content'></div><h2>Exemple: Creació d'un Fitxer</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIENyZWF0ZUZpbGUuCgpEQVRBIERJVklTSU9OLgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIEZJTEUtTkFNRSBQSUMgWCgxMSkgVkFMVUUgJ3Rlc3RmaWxlLnR4dCcuCjAxICBTVEFUVVMgICAgUElDIFM5KDkpIENPTVAuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBDQUxMICdMSUIkQ1JFQVRFX0ZJTEUnIFVTSU5HIEJZIERFU0NSSVBUT1IgRklMRS1OQU1FCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJZIFJFRkVSRU5DRSBTVEFUVVMuCiAgICBJRiBTVEFUVVMgTk9UID0gMQogICAgICAgIERJU1BMQVkgJ0Vycm9yIGNyZWF0aW5nIGZpbGUnCiAgICAgICAgU1RPUCBSVU4KICAgIEVORC1JRi4KCiAgICBESVNQTEFZICdGaWxlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jy4KICAgIFNUT1AgUlVOLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. CreateFile.

DATA DIVISION.
WORKING-STORAGE SECTION.
01  FILE-NAME PIC X(11) VALUE 'testfile.txt'.
01  STATUS    PIC S9(9) COMP.

PROCEDURE DIVISION.
    CALL 'LIB$CREATE_FILE' USING BY DESCRIPTOR FILE-NAME
                                 BY REFERENCE STATUS.
    IF STATUS NOT = 1
        DISPLAY 'Error creating file'
        STOP RUN
    END-IF.

    DISPLAY 'File created successfully'.
    STOP RUN.</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Definició de Variables:</strong> Es defineixen variables per al nom del fitxer i l'estat.</li>
<li><strong>Crida al Servei del Sistema:</strong> <code>LIB$CREATE_FILE</code> és el servei del sistema utilitzat per crear un fitxer.</li>
<li><strong>Gestió d'Errors:</strong> Es comprova l'estat retornat per la crida al servei per assegurar-se que el fitxer s'ha creat correctament.</li>
</ol>
</div><h2>Exercici Pràctic</h2>
<div class='content'><p><strong>Objectiu:</strong> Escriu un programa en COBOL que llegeixi el contingut d'un fitxer existent i el mostri per pantalla.</p>
<p><strong>Pistes:</strong></p>
<ul>
<li>Utilitza el servei del sistema <code>LIB$OPEN_FILE</code> per obrir el fitxer.</li>
<li>Utilitza el servei del sistema <code>LIB$READ_FILE</code> per llegir el contingut del fitxer.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>En aquest tema, hem après què són els serveis del sistema a OpenVMS i com utilitzar-los des de diferents llenguatges de programació com C, Fortran i COBOL. Hem vist exemples pràctics de com crear fitxers utilitzant aquests serveis i hem proposat exercicis per reforçar els conceptes apresos. La interfície amb serveis del sistema és una habilitat essencial per a qualsevol programador que treballi amb OpenVMS, ja que permet realitzar operacions avançades i interactuar de manera eficient amb el sistema operatiu.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-using-cobol' title="Ús de COBOL a OpenVMS">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-introduction-clustering' title="Introducció als Clústers">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
