<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millors Pràctiques de Seguretat</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/09-04-security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/09-04-security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/09-04-security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/go/09-04-security-best-practices" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/go/09-04-security-best-practices" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-monitoring-and-performance-tuning' title="Monitorització i Optimització del Rendiment">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Millors Pràctiques de Seguretat</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-01-project-overview' title="Visió General del Projecte">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les millors pràctiques de seguretat per a les aplicacions desenvolupades en Go. La seguretat és un aspecte crític en el desenvolupament de programari, i és essencial assegurar-se que les aplicacions siguin robustes contra atacs i vulnerabilitats.</p>
</div><h1><ol>
<li>Validació d'Entrades</li>
</ol>
</h1>
<div class='content'></div><h2><p>Conceptes Clau</p>
</h2>
<div class='content'><ul>
<li><strong>Validació d'Entrades</strong>: Assegurar-se que totes les dades d'entrada siguin vàlides i segures.</li>
<li><strong>Sanitització</strong>: Netejar les dades d'entrada per eliminar qualsevol contingut maliciós.</li>
</ul>
</div><h2><p>Exemples Pràctics</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJuZXQvaHR0cCIKICAgICJyZWdleHAiCikKCmZ1bmMgaXNWYWxpZElucHV0KGlucHV0IHN0cmluZykgYm9vbCB7CiAgICAvLyBFeGVtcGxlIGRlIHZhbGlkYWNpw7Mgc2ltcGxlIGFtYiB1bmEgZXhwcmVzc2nDsyByZWd1bGFyCiAgICB2YWxpZElucHV0IDo9IHJlZ2V4cC5NdXN0Q29tcGlsZShgXlthLXpBLVowLTldKyRgKQogICAgcmV0dXJuIHZhbGlkSW5wdXQuTWF0Y2hTdHJpbmcoaW5wdXQpCn0KCmZ1bmMgaGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgaW5wdXQgOj0gci5VUkwuUXVlcnkoKS5HZXQoImlucHV0IikKICAgIGlmICFpc1ZhbGlkSW5wdXQoaW5wdXQpIHsKICAgICAgICBodHRwLkVycm9yKHcsICJJbnZhbGlkIGlucHV0IiwgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0KQogICAgICAgIHJldHVybgogICAgfQogICAgZm10LkZwcmludGYodywgIlZhbGlkIGlucHV0OiAlcyIsIGlucHV0KQp9CgpmdW5jIG1haW4oKSB7CiAgICBodHRwLkhhbmRsZUZ1bmMoIi8iLCBoYW5kbGVyKQogICAgaHR0cC5MaXN0ZW5BbmRTZXJ2ZSgiOjgwODAiLCBuaWwpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
    &quot;regexp&quot;
)

func isValidInput(input string) bool {
    // Exemple de validaci&oacute; simple amb una expressi&oacute; regular
    validInput := regexp.MustCompile(`^[a-zA-Z0-9]+$`)
    return validInput.MatchString(input)
}

func handler(w http.ResponseWriter, r *http.Request) {
    input := r.URL.Query().Get(&quot;input&quot;)
    if !isValidInput(input) {
        http.Error(w, &quot;Invalid input&quot;, http.StatusBadRequest)
        return
    }
    fmt.Fprintf(w, &quot;Valid input: %s&quot;, input)
}

func main() {
    http.HandleFunc(&quot;/&quot;, handler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}</pre></div><div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li>No validar les dades d'entrada.</li>
<li>Confiar en les dades d'entrada sense sanititzar-les.</li>
</ul>
</div><h1><ol start="2">
<li>Gestió Segura de les Credencials</li>
</ol>
</h1>
<div class='content'></div><h2><p>Conceptes Clau</p>
</h2>
<div class='content'><ul>
<li><strong>Emmagatzematge Segur</strong>: Utilitzar mecanismes segurs per emmagatzemar credencials.</li>
<li><strong>Encriptació</strong>: Encriptar les credencials abans d'emmagatzemar-les.</li>
</ul>
</div><h2><p>Exemples Pràctics</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJnb2xhbmcub3JnL3gvY3J5cHRvL2JjcnlwdCIKKQoKZnVuYyBoYXNoUGFzc3dvcmQocGFzc3dvcmQgc3RyaW5nKSAoc3RyaW5nLCBlcnJvcikgewogICAgYnl0ZXMsIGVyciA6PSBiY3J5cHQuR2VuZXJhdGVGcm9tUGFzc3dvcmQoW11ieXRlKHBhc3N3b3JkKSwgMTQpCiAgICByZXR1cm4gc3RyaW5nKGJ5dGVzKSwgZXJyCn0KCmZ1bmMgY2hlY2tQYXNzd29yZEhhc2gocGFzc3dvcmQsIGhhc2ggc3RyaW5nKSBib29sIHsKICAgIGVyciA6PSBiY3J5cHQuQ29tcGFyZUhhc2hBbmRQYXNzd29yZChbXWJ5dGUoaGFzaCksIFtdYnl0ZShwYXNzd29yZCkpCiAgICByZXR1cm4gZXJyID09IG5pbAp9CgpmdW5jIG1haW4oKSB7CiAgICBwYXNzd29yZCA6PSAibXlTdXBlclNlY3JldFBhc3N3b3JkIgogICAgaGFzaCwgXyA6PSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpCiAgICBmbXQuUHJpbnRsbigiUGFzc3dvcmQ6IiwgcGFzc3dvcmQpCiAgICBmbXQuUHJpbnRsbigiSGFzaDogICAgIiwgaGFzaCkKCiAgICBtYXRjaCA6PSBjaGVja1Bhc3N3b3JkSGFzaChwYXNzd29yZCwgaGFzaCkKICAgIGZtdC5QcmludGxuKCJNYXRjaDogICAiLCBtYXRjaCkKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;golang.org/x/crypto/bcrypt&quot;
)

func hashPassword(password string) (string, error) {
    bytes, err := bcrypt.GenerateFromPassword([]byte(password), 14)
    return string(bytes), err
}

func checkPasswordHash(password, hash string) bool {
    err := bcrypt.CompareHashAndPassword([]byte(hash), []byte(password))
    return err == nil
}

func main() {
    password := &quot;mySuperSecretPassword&quot;
    hash, _ := hashPassword(password)
    fmt.Println(&quot;Password:&quot;, password)
    fmt.Println(&quot;Hash:    &quot;, hash)

    match := checkPasswordHash(password, hash)
    fmt.Println(&quot;Match:   &quot;, match)
}</pre></div><div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li>Emmagatzemar contrasenyes en text pla.</li>
<li>No utilitzar encriptació per a les credencials.</li>
</ul>
</div><h1><ol start="3">
<li>Protecció contra Atacs de Cross-Site Scripting (XSS)</li>
</ol>
</h1>
<div class='content'></div><h2><p>Conceptes Clau</p>
</h2>
<div class='content'><ul>
<li><strong>XSS</strong>: Un atac que permet a un atacant injectar scripts maliciosos en pàgines web vistes per altres usuaris.</li>
<li><strong>Escapament de Dades</strong>: Escapar les dades abans de mostrar-les en una pàgina web.</li>
</ul>
</div><h2><p>Exemples Pràctics</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImh0bWwvdGVtcGxhdGUiCiAgICAibmV0L2h0dHAiCikKCmZ1bmMgaGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgaW5wdXQgOj0gci5VUkwuUXVlcnkoKS5HZXQoImlucHV0IikKICAgIHRtcGwgOj0gdGVtcGxhdGUuTXVzdCh0ZW1wbGF0ZS5OZXcoImV4YW1wbGUiKS5QYXJzZShgPGh0bWw+PGJvZHk+e3sufX08L2JvZHk+PC9odG1sPmApKQogICAgdG1wbC5FeGVjdXRlKHcsIHRlbXBsYXRlLkhUTUwoaW5wdXQpKQp9CgpmdW5jIG1haW4oKSB7CiAgICBodHRwLkhhbmRsZUZ1bmMoIi8iLCBoYW5kbGVyKQogICAgaHR0cC5MaXN0ZW5BbmRTZXJ2ZSgiOjgwODAiLCBuaWwpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;html/template&quot;
    &quot;net/http&quot;
)

func handler(w http.ResponseWriter, r *http.Request) {
    input := r.URL.Query().Get(&quot;input&quot;)
    tmpl := template.Must(template.New(&quot;example&quot;).Parse(`&lt;html&gt;&lt;body&gt;{{.}}&lt;/body&gt;&lt;/html&gt;`))
    tmpl.Execute(w, template.HTML(input))
}

func main() {
    http.HandleFunc(&quot;/&quot;, handler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}</pre></div><div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li>No escapar les dades d'entrada abans de mostrar-les.</li>
<li>Confiar en les dades d'entrada sense sanititzar-les.</li>
</ul>
</div><h1><ol start="4">
<li>Protecció contra Atacs de Cross-Site Request Forgery (CSRF)</li>
</ol>
</h1>
<div class='content'></div><h2><p>Conceptes Clau</p>
</h2>
<div class='content'><ul>
<li><strong>CSRF</strong>: Un atac que força a un usuari autenticat a executar accions no desitjades en una aplicació web.</li>
<li><strong>Tokens CSRF</strong>: Utilitzar tokens únics per a cada sessió per prevenir atacs CSRF.</li>
</ul>
</div><h2><p>Exemples Pràctics</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImNyeXB0by9yYW5kIgogICAgImVuY29kaW5nL2Jhc2U2NCIKICAgICJuZXQvaHR0cCIKKQoKZnVuYyBnZW5lcmF0ZUNTUkZUb2tlbigpIChzdHJpbmcsIGVycm9yKSB7CiAgICB0b2tlbiA6PSBtYWtlKFtdYnl0ZSwgMzIpCiAgICBfLCBlcnIgOj0gcmFuZC5SZWFkKHRva2VuKQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgcmV0dXJuICIiLCBlcnIKICAgIH0KICAgIHJldHVybiBiYXNlNjQuVVJMRW5jb2RpbmcuRW5jb2RlVG9TdHJpbmcodG9rZW4pLCBuaWwKfQoKZnVuYyBoYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBjc3JmVG9rZW4sIF8gOj0gZ2VuZXJhdGVDU1JGVG9rZW4oKQogICAgaHR0cC5TZXRDb29raWUodywgJmh0dHAuQ29va2llewogICAgICAgIE5hbWU6ICAiY3NyZl90b2tlbiIsCiAgICAgICAgVmFsdWU6IGNzcmZUb2tlbiwKICAgIH0pCiAgICB3LldyaXRlKFtdYnl0ZSgiQ1NSRiB0b2tlbiBnZW5lcmF0ZWQgYW5kIHNldCBpbiBjb29raWUiKSkKfQoKZnVuYyBtYWluKCkgewogICAgaHR0cC5IYW5kbGVGdW5jKCIvIiwgaGFuZGxlcikKICAgIGh0dHAuTGlzdGVuQW5kU2VydmUoIjo4MDgwIiwgbmlsKQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;crypto/rand&quot;
    &quot;encoding/base64&quot;
    &quot;net/http&quot;
)

func generateCSRFToken() (string, error) {
    token := make([]byte, 32)
    _, err := rand.Read(token)
    if err != nil {
        return &quot;&quot;, err
    }
    return base64.URLEncoding.EncodeToString(token), nil
}

func handler(w http.ResponseWriter, r *http.Request) {
    csrfToken, _ := generateCSRFToken()
    http.SetCookie(w, &amp;http.Cookie{
        Name:  &quot;csrf_token&quot;,
        Value: csrfToken,
    })
    w.Write([]byte(&quot;CSRF token generated and set in cookie&quot;))
}

func main() {
    http.HandleFunc(&quot;/&quot;, handler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}</pre></div><div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li>No utilitzar tokens CSRF.</li>
<li>No validar els tokens CSRF en les peticions.</li>
</ul>
</div><h1><ol start="5">
<li>Gestió de Sessions</li>
</ol>
</h1>
<div class='content'></div><h2><p>Conceptes Clau</p>
</h2>
<div class='content'><ul>
<li><strong>Sessions</strong>: Mantenir l'estat de l'usuari entre peticions.</li>
<li><strong>Cookies Segures</strong>: Utilitzar cookies segures per emmagatzemar informació de sessió.</li>
</ul>
</div><h2><p>Exemples Pràctics</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgIm5ldC9odHRwIgopCgpmdW5jIGhhbmRsZXIodyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKICAgIHNlc3Npb25JRCA6PSAiZXhhbXBsZVNlc3Npb25JRCIKICAgIGh0dHAuU2V0Q29va2llKHcsICZodHRwLkNvb2tpZXsKICAgICAgICBOYW1lOiAgICAgInNlc3Npb25faWQiLAogICAgICAgIFZhbHVlOiAgICBzZXNzaW9uSUQsCiAgICAgICAgSHR0cE9ubHk6IHRydWUsCiAgICAgICAgU2VjdXJlOiAgIHRydWUsCiAgICB9KQogICAgdy5Xcml0ZShbXWJ5dGUoIlNlc3Npb24gSUQgc2V0IGluIGNvb2tpZSIpKQp9CgpmdW5jIG1haW4oKSB7CiAgICBodHRwLkhhbmRsZUZ1bmMoIi8iLCBoYW5kbGVyKQogICAgaHR0cC5MaXN0ZW5BbmRTZXJ2ZSgiOjgwODAiLCBuaWwpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;net/http&quot;
)

func handler(w http.ResponseWriter, r *http.Request) {
    sessionID := &quot;exampleSessionID&quot;
    http.SetCookie(w, &amp;http.Cookie{
        Name:     &quot;session_id&quot;,
        Value:    sessionID,
        HttpOnly: true,
        Secure:   true,
    })
    w.Write([]byte(&quot;Session ID set in cookie&quot;))
}

func main() {
    http.HandleFunc(&quot;/&quot;, handler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}</pre></div><div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li>No utilitzar cookies segures.</li>
<li>Emmagatzemar informació sensible en cookies sense encriptar.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem explorat diverses millors pràctiques de seguretat per a les aplicacions Go, incloent la validació d'entrades, la gestió segura de credencials, la protecció contra atacs XSS i CSRF, i la gestió de sessions. Implementar aquestes pràctiques ajudarà a assegurar que les teves aplicacions siguin més segures i robustes contra atacs. En el proper tema, ens centrarem en la monitorització i l'optimització del rendiment de les aplicacions Go.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-monitoring-and-performance-tuning' title="Monitorització i Optimització del Rendiment">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-01-project-overview' title="Visió General del Projecte">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
