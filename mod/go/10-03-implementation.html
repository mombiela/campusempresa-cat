<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementació</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/10-03-implementation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/10-03-implementation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/10-03-implementation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/go/10-03-implementation" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/go/10-03-implementation" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-02-project-planning' title="Planificació del Projecte">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Implementació</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-04-testing-and-deployment' title="Proves i Desplegament">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquesta secció, ens centrarem en la implementació del projecte final. Aquest és el moment en què posarem en pràctica tots els conceptes apresos al llarg del curs. La implementació es dividirà en diverses etapes per assegurar-nos que cada part del projecte es desenvolupi de manera organitzada i eficient.</p>
</div><h1><ol>
<li>Estructura del Projecte</li>
</ol>
</h1>
<div class='content'><p>Abans de començar a escriure codi, és important definir l'estructura del projecte. Una bona organització facilita el manteniment i l'escalabilitat del codi.</p>
</div><h2><p>Exemple d'Estructura de Projecte</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("L3Byb2plY3QKICAgIC9jbWQKICAgICAgICAvYXBwCiAgICAgICAgICAgIG1haW4uZ28KICAgIC9wa2cKICAgICAgICAvaGFuZGxlcnMKICAgICAgICAgICAgaGFuZGxlcnMuZ28KICAgICAgICAvbW9kZWxzCiAgICAgICAgICAgIG1vZGVscy5nbwogICAgICAgIC9kYgogICAgICAgICAgICBkYi5nbwogICAgL2ludGVybmFsCiAgICAgICAgL2NvbmZpZwogICAgICAgICAgICBjb25maWcuZ28KICAgIC93ZWIKICAgICAgICAvc3RhdGljCiAgICAgICAgL3RlbXBsYXRlcwogICAgZ28ubW9kCiAgICBnby5zdW0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/project
    /cmd
        /app
            main.go
    /pkg
        /handlers
            handlers.go
        /models
            models.go
        /db
            db.go
    /internal
        /config
            config.go
    /web
        /static
        /templates
    go.mod
    go.sum</pre></div><div class='content'></div><h2><p>Explicació de l'Estructura</p>
</h2>
<div class='content'><ul>
<li><strong>/cmd/app</strong>: Conté el punt d'entrada de l'aplicació.</li>
<li><strong>/pkg</strong>: Conté el codi reutilitzable, com ara els controladors, models i la configuració de la base de dades.</li>
<li><strong>/internal</strong>: Conté el codi que no hauria de ser accessible des de fora del projecte.</li>
<li><strong>/web</strong>: Conté els fitxers estàtics i les plantilles HTML.</li>
<li><strong>go.mod</strong> i <strong>go.sum</strong>: Fitxers de gestió de dependències.</li>
</ul>
</div><h1><ol start="2">
<li>Configuració Inicial</li>
</ol>
</h1>
<div class='content'></div><h2><p>Fitxer <code>main.go</code></p>
</h2>
<div class='content'><p>El fitxer <code>main.go</code> és el punt d'entrada de l'aplicació. Aquí és on inicialitzarem la configuració, la connexió a la base de dades i els rutes del servidor web.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImxvZyIKICAgICJuZXQvaHR0cCIKICAgICJwcm9qZWN0L2ludGVybmFsL2NvbmZpZyIKICAgICJwcm9qZWN0L3BrZy9oYW5kbGVycyIKKQoKZnVuYyBtYWluKCkgewogICAgLy8gQ2FycmVnYXIgbGEgY29uZmlndXJhY2nDswogICAgY2ZnLCBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoKQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgbG9nLkZhdGFsZigiRXJyb3IgY2FycmVnYW50IGxhIGNvbmZpZ3VyYWNpw7M6ICV2IiwgZXJyKQogICAgfQoKICAgIC8vIEluaWNpYWxpdHphciBlbCBzZXJ2aWRvcgogICAgbXV4IDo9IGh0dHAuTmV3U2VydmVNdXgoKQogICAgbXV4LkhhbmRsZUZ1bmMoIi8iLCBoYW5kbGVycy5Ib21lKQogICAgbXV4LkhhbmRsZUZ1bmMoIi9hYm91dCIsIGhhbmRsZXJzLkFib3V0KQoKICAgIC8vIEluaWNpYXIgZWwgc2Vydmlkb3IKICAgIGxvZy5QcmludGYoIlNlcnZpZG9yIGVzY29sdGFudCBhICVzIiwgY2ZnLlNlcnZlckFkZHJlc3MpCiAgICBlcnIgPSBodHRwLkxpc3RlbkFuZFNlcnZlKGNmZy5TZXJ2ZXJBZGRyZXNzLCBtdXgpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICBsb2cuRmF0YWxmKCJFcnJvciBpbmljaWFudCBlbCBzZXJ2aWRvcjogJXYiLCBlcnIpCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;log&quot;
    &quot;net/http&quot;
    &quot;project/internal/config&quot;
    &quot;project/pkg/handlers&quot;
)

func main() {
    // Carregar la configuraci&oacute;
    cfg, err := config.LoadConfig()
    if err != nil {
        log.Fatalf(&quot;Error carregant la configuraci&oacute;: %v&quot;, err)
    }

    // Inicialitzar el servidor
    mux := http.NewServeMux()
    mux.HandleFunc(&quot;/&quot;, handlers.Home)
    mux.HandleFunc(&quot;/about&quot;, handlers.About)

    // Iniciar el servidor
    log.Printf(&quot;Servidor escoltant a %s&quot;, cfg.ServerAddress)
    err = http.ListenAndServe(cfg.ServerAddress, mux)
    if err != nil {
        log.Fatalf(&quot;Error iniciant el servidor: %v&quot;, err)
    }
}</pre></div><div class='content'></div><h2><p>Fitxer <code>config.go</code></p>
</h2>
<div class='content'><p>El fitxer <code>config.go</code> conté la configuració de l'aplicació, com ara l'adreça del servidor i les credencials de la base de dades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBjb25maWcKCmltcG9ydCAoCiAgICAiZW5jb2RpbmcvanNvbiIKICAgICJvcyIKKQoKdHlwZSBDb25maWcgc3RydWN0IHsKICAgIFNlcnZlckFkZHJlc3Mgc3RyaW5nIGBqc29uOiJzZXJ2ZXJfYWRkcmVzcyJgCiAgICBEQlVzZXIgICAgICAgIHN0cmluZyBganNvbjoiZGJfdXNlciJgCiAgICBEQlBhc3N3b3JkICAgIHN0cmluZyBganNvbjoiZGJfcGFzc3dvcmQiYAogICAgREJOYW1lICAgICAgICBzdHJpbmcgYGpzb246ImRiX25hbWUiYAp9CgpmdW5jIExvYWRDb25maWcoKSAoKkNvbmZpZywgZXJyb3IpIHsKICAgIGZpbGUsIGVyciA6PSBvcy5PcGVuKCJjb25maWcuanNvbiIpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4gbmlsLCBlcnIKICAgIH0KICAgIGRlZmVyIGZpbGUuQ2xvc2UoKQoKICAgIGRlY29kZXIgOj0ganNvbi5OZXdEZWNvZGVyKGZpbGUpCiAgICBjb25maWcgOj0gJkNvbmZpZ3t9CiAgICBlcnIgPSBkZWNvZGVyLkRlY29kZShjb25maWcpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4gbmlsLCBlcnIKICAgIH0KCiAgICByZXR1cm4gY29uZmlnLCBuaWwKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package config

import (
    &quot;encoding/json&quot;
    &quot;os&quot;
)

type Config struct {
    ServerAddress string `json:&quot;server_address&quot;`
    DBUser        string `json:&quot;db_user&quot;`
    DBPassword    string `json:&quot;db_password&quot;`
    DBName        string `json:&quot;db_name&quot;`
}

func LoadConfig() (*Config, error) {
    file, err := os.Open(&quot;config.json&quot;)
    if err != nil {
        return nil, err
    }
    defer file.Close()

    decoder := json.NewDecoder(file)
    config := &amp;Config{}
    err = decoder.Decode(config)
    if err != nil {
        return nil, err
    }

    return config, nil
}</pre></div><div class='content'></div><h2><p>Fitxer <code>config.json</code></p>
</h2>
<div class='content'><p>Aquest fitxer conté la configuració en format JSON.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICAgInNlcnZlcl9hZGRyZXNzIjogIjo4MDgwIiwKICAgICJkYl91c2VyIjogInJvb3QiLAogICAgImRiX3Bhc3N3b3JkIjogInBhc3N3b3JkIiwKICAgICJkYl9uYW1lIjogInByb2plY3RfZGIiCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
    &quot;server_address&quot;: &quot;:8080&quot;,
    &quot;db_user&quot;: &quot;root&quot;,
    &quot;db_password&quot;: &quot;password&quot;,
    &quot;db_name&quot;: &quot;project_db&quot;
}</pre></div><div class='content'></div><h1><ol start="3">
<li>Implementació de Funcionalitats</li>
</ol>
</h1>
<div class='content'></div><h2><p>Controladors (Handlers)</p>
</h2>
<div class='content'><p>Els controladors gestionen les sol·licituds HTTP i responen amb les dades adequades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBoYW5kbGVycwoKaW1wb3J0ICgKICAgICJuZXQvaHR0cCIKICAgICJodG1sL3RlbXBsYXRlIgopCgpmdW5jIEhvbWUodyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKICAgIHRtcGwsIF8gOj0gdGVtcGxhdGUuUGFyc2VGaWxlcygid2ViL3RlbXBsYXRlcy9ob21lLmh0bWwiKQogICAgdG1wbC5FeGVjdXRlKHcsIG5pbCkKfQoKZnVuYyBBYm91dCh3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgdG1wbCwgXyA6PSB0ZW1wbGF0ZS5QYXJzZUZpbGVzKCJ3ZWIvdGVtcGxhdGVzL2Fib3V0Lmh0bWwiKQogICAgdG1wbC5FeGVjdXRlKHcsIG5pbCkKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package handlers

import (
    &quot;net/http&quot;
    &quot;html/template&quot;
)

func Home(w http.ResponseWriter, r *http.Request) {
    tmpl, _ := template.ParseFiles(&quot;web/templates/home.html&quot;)
    tmpl.Execute(w, nil)
}

func About(w http.ResponseWriter, r *http.Request) {
    tmpl, _ := template.ParseFiles(&quot;web/templates/about.html&quot;)
    tmpl.Execute(w, nil)
}</pre></div><div class='content'></div><h2><p>Models</p>
</h2>
<div class='content'><p>Els models representen les estructures de dades de l'aplicació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtb2RlbHMKCnR5cGUgVXNlciBzdHJ1Y3QgewogICAgSUQgICAgICAgaW50CiAgICBVc2VybmFtZSBzdHJpbmcKICAgIEVtYWlsICAgIHN0cmluZwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package models

type User struct {
    ID       int
    Username string
    Email    string
}</pre></div><div class='content'></div><h2><p>Base de Dades</p>
</h2>
<div class='content'><p>La configuració de la base de dades inclou la connexió i les operacions CRUD.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBkYgoKaW1wb3J0ICgKICAgICJkYXRhYmFzZS9zcWwiCiAgICBfICJnaXRodWIuY29tL2dvLXNxbC1kcml2ZXIvbXlzcWwiCiAgICAicHJvamVjdC9pbnRlcm5hbC9jb25maWciCikKCmZ1bmMgQ29ubmVjdChjZmcgKmNvbmZpZy5Db25maWcpICgqc3FsLkRCLCBlcnJvcikgewogICAgZHNuIDo9IGNmZy5EQlVzZXIgKyAiOiIgKyBjZmcuREJQYXNzd29yZCArICJALyIgKyBjZmcuREJOYW1lCiAgICBkYiwgZXJyIDo9IHNxbC5PcGVuKCJteXNxbCIsIGRzbikKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHJldHVybiBuaWwsIGVycgogICAgfQogICAgcmV0dXJuIGRiLCBuaWwKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package db

import (
    &quot;database/sql&quot;
    _ &quot;github.com/go-sql-driver/mysql&quot;
    &quot;project/internal/config&quot;
)

func Connect(cfg *config.Config) (*sql.DB, error) {
    dsn := cfg.DBUser + &quot;:&quot; + cfg.DBPassword + &quot;@/&quot; + cfg.DBName
    db, err := sql.Open(&quot;mysql&quot;, dsn)
    if err != nil {
        return nil, err
    }
    return db, nil
}</pre></div><div class='content'></div><h1><ol start="4">
<li>Proves</li>
</ol>
</h1>
<div class='content'><p>És important provar cada part del codi per assegurar-nos que funciona correctament.</p>
</div><h2><p>Exemple de Prova</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBoYW5kbGVycwoKaW1wb3J0ICgKICAgICJuZXQvaHR0cCIKICAgICJuZXQvaHR0cC9odHRwdGVzdCIKICAgICJ0ZXN0aW5nIgopCgpmdW5jIFRlc3RIb21lKHQgKnRlc3RpbmcuVCkgewogICAgcmVxLCBlcnIgOj0gaHR0cC5OZXdSZXF1ZXN0KCJHRVQiLCAiLyIsIG5pbCkKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHQuRmF0YWwoZXJyKQogICAgfQoKICAgIHJyIDo9IGh0dHB0ZXN0Lk5ld1JlY29yZGVyKCkKICAgIGhhbmRsZXIgOj0gaHR0cC5IYW5kbGVyRnVuYyhIb21lKQoKICAgIGhhbmRsZXIuU2VydmVIVFRQKHJyLCByZXEpCgogICAgaWYgc3RhdHVzIDo9IHJyLkNvZGU7IHN0YXR1cyAhPSBodHRwLlN0YXR1c09LIHsKICAgICAgICB0LkVycm9yZigiaGFuZGxlciByZXR1cm5lZCB3cm9uZyBzdGF0dXMgY29kZTogZ290ICV2IHdhbnQgJXYiLCBzdGF0dXMsIGh0dHAuU3RhdHVzT0spCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package handlers

import (
    &quot;net/http&quot;
    &quot;net/http/httptest&quot;
    &quot;testing&quot;
)

func TestHome(t *testing.T) {
    req, err := http.NewRequest(&quot;GET&quot;, &quot;/&quot;, nil)
    if err != nil {
        t.Fatal(err)
    }

    rr := httptest.NewRecorder()
    handler := http.HandlerFunc(Home)

    handler.ServeHTTP(rr, req)

    if status := rr.Code; status != http.StatusOK {
        t.Errorf(&quot;handler returned wrong status code: got %v want %v&quot;, status, http.StatusOK)
    }
}</pre></div><div class='content'></div><h1><ol start="5">
<li>Desplegament</li>
</ol>
</h1>
<div class='content'><p>Un cop implementades i provades totes les funcionalitats, és hora de desplegar l'aplicació.</p>
</div><h2><p>Construcció de l'Aplicació</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z28gYnVpbGQgLW8gcHJvamVjdCBjbWQvYXBwL21haW4uZ28="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>go build -o project cmd/app/main.go</pre></div><div class='content'></div><h2><p>Desplegament</p>
</h2>
<div class='content'><p>El desplegament pot variar segons l'entorn. Aquí teniu un exemple de desplegament en un servidor Linux.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NwIHByb2plY3QgdXNlckBzZXJ2ZXI6L3BhdGgvdG8vZGVwbG95CnNzaCB1c2VyQHNlcnZlcgpjZCAvcGF0aC90by9kZXBsb3kKLi9wcm9qZWN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>scp project user@server:/path/to/deploy
ssh user@server
cd /path/to/deploy
./project</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem cobert la implementació del projecte final, des de la configuració inicial fins al desplegament. Hem après a estructurar el projecte, configurar el servidor, implementar controladors i models, connectar-nos a la base de dades, provar el codi i desplegar l'aplicació. Amb aquests coneixements, estàs preparat per desenvolupar aplicacions completes en Go.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-02-project-planning' title="Planificació del Projecte">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-04-testing-and-deployment' title="Proves i Desplegament">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
