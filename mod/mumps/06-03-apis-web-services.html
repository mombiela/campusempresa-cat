<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>APIs i Serveis Web</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mumps/06-03-apis-web-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mumps/06-03-apis-web-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mumps/06-03-apis-web-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/mumps/06-03-apis-web-services" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/mumps/06-03-apis-web-services" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-02-web-integration' title="Integració Web">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">APIs i Serveis Web</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-04-interfacing-sql-databases' title="Interfície amb Bases de Dades SQL">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest mòdul, aprendrem com interactuar amb APIs i serveis web utilitzant MUMPS. Les APIs (Application Programming Interfaces) permeten que diferents aplicacions es comuniquin entre elles, mentre que els serveis web són una forma específica d'API que utilitza protocols web per a la comunicació.</p>
</div><h1><p>Objectius del Mòdul</p>
</h1>
<div class='content'><ul>
<li>Entendre què són les APIs i els serveis web.</li>
<li>Aprendre a consumir APIs des de MUMPS.</li>
<li>Crear un servei web senzill utilitzant MUMPS.</li>
</ul>
</div><h1><p>Què és una API?</p>
</h1>
<div class='content'><p>Una API és un conjunt de regles que permeten que una aplicació accedeixi a les funcionalitats d'una altra aplicació. Les APIs defineixen com les sol·licituds i respostes han de ser estructurades, permetent la comunicació entre diferents sistemes.</p>
</div><h2><p>Tipus d'APIs</p>
</h2>
<div class='content'><ul>
<li><strong>APIs RESTful</strong>: Utilitzen el protocol HTTP i operacions com GET, POST, PUT, DELETE.</li>
<li><strong>APIs SOAP</strong>: Utilitzen el protocol SOAP (Simple Object Access Protocol) i són més estructurades i segures.</li>
</ul>
</div><h1><p>Consumir APIs des de MUMPS</p>
</h1>
<div class='content'></div><h2><p>Exemple: Consumir una API RESTful</p>
</h2>
<div class='content'><p>Suposem que volem consumir una API que retorna informació meteorològica. Utilitzarem una API pública com OpenWeatherMap.</p>
<h4>Pas 1: Configuració de l'Entorn</h4>
<p>Assegura't de tenir accés a una biblioteca HTTP per a MUMPS. Una opció és utilitzar <code>%Net.HttpRequest</code> si estàs treballant amb InterSystems Caché.</p>
<h4>Pas 2: Escriure el Codi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUV0VBVEhFUihjaXR5KQogICAgTkVXIHJlcXVlc3QsIHJlc3BvbnNlLCBhcGlLZXksIHVybAogICAgU0VUIGFwaUtleSA9ICJsYV90ZXZhX2NsYXVfYXBpIgogICAgU0VUIHVybCA9ICJodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9Il9jaXR5XyImYXBwaWQ9Il9hcGlLZXkKCiAgICBTRVQgcmVxdWVzdCA9ICMjY2xhc3MoJU5ldC5IdHRwUmVxdWVzdCkuJU5ldygpCiAgICBTRVQgcmVxdWVzdC5TZXJ2ZXIgPSAiYXBpLm9wZW53ZWF0aGVybWFwLm9yZyIKICAgIFNFVCByZXF1ZXN0LlNTTENvbmZpZ3VyYXRpb24gPSAiU1NMIgogICAgU0VUIHJlcXVlc3QuSHR0cHMgPSAxCiAgICBTRVQgcmVxdWVzdC5Db250ZW50VHlwZSA9ICJhcHBsaWNhdGlvbi9qc29uIgogICAgU0VUIHJlcXVlc3QuVGltZW91dCA9IDMwCgogICAgRE8gcmVxdWVzdC5HZXQodXJsKQogICAgU0VUIHJlc3BvbnNlID0gcmVxdWVzdC5IdHRwUmVzcG9uc2UuRGF0YS5SZWFkKCkKICAgIFdSSVRFIHJlc3BvbnNlCiAgICBRVUlU"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GETWEATHER(city)
    NEW request, response, apiKey, url
    SET apiKey = &quot;la_teva_clau_api&quot;
    SET url = &quot;http://api.openweathermap.org/data/2.5/weather?q=&quot;_city_&quot;&amp;appid=&quot;_apiKey

    SET request = ##class(%Net.HttpRequest).%New()
    SET request.Server = &quot;api.openweathermap.org&quot;
    SET request.SSLConfiguration = &quot;SSL&quot;
    SET request.Https = 1
    SET request.ContentType = &quot;application/json&quot;
    SET request.Timeout = 30

    DO request.Get(url)
    SET response = request.HttpResponse.Data.Read()
    WRITE response
    QUIT</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Definició de Variables</strong>: Definim les variables <code>request</code>, <code>response</code>, <code>apiKey</code> i <code>url</code>.</li>
<li><strong>Construcció de la URL</strong>: Construïm la URL amb la ciutat i la clau API.</li>
<li><strong>Creació de l'Objecte HttpRequest</strong>: Utilitzem la classe <code>%Net.HttpRequest</code> per crear una sol·licitud HTTP.</li>
<li><strong>Configuració de la Sol·licitud</strong>: Configurem el servidor, SSL, tipus de contingut i temps d'espera.</li>
<li><strong>Enviament de la Sol·licitud</strong>: Utilitzem el mètode <code>Get</code> per enviar la sol·licitud.</li>
<li><strong>Lectura de la Resposta</strong>: Llegim la resposta i la mostrem.</li>
</ol>
</div><h2><p>Exercici Pràctic</p>
</h2>
<div class='content'><p><strong>Objectiu</strong>: Escriu una funció en MUMPS que consumeixi una API pública de la teva elecció i mostri la resposta.</p>
<p><strong>Solució Proposada</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUSk9LRSgpCiAgICBORVcgcmVxdWVzdCwgcmVzcG9uc2UsIHVybAogICAgU0VUIHVybCA9ICJodHRwczovL29mZmljaWFsLWpva2UtYXBpLmFwcHNwb3QuY29tL3JhbmRvbV9qb2tlIgoKICAgIFNFVCByZXF1ZXN0ID0gIyNjbGFzcyglTmV0Lkh0dHBSZXF1ZXN0KS4lTmV3KCkKICAgIFNFVCByZXF1ZXN0LlNlcnZlciA9ICJvZmZpY2lhbC1qb2tlLWFwaS5hcHBzcG90LmNvbSIKICAgIFNFVCByZXF1ZXN0Lkh0dHBzID0gMQogICAgU0VUIHJlcXVlc3QuQ29udGVudFR5cGUgPSAiYXBwbGljYXRpb24vanNvbiIKICAgIFNFVCByZXF1ZXN0LlRpbWVvdXQgPSAzMAoKICAgIERPIHJlcXVlc3QuR2V0KHVybCkKICAgIFNFVCByZXNwb25zZSA9IHJlcXVlc3QuSHR0cFJlc3BvbnNlLkRhdGEuUmVhZCgpCiAgICBXUklURSByZXNwb25zZQogICAgUVVJVA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GETJOKE()
    NEW request, response, url
    SET url = &quot;https://official-joke-api.appspot.com/random_joke&quot;

    SET request = ##class(%Net.HttpRequest).%New()
    SET request.Server = &quot;official-joke-api.appspot.com&quot;
    SET request.Https = 1
    SET request.ContentType = &quot;application/json&quot;
    SET request.Timeout = 30

    DO request.Get(url)
    SET response = request.HttpResponse.Data.Read()
    WRITE response
    QUIT</pre></div><div class='content'></div><h1><p>Crear un Servei Web en MUMPS</p>
</h1>
<div class='content'></div><h2><p>Exemple: Crear un Servei Web Senzill</p>
</h2>
<div class='content'><p>Suposem que volem crear un servei web que retorna un missatge de benvinguda.</p>
<h4>Pas 1: Definir el Servei Web</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V0VMQ09NRShuYW1lKQogICAgTkVXIHJlc3BvbnNlCiAgICBTRVQgcmVzcG9uc2UgPSAiQmVudmluZ3V0LCAiX25hbWVfIiEiCiAgICBRVUlUIHJlc3BvbnNl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WELCOME(name)
    NEW response
    SET response = &quot;Benvingut, &quot;_name_&quot;!&quot;
    QUIT response</pre></div><div class='content'><h4>Pas 2: Configurar el Servei Web</h4>
<p>Utilitzarem una configuració específica del servidor web per exposar aquesta funció com un servei web. Això pot variar segons la plataforma MUMPS que utilitzis.</p>
</div><h2><p>Exercici Pràctic</p>
</h2>
<div class='content'><p><strong>Objectiu</strong>: Escriu una funció en MUMPS que accepti un nom com a paràmetre i retorni un missatge de benvinguda. Configura aquesta funció com un servei web.</p>
<p><strong>Solució Proposada</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V0VMQ09NRShuYW1lKQogICAgTkVXIHJlc3BvbnNlCiAgICBTRVQgcmVzcG9uc2UgPSAiQmVudmluZ3V0LCAiX25hbWVfIiEiCiAgICBRVUlUIHJlc3BvbnNl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WELCOME(name)
    NEW response
    SET response = &quot;Benvingut, &quot;_name_&quot;!&quot;
    QUIT response</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest mòdul, hem après:</p>
<ul>
<li>Què són les APIs i els serveis web.</li>
<li>Com consumir una API RESTful des de MUMPS.</li>
<li>Com crear un servei web senzill en MUMPS.</li>
</ul>
<p>Aquestes habilitats són fonamentals per integrar aplicacions MUMPS amb altres sistemes i serveis, ampliant així les seves capacitats i funcionalitats.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-02-web-integration' title="Integració Web">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-04-interfacing-sql-databases' title="Interfície amb Bases de Dades SQL">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
