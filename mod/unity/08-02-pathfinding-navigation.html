<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pathfinding i Navegació</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/08-02-pathfinding-navigation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/08-02-pathfinding-navigation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/08-02-pathfinding-navigation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/unity/08-02-pathfinding-navigation" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/unity/08-02-pathfinding-navigation" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-advanced-physics-techniques' title="Tècniques Avançades de Física">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pathfinding i Navegació</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-basic-ai-scripting' title="Programació Bàsica d'IA">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les tècniques de pathfinding i navegació en Unity, que són essencials per crear personatges no jugadors (NPCs) que es moguin de manera intel·ligent i eficient dins del teu joc. Aprendrem a utilitzar el sistema de navegació de Unity, a configurar NavMeshes, i a implementar agents de navegació.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics de pathfinding i navegació.</li>
<li>Aprendre a configurar NavMeshes en Unity.</li>
<li>Implementar agents de navegació per a NPCs.</li>
<li>Utilitzar NavMesh Obstacles per gestionar col·lisions dinàmiques.</li>
</ul>
</div><h1>Conceptes Bàsics de Pathfinding i Navegació</h1>
<div class='content'></div><h2>Què és el Pathfinding?</h2>
<div class='content'><p>El pathfinding és el procés de trobar un camí viable entre dos punts en un espai de joc. Aquest procés és crucial per a la IA dels NPCs, ja que els permet moure's de manera realista i evitar obstacles.</p>
</div><h2>Què és un NavMesh?</h2>
<div class='content'><p>Un NavMesh (Navigation Mesh) és una representació simplificada de l'espai de joc que defineix les àrees navegables per als agents de navegació. Unity utilitza NavMeshes per calcular rutes eficients per als NPCs.</p>
</div><h1>Configurant NavMeshes en Unity</h1>
<div class='content'></div><h2>Passos per Configurar un NavMesh</h2>
<div class='content'><ol>
<li>
<p><strong>Preparar l'Escena</strong>:</p>
<ul>
<li>Assegura't que els objectes de l'escena que han de ser navegables tinguin col·liders.</li>
<li>Marca els objectes estàtics com a &quot;Navigation Static&quot; des del panell d'inspector.</li>
</ul>
</li>
<li>
<p><strong>Obrir la Finestra de Navegació</strong>:</p>
<ul>
<li>Ves a <code>Window &gt; AI &gt; Navigation</code> per obrir la finestra de navegació.</li>
</ul>
</li>
<li>
<p><strong>Configurar les Àrees de Navegació</strong>:</p>
<ul>
<li>A la finestra de navegació, selecciona la pestanya <code>Bake</code>.</li>
<li>Ajusta els paràmetres com <code>Agent Radius</code>, <code>Agent Height</code>, <code>Max Slope</code>, i <code>Step Height</code> segons les necessitats del teu joc.</li>
<li>Fes clic a <code>Bake</code> per generar el NavMesh.</li>
</ul>
</li>
</ol>
</div><h2>Exemple Pràctic: Configurant un NavMesh</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLkFJOwoKcHVibGljIGNsYXNzIE5hdk1lc2hTZXR1cCA6IE1vbm9CZWhhdmlvdXIKewogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgLy8gQXNzZWd1cmEndCBxdWUgZWwgTmF2TWVzaCBlc3TDoCBnZW5lcmF0CiAgICAgICAgTmF2TWVzaFN1cmZhY2UgbmF2TWVzaFN1cmZhY2UgPSBHZXRDb21wb25lbnQ8TmF2TWVzaFN1cmZhY2U+KCk7CiAgICAgICAgbmF2TWVzaFN1cmZhY2UuQnVpbGROYXZNZXNoKCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.AI;

public class NavMeshSetup : MonoBehaviour
{
    void Start()
    {
        // Assegura't que el NavMesh est&agrave; generat
        NavMeshSurface navMeshSurface = GetComponent&lt;NavMeshSurface&gt;();
        navMeshSurface.BuildNavMesh();
    }
}</pre></div><div class='content'></div><h1>Implementant Agents de Navegació</h1>
<div class='content'></div><h2>Afegint un Agent de Navegació</h2>
<div class='content'><ol>
<li>
<p><strong>Afegir el Component NavMeshAgent</strong>:</p>
<ul>
<li>Selecciona l'NPC al qual vols afegir navegació.</li>
<li>Afegeix el component <code>NavMeshAgent</code> des del panell d'inspector.</li>
</ul>
</li>
<li>
<p><strong>Configurar el NavMeshAgent</strong>:</p>
<ul>
<li>Ajusta els paràmetres com <code>Speed</code>, <code>Angular Speed</code>, <code>Acceleration</code>, i <code>Stopping Distance</code> segons les necessitats del teu NPC.</li>
</ul>
</li>
</ol>
</div><h2>Exemple Pràctic: Movent un Agent de Navegació</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLkFJOwoKcHVibGljIGNsYXNzIE5QQ01vdmVtZW50IDogTW9ub0JlaGF2aW91cgp7CiAgICBwdWJsaWMgVHJhbnNmb3JtIHRhcmdldDsKICAgIHByaXZhdGUgTmF2TWVzaEFnZW50IGFnZW50OwoKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIGFnZW50ID0gR2V0Q29tcG9uZW50PE5hdk1lc2hBZ2VudD4oKTsKICAgICAgICBhZ2VudC5TZXREZXN0aW5hdGlvbih0YXJnZXQucG9zaXRpb24pOwogICAgfQoKICAgIHZvaWQgVXBkYXRlKCkKICAgIHsKICAgICAgICBpZiAoVmVjdG9yMy5EaXN0YW5jZShhZ2VudC5kZXN0aW5hdGlvbiwgdGFyZ2V0LnBvc2l0aW9uKSA+IDAuMWYpCiAgICAgICAgewogICAgICAgICAgICBhZ2VudC5TZXREZXN0aW5hdGlvbih0YXJnZXQucG9zaXRpb24pOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.AI;

public class NPCMovement : MonoBehaviour
{
    public Transform target;
    private NavMeshAgent agent;

    void Start()
    {
        agent = GetComponent&lt;NavMeshAgent&gt;();
        agent.SetDestination(target.position);
    }

    void Update()
    {
        if (Vector3.Distance(agent.destination, target.position) &gt; 0.1f)
        {
            agent.SetDestination(target.position);
        }
    }
}</pre></div><div class='content'></div><h1>Utilitzant NavMesh Obstacles</h1>
<div class='content'></div><h2>Afegint Obstacles Dinàmics</h2>
<div class='content'><ol>
<li>
<p><strong>Afegir el Component NavMeshObstacle</strong>:</p>
<ul>
<li>Selecciona l'objecte que actuarà com a obstacle.</li>
<li>Afegeix el component <code>NavMeshObstacle</code> des del panell d'inspector.</li>
</ul>
</li>
<li>
<p><strong>Configurar el NavMeshObstacle</strong>:</p>
<ul>
<li>Ajusta els paràmetres com <code>Carve</code> per permetre que l'obstacle talli el NavMesh dinàmicament.</li>
</ul>
</li>
</ol>
</div><h2>Exemple Pràctic: Configurant un NavMeshObstacle</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLkFJOwoKcHVibGljIGNsYXNzIER5bmFtaWNPYnN0YWNsZSA6IE1vbm9CZWhhdmlvdXIKewogICAgcHJpdmF0ZSBOYXZNZXNoT2JzdGFjbGUgb2JzdGFjbGU7CgogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgb2JzdGFjbGUgPSBHZXRDb21wb25lbnQ8TmF2TWVzaE9ic3RhY2xlPigpOwogICAgICAgIG9ic3RhY2xlLmNhcnZpbmcgPSB0cnVlOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.AI;

public class DynamicObstacle : MonoBehaviour
{
    private NavMeshObstacle obstacle;

    void Start()
    {
        obstacle = GetComponent&lt;NavMeshObstacle&gt;();
        obstacle.carving = true;
    }
}</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Configurar un NavMesh</h2>
<div class='content'><ol>
<li>Crea una escena amb diversos objectes estàtics.</li>
<li>Configura un NavMesh per a l'escena.</li>
<li>Afegeix un NPC amb un component <code>NavMeshAgent</code> i fes que es mogui cap a un punt específic.</li>
</ol>
</div><h2>Exercici 2: Afegir Obstacles Dinàmics</h2>
<div class='content'><ol>
<li>Afegeix diversos obstacles dinàmics a l'escena.</li>
<li>Configura els obstacles perquè tallin el NavMesh dinàmicament.</li>
<li>Observa com els NPCs ajusten les seves rutes per evitar els obstacles.</li>
</ol>
</div><h1>Resum</h1>
<div class='content'><p>En aquest tema, hem après els conceptes bàsics de pathfinding i navegació en Unity. Hem configurat NavMeshes, implementat agents de navegació, i utilitzat obstacles dinàmics per crear una experiència de joc més realista. Aquests coneixements són fonamentals per desenvolupar IA avançada per als teus jocs.</p>
<p>En el següent tema, explorarem la programació bàsica d'IA, on aprendrem a crear comportaments més complexos per als NPCs.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-advanced-physics-techniques' title="Tècniques Avançades de Física">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-basic-ai-scripting' title="Programació Bàsica d'IA">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
