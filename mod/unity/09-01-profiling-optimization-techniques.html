<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tècniques de Perfilat i Optimització</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/09-01-profiling-optimization-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/09-01-profiling-optimization-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/09-01-profiling-optimization-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/unity/09-01-profiling-optimization-techniques" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/unity/09-01-profiling-optimization-techniques" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-state-machines-behavior-trees' title="Màquines d'Estats i Arbres de Comportament">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tècniques de Perfilat i Optimització</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-memory-management' title="Gestió de Memòria">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com identificar i solucionar problemes de rendiment en els nostres projectes de Unity. El perfilat és una eina essencial per a qualsevol desenvolupador de jocs, ja que ens permet analitzar el comportament del nostre joc i detectar colls d'ampolla que poden afectar el rendiment. A més, explorarem diverses tècniques d'optimització per millorar l'eficiència del nostre joc.</p>
</div><h1><ol>
<li>Introducció al Perfilat</li>
</ol>
</h1>
<div class='content'></div><h2><p>Què és el Perfilat?</p>
</h2>
<div class='content'><p>El perfilat és el procés d'analitzar el rendiment del nostre joc per identificar àrees que necessiten optimització. Utilitzant eines de perfilat, podem mesurar l'ús de la CPU, GPU, memòria i altres recursos per comprendre millor com es comporta el nostre joc.</p>
</div><h2><p>Eines de Perfilat en Unity</p>
</h2>
<div class='content'><p>Unity proporciona diverses eines per ajudar-nos a perfilar el nostre joc:</p>
<ul>
<li><strong>Profiler</strong>: Una eina integrada en Unity que ens permet veure l'ús de recursos en temps real.</li>
<li><strong>Frame Debugger</strong>: Ens ajuda a analitzar el procés de renderització fotograma a fotograma.</li>
<li><strong>Memory Profiler</strong>: Una eina per analitzar l'ús de memòria i detectar fuites de memòria.</li>
</ul>
</div><h1><ol start="2">
<li>Utilitzant el Profiler de Unity</li>
</ol>
</h1>
<div class='content'></div><h2><p>Accedint al Profiler</p>
</h2>
<div class='content'><p>Per accedir al Profiler en Unity:</p>
<ol>
<li>Obre Unity.</li>
<li>Ves a <code>Window &gt; Analysis &gt; Profiler</code>.</li>
</ol>
</div><h2><p>Components del Profiler</p>
</h2>
<div class='content'><p>El Profiler de Unity està dividit en diverses seccions:</p>
<ul>
<li><strong>CPU Usage</strong>: Mostra l'ús de la CPU per diferents subsistemes del joc.</li>
<li><strong>GPU Usage</strong>: Mostra l'ús de la GPU.</li>
<li><strong>Memory</strong>: Mostra l'ús de memòria.</li>
<li><strong>Rendering</strong>: Mostra informació sobre el procés de renderització.</li>
<li><strong>Audio</strong>: Mostra l'ús de recursos d'àudio.</li>
<li><strong>Physics</strong>: Mostra informació sobre la física del joc.</li>
</ul>
</div><h2><p>Exemple Pràctic</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRXhhbXBsZVNjcmlwdCA6IE1vbm9CZWhhdmlvdXIKewogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIC8vIFNpbXVsYWNpw7MgZCd1bmEgb3BlcmFjacOzIGNvc3Rvc2EKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDAwMDA7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGZsb2F0IHggPSBNYXRoZi5TcXJ0KGkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class ExampleScript : MonoBehaviour
{
    void Update()
    {
        // Simulaci&oacute; d'una operaci&oacute; costosa
        for (int i = 0; i &lt; 1000000; i++)
        {
            float x = Mathf.Sqrt(i);
        }
    }
}</pre></div><div class='content'><p>Aquest codi simula una operació costosa que pot afectar el rendiment del joc. Utilitzarem el Profiler per identificar aquest problema.</p>
</div><h2><p>Analitzant el Rendiment</p>
</h2>
<div class='content'><ol>
<li>Executa el joc amb el Profiler obert.</li>
<li>Observa la secció de <code>CPU Usage</code>.</li>
<li>Identifica el pic d'ús de la CPU causat per l'operació costosa.</li>
</ol>
</div><h1><ol start="3">
<li>Tècniques d'Optimització</li>
</ol>
</h1>
<div class='content'></div><h2><p>Optimització de Codi</p>
</h2>
<div class='content'><ul>
<li><strong>Evita operacions costoses en el <code>Update</code></strong>: Les operacions que es repeteixen cada fotograma poden afectar el rendiment.</li>
<li><strong>Utilitza <code>Object Pooling</code></strong>: Reutilitza objectes en lloc de crear-ne de nous constantment.</li>
<li><strong>Optimitza les col·lisions</strong>: Redueix el nombre de col·lisions verificades utilitzant col·liders simples i desactivant col·liders innecessaris.</li>
</ul>
</div><h2><p>Optimització de Memòria</p>
</h2>
<div class='content'><ul>
<li><strong>Redueix l'ús de memòria</strong>: Allibera memòria innecessària i utilitza estructures de dades eficients.</li>
<li><strong>Evita fuites de memòria</strong>: Assegura't de desreferenciar objectes que ja no es necessiten.</li>
</ul>
</div><h2><p>Optimització de Renderització</p>
</h2>
<div class='content'><ul>
<li><strong>Redueix el nombre de draw calls</strong>: Combina malles i utilitza atles de textures.</li>
<li><strong>Utilitza LOD (Level of Detail)</strong>: Redueix la complexitat de les malles a mesura que s'allunyen de la càmera.</li>
<li><strong>Culling</strong>: Utilitza tècniques de culling per no renderitzar objectes que no són visibles.</li>
</ul>
</div><h1><ol start="4">
<li>Exercicis Pràctics</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercici 1: Identificant Problemes de Rendiment</p>
</h2>
<div class='content'><ol>
<li>Crea un nou projecte de Unity.</li>
<li>Afegeix un script que realitzi una operació costosa en el <code>Update</code>.</li>
<li>Utilitza el Profiler per identificar el problema de rendiment.</li>
</ol>
</div><h2><p>Exercici 2: Optimitzant el Codi</p>
</h2>
<div class='content'><ol>
<li>Modifica l'script de l'exercici anterior per optimitzar l'operació costosa.</li>
<li>Comprova la millora de rendiment utilitzant el Profiler.</li>
</ol>
</div><h2><p>Solucions</p>
</h2>
<div class='content'><h4>Exercici 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgQ29zdGx5T3BlcmF0aW9uIDogTW9ub0JlaGF2aW91cgp7CiAgICB2b2lkIFVwZGF0ZSgpCiAgICB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDAwMDAwOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBmbG9hdCB4ID0gTWF0aGYuU3FydChpKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class CostlyOperation : MonoBehaviour
{
    void Update()
    {
        for (int i = 0; i &lt; 1000000; i++)
        {
            float x = Mathf.Sqrt(i);
        }
    }
}</pre></div><div class='content'><h4>Exercici 2</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgT3B0aW1pemVkT3BlcmF0aW9uIDogTW9ub0JlaGF2aW91cgp7CiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICBQZXJmb3JtQ29zdGx5T3BlcmF0aW9uKCk7CiAgICB9CgogICAgdm9pZCBQZXJmb3JtQ29zdGx5T3BlcmF0aW9uKCkKICAgIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDAwMDA7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGZsb2F0IHggPSBNYXRoZi5TcXJ0KGkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class OptimizedOperation : MonoBehaviour
{
    void Start()
    {
        PerformCostlyOperation();
    }

    void PerformCostlyOperation()
    {
        for (int i = 0; i &lt; 1000000; i++)
        {
            float x = Mathf.Sqrt(i);
        }
    }
}</pre></div><div class='content'><p>En aquest cas, hem mogut l'operació costosa fora del <code>Update</code> per evitar que es repeteixi cada fotograma.</p>
</div><h1><ol start="5">
<li>Resum</li>
</ol>
</h1>
<div class='content'><p>En aquesta secció, hem après com utilitzar el Profiler de Unity per identificar problemes de rendiment en els nostres projectes. També hem explorat diverses tècniques d'optimització per millorar l'eficiència del nostre joc. Recorda que el perfilat i l'optimització són processos continus que requereixen atenció constant durant el desenvolupament del joc. Amb aquestes eines i tècniques, estaràs millor preparat per crear jocs més fluids i eficients.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-state-machines-behavior-trees' title="Màquines d'Estats i Arbres de Comportament">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-memory-management' title="Gestió de Memòria">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
