<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tècniques Avançades de Física</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/08-01-advanced-physics-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/08-01-advanced-physics-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/08-01-advanced-physics-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/unity/08-01-advanced-physics-techniques" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/unity/08-01-advanced-physics-techniques" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-custom-editors-gizmos' title="Editors Personalitzats i Gizmos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tècniques Avançades de Física</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-pathfinding-navigation' title="Pathfinding i Navegació">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem tècniques avançades de física en Unity que et permetran crear comportaments més realistes i complexos en els teus jocs. Aquestes tècniques inclouen l'ús avançat de Rigidbody, col·lisions, forces, i altres components de física.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><strong>Rigidbody Avançat</strong></li>
<li><strong>Forces i Moments</strong></li>
<li><strong>Joints (Articulacions)</strong></li>
<li><strong>Simulació de Fluids</strong></li>
<li><strong>Optimització de Física</strong></li>
</ol>
</div><h1>1. Rigidbody Avançat</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>El component <code>Rigidbody</code> és fonamental per a la física en Unity. A més de les propietats bàsiques com la massa, la gravetat i la velocitat, hi ha altres propietats i mètodes que poden ser utilitzats per aconseguir comportaments més avançats.</p>
</div><h2>Propietats Avançades</h2>
<div class='content'><ul>
<li><strong>Drag</strong>: Controla la resistència de l'aire que afecta el moviment de l'objecte.</li>
<li><strong>Angular Drag</strong>: Controla la resistència de l'aire que afecta la rotació de l'objecte.</li>
<li><strong>Interpolation</strong>: Millora la suavitat del moviment de l'objecte.</li>
<li><strong>Collision Detection</strong>: Modes de detecció de col·lisions (Discrete, Continuous, Continuous Dynamic).</li>
</ul>
</div><h2>Exemple de Codi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRSaWdpZGJvZHkgOiBNb25vQmVoYXZpb3VyCnsKICAgIHByaXZhdGUgUmlnaWRib2R5IHJiOwoKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIHJiID0gR2V0Q29tcG9uZW50PFJpZ2lkYm9keT4oKTsKICAgICAgICByYi5tYXNzID0gMi4wZjsKICAgICAgICByYi5kcmFnID0gMC41ZjsKICAgICAgICByYi5hbmd1bGFyRHJhZyA9IDAuMDVmOwogICAgICAgIHJiLmludGVycG9sYXRpb24gPSBSaWdpZGJvZHlJbnRlcnBvbGF0aW9uLkludGVycG9sYXRlOwogICAgICAgIHJiLmNvbGxpc2lvbkRldGVjdGlvbk1vZGUgPSBDb2xsaXNpb25EZXRlY3Rpb25Nb2RlLkNvbnRpbnVvdXM7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class AdvancedRigidbody : MonoBehaviour
{
    private Rigidbody rb;

    void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
        rb.mass = 2.0f;
        rb.drag = 0.5f;
        rb.angularDrag = 0.05f;
        rb.interpolation = RigidbodyInterpolation.Interpolate;
        rb.collisionDetectionMode = CollisionDetectionMode.Continuous;
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>mass</strong>: Estableix la massa del <code>Rigidbody</code> a 2.0.</li>
<li><strong>drag</strong>: Estableix la resistència de l'aire a 0.5.</li>
<li><strong>angularDrag</strong>: Estableix la resistència angular a 0.05.</li>
<li><strong>interpolation</strong>: Activa la interpolació per a un moviment més suau.</li>
<li><strong>collisionDetectionMode</strong>: Estableix el mode de detecció de col·lisions a <code>Continuous</code>.</li>
</ul>
</div><h1>2. Forces i Moments</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>Les forces i els moments (torques) són essencials per simular moviments realistes. Unity proporciona diversos mètodes per aplicar forces i moments als <code>Rigidbody</code>.</p>
</div><h2>Mètodes Clau</h2>
<div class='content'><ul>
<li><strong>AddForce</strong>: Aplica una força a l'objecte.</li>
<li><strong>AddTorque</strong>: Aplica un moment (torque) a l'objecte.</li>
<li><strong>AddExplosionForce</strong>: Aplica una força explosiva a l'objecte.</li>
</ul>
</div><h2>Exemple de Codi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgQXBwbHlGb3JjZXMgOiBNb25vQmVoYXZpb3VyCnsKICAgIHByaXZhdGUgUmlnaWRib2R5IHJiOwoKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIHJiID0gR2V0Q29tcG9uZW50PFJpZ2lkYm9keT4oKTsKICAgIH0KCiAgICB2b2lkIFVwZGF0ZSgpCiAgICB7CiAgICAgICAgaWYgKElucHV0LkdldEtleURvd24oS2V5Q29kZS5TcGFjZSkpCiAgICAgICAgewogICAgICAgICAgICByYi5BZGRGb3JjZShWZWN0b3IzLnVwICogMTAuMGYsIEZvcmNlTW9kZS5JbXB1bHNlKTsKICAgICAgICB9CgogICAgICAgIGlmIChJbnB1dC5HZXRLZXlEb3duKEtleUNvZGUuVCkpCiAgICAgICAgewogICAgICAgICAgICByYi5BZGRUb3JxdWUoVmVjdG9yMy5yaWdodCAqIDUuMGYsIEZvcmNlTW9kZS5JbXB1bHNlKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class ApplyForces : MonoBehaviour
{
    private Rigidbody rb;

    void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
    }

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            rb.AddForce(Vector3.up * 10.0f, ForceMode.Impulse);
        }

        if (Input.GetKeyDown(KeyCode.T))
        {
            rb.AddTorque(Vector3.right * 5.0f, ForceMode.Impulse);
        }
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>AddForce</strong>: Aplica una força impulsiva cap amunt quan es prem la tecla espai.</li>
<li><strong>AddTorque</strong>: Aplica un moment impulsiu al voltant de l'eix X quan es prem la tecla T.</li>
</ul>
</div><h1>3. Joints (Articulacions)</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>Les articulacions (<code>Joints</code>) permeten connectar dos <code>Rigidbody</code> i definir com es mouen l'un respecte a l'altre. Unity ofereix diversos tipus d'articulacions, com ara <code>HingeJoint</code>, <code>SpringJoint</code>, i <code>FixedJoint</code>.</p>
</div><h2>Tipus d'Articulacions</h2>
<div class='content'><ul>
<li><strong>HingeJoint</strong>: Permet la rotació al voltant d'un eix.</li>
<li><strong>SpringJoint</strong>: Connecta dos objectes amb una molla.</li>
<li><strong>FixedJoint</strong>: Connecta dos objectes de manera fixa.</li>
</ul>
</div><h2>Exemple de Codi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgU2V0dXBIaW5nZUpvaW50IDogTW9ub0JlaGF2aW91cgp7CiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICBIaW5nZUpvaW50IGhpbmdlID0gZ2FtZU9iamVjdC5BZGRDb21wb25lbnQ8SGluZ2VKb2ludD4oKTsKICAgICAgICBoaW5nZS5hbmNob3IgPSBWZWN0b3IzLnplcm87CiAgICAgICAgaGluZ2UuYXhpcyA9IFZlY3RvcjMucmlnaHQ7CiAgICAgICAgaGluZ2UudXNlU3ByaW5nID0gdHJ1ZTsKCiAgICAgICAgSm9pbnRTcHJpbmcgc3ByaW5nID0gbmV3IEpvaW50U3ByaW5nKCk7CiAgICAgICAgc3ByaW5nLnNwcmluZyA9IDEwLjBmOwogICAgICAgIHNwcmluZy5kYW1wZXIgPSAxLjBmOwogICAgICAgIHNwcmluZy50YXJnZXRQb3NpdGlvbiA9IDAuMGY7CgogICAgICAgIGhpbmdlLnNwcmluZyA9IHNwcmluZzsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class SetupHingeJoint : MonoBehaviour
{
    void Start()
    {
        HingeJoint hinge = gameObject.AddComponent&lt;HingeJoint&gt;();
        hinge.anchor = Vector3.zero;
        hinge.axis = Vector3.right;
        hinge.useSpring = true;

        JointSpring spring = new JointSpring();
        spring.spring = 10.0f;
        spring.damper = 1.0f;
        spring.targetPosition = 0.0f;

        hinge.spring = spring;
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>HingeJoint</strong>: Afegeix una articulació de frontissa a l'objecte.</li>
<li><strong>anchor</strong>: Estableix el punt d'ancoratge de l'articulació.</li>
<li><strong>axis</strong>: Defineix l'eix de rotació.</li>
<li><strong>useSpring</strong>: Activa l'ús de la molla.</li>
<li><strong>JointSpring</strong>: Configura les propietats de la molla (força, amortiment, posició objectiu).</li>
</ul>
</div><h1>4. Simulació de Fluids</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>La simulació de fluids és una tècnica avançada que pot ser utilitzada per crear efectes com aigua, fum, o altres fluids. Unity no té suport natiu per a la simulació de fluids, però es poden utilitzar plugins o scripts personalitzats.</p>
</div><h2>Exemple de Plugin</h2>
<div class='content'><p>Un dels plugins més populars per a la simulació de fluids en Unity és <strong>Obi Fluid</strong>. Aquest plugin permet simular fluids de manera realista.</p>
</div><h2>Exemple de Codi (Utilitzant Obi Fluid)</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXF1ZXN0IGNvZGkgw6lzIHVuIGV4ZW1wbGUgc2ltcGxpZmljYXQgZGUgY29tIGNvbmZpZ3VyYXIgT2JpIEZsdWlkCnVzaW5nIE9iaTsKdXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgU2V0dXBGbHVpZCA6IE1vbm9CZWhhdmlvdXIKewogICAgcHVibGljIE9iaVNvbHZlciBzb2x2ZXI7CiAgICBwdWJsaWMgT2JpRW1pdHRlciBlbWl0dGVyOwoKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIHNvbHZlciA9IGdhbWVPYmplY3QuQWRkQ29tcG9uZW50PE9iaVNvbHZlcj4oKTsKICAgICAgICBlbWl0dGVyID0gZ2FtZU9iamVjdC5BZGRDb21wb25lbnQ8T2JpRW1pdHRlcj4oKTsKCiAgICAgICAgZW1pdHRlci5zb2x2ZXIgPSBzb2x2ZXI7CiAgICAgICAgZW1pdHRlci5lbWlzc2lvblJhdGUgPSAxMDAwOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Aquest codi &eacute;s un exemple simplificat de com configurar Obi Fluid
using Obi;
using UnityEngine;

public class SetupFluid : MonoBehaviour
{
    public ObiSolver solver;
    public ObiEmitter emitter;

    void Start()
    {
        solver = gameObject.AddComponent&lt;ObiSolver&gt;();
        emitter = gameObject.AddComponent&lt;ObiEmitter&gt;();

        emitter.solver = solver;
        emitter.emissionRate = 1000;
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>ObiSolver</strong>: Component que resol la física del fluid.</li>
<li><strong>ObiEmitter</strong>: Component que emet partícules de fluid.</li>
<li><strong>emissionRate</strong>: Estableix la taxa d'emissió de partícules.</li>
</ul>
</div><h1>5. Optimització de Física</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>La física pot ser costosa en termes de rendiment, especialment en jocs complexos. És important optimitzar la física per assegurar un rendiment suau.</p>
</div><h2>Consells d'Optimització</h2>
<div class='content'><ul>
<li><strong>Utilitza col·liders simples</strong>: Prefereix col·liders primitives (caixes, esferes) en lloc de col·liders complexos.</li>
<li><strong>Redueix la taxa de simulació</strong>: Ajusta la taxa de simulació de física (<code>Fixed Timestep</code>) en els paràmetres del projecte.</li>
<li><strong>Desactiva la física innecessària</strong>: Desactiva components de física en objectes que no necessiten ser simulats.</li>
<li><strong>Utilitza <code>Rigidbody</code> cinemàtics</strong>: Per a objectes que es mouen de manera previsible, utilitza <code>Rigidbody</code> cinemàtics.</li>
</ul>
</div><h2>Exemple de Codi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgT3B0aW1pemVQaHlzaWNzIDogTW9ub0JlaGF2aW91cgp7CiAgICBwcml2YXRlIFJpZ2lkYm9keSByYjsKCiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICByYiA9IEdldENvbXBvbmVudDxSaWdpZGJvZHk+KCk7CiAgICAgICAgcmIuaXNLaW5lbWF0aWMgPSB0cnVlOyAvLyBEZXNhY3RpdmEgbGEgc2ltdWxhY2nDsyBkZSBmw61zaWNhCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class OptimizePhysics : MonoBehaviour
{
    private Rigidbody rb;

    void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
        rb.isKinematic = true; // Desactiva la simulaci&oacute; de f&iacute;sica
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>isKinematic</strong>: Estableix el <code>Rigidbody</code> com a cinemàtic, desactivant la simulació de física.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem explorat diverses tècniques avançades de física en Unity, incloent l'ús avançat de <code>Rigidbody</code>, l'aplicació de forces i moments, l'ús d'articulacions, la simulació de fluids, i l'optimització de la física. Aquestes tècniques et permetran crear comportaments més realistes i complexos en els teus jocs, millorant l'experiència del jugador.</p>
</div><h2>Exercicis Pràctics</h2>
<div class='content'><ol>
<li><strong>Experimenta amb Forces</strong>: Crea un script que aplici diferents tipus de forces a un objecte i observa els resultats.</li>
<li><strong>Configura una Articulació</strong>: Afegeix una articulació de frontissa entre dos objectes i ajusta les propietats de la molla.</li>
<li><strong>Simula Fluids</strong>: Utilitza un plugin com Obi Fluid per crear una simulació de fluids en el teu projecte.</li>
<li><strong>Optimitza la Física</strong>: Identifica i implementa almenys tres tècniques d'optimització de física en un projecte existent.</li>
</ol>
</div><h2>Solucions</h2>
<div class='content'><p>Les solucions als exercicis pràctics es poden trobar en els arxius adjunts del curs o en la documentació oficial de Unity i els plugins utilitzats.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-custom-editors-gizmos' title="Editors Personalitzats i Gizmos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-pathfinding-navigation' title="Pathfinding i Navegació">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
