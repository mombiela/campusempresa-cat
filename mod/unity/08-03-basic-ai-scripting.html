<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programació Bàsica d'IA</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/08-03-basic-ai-scripting" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/08-03-basic-ai-scripting" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/08-03-basic-ai-scripting" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/unity/08-03-basic-ai-scripting" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/unity/08-03-basic-ai-scripting" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-pathfinding-navigation' title="Pathfinding i Navegació">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Programació Bàsica d'IA</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-state-machines-behavior-trees' title="Màquines d'Estats i Arbres de Comportament">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem els conceptes bàsics de la programació d'intel·ligència artificial (IA) en Unity. Ens centrarem en com crear comportaments senzills per als nostres personatges no jugadors (NPCs) utilitzant scripts de C#. Aquest mòdul inclou una introducció a la IA, exemples pràctics i exercicis per reforçar els conceptes apresos.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics de la IA en jocs.</li>
<li>Aprendre a crear comportaments senzills per a NPCs.</li>
<li>Implementar moviments bàsics i seguiment de jugadors.</li>
<li>Utilitzar components de Unity per facilitar la programació d'IA.</li>
</ul>
</div><h1><p>Conceptes Clau</p>
</h1>
<div class='content'><ul>
<li><strong>IA en Jocs</strong>: La intel·ligència artificial en jocs es refereix a la creació de comportaments per a personatges no jugadors (NPCs) que semblin intel·ligents i realistes.</li>
<li><strong>NPC (Non-Player Character)</strong>: Personatge del joc que no és controlat per un jugador, sinó per la IA.</li>
<li><strong>Moviment Bàsic</strong>: Desplaçament d'un NPC d'un punt a un altre.</li>
<li><strong>Seguiment de Jugadors</strong>: Capacitat d'un NPC per seguir o perseguir el jugador.</li>
</ul>
</div><h1><p>Exemples Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exemple 1: Moviment Bàsic d'un NPC</p>
</h2>
<div class='content'><p>En aquest exemple, crearem un script que farà que un NPC es mogui cap a una posició específica.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgQmFzaWNNb3ZlbWVudCA6IE1vbm9CZWhhdmlvdXIKewogICAgcHVibGljIFRyYW5zZm9ybSB0YXJnZXQ7IC8vIExhIHBvc2ljacOzIG9iamVjdGl1CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSA1ZjsgLy8gVmVsb2NpdGF0IGRlIG1vdmltZW50CgogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIC8vIE1vdmltZW50IGNhcCBhIGxhIHBvc2ljacOzIG9iamVjdGl1CiAgICAgICAgZmxvYXQgc3RlcCA9IHNwZWVkICogVGltZS5kZWx0YVRpbWU7IC8vIENhbGN1bGEgbGEgZGlzdMOgbmNpYSBhIHJlY8OzcnJlciBlbiBhcXVlc3QgZnJhbWUKICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLk1vdmVUb3dhcmRzKHRyYW5zZm9ybS5wb3NpdGlvbiwgdGFyZ2V0LnBvc2l0aW9uLCBzdGVwKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class BasicMovement : MonoBehaviour
{
    public Transform target; // La posici&oacute; objectiu
    public float speed = 5f; // Velocitat de moviment

    void Update()
    {
        // Moviment cap a la posici&oacute; objectiu
        float step = speed * Time.deltaTime; // Calcula la dist&agrave;ncia a rec&oacute;rrer en aquest frame
        transform.position = Vector3.MoveTowards(transform.position, target.position, step);
    }
}</pre></div><div class='content'><p><strong>Explicació del Codi:</strong></p>
<ul>
<li><code>Transform target</code>: La posició objectiu cap a la qual es mourà l'NPC.</li>
<li><code>float speed</code>: La velocitat a la qual es mourà l'NPC.</li>
<li><code>Update()</code>: Mètode que s'executa en cada frame. Calcula la distància a recórrer en aquest frame i mou l'NPC cap a la posició objectiu utilitzant <code>Vector3.MoveTowards</code>.</li>
</ul>
</div><h2><p>Exemple 2: Seguiment de Jugadors</p>
</h2>
<div class='content'><p>En aquest exemple, crearem un script que farà que un NPC segueixi el jugador.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRm9sbG93UGxheWVyIDogTW9ub0JlaGF2aW91cgp7CiAgICBwdWJsaWMgVHJhbnNmb3JtIHBsYXllcjsgLy8gTGEgcG9zaWNpw7MgZGVsIGp1Z2Fkb3IKICAgIHB1YmxpYyBmbG9hdCBzcGVlZCA9IDVmOyAvLyBWZWxvY2l0YXQgZGUgbW92aW1lbnQKCiAgICB2b2lkIFVwZGF0ZSgpCiAgICB7CiAgICAgICAgLy8gTW92aW1lbnQgY2FwIGFsIGp1Z2Fkb3IKICAgICAgICBmbG9hdCBzdGVwID0gc3BlZWQgKiBUaW1lLmRlbHRhVGltZTsgLy8gQ2FsY3VsYSBsYSBkaXN0w6BuY2lhIGEgcmVjw7NycmVyIGVuIGFxdWVzdCBmcmFtZQogICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMuTW92ZVRvd2FyZHModHJhbnNmb3JtLnBvc2l0aW9uLCBwbGF5ZXIucG9zaXRpb24sIHN0ZXApOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class FollowPlayer : MonoBehaviour
{
    public Transform player; // La posici&oacute; del jugador
    public float speed = 5f; // Velocitat de moviment

    void Update()
    {
        // Moviment cap al jugador
        float step = speed * Time.deltaTime; // Calcula la dist&agrave;ncia a rec&oacute;rrer en aquest frame
        transform.position = Vector3.MoveTowards(transform.position, player.position, step);
    }
}</pre></div><div class='content'><p><strong>Explicació del Codi:</strong></p>
<ul>
<li><code>Transform player</code>: La posició del jugador que l'NPC seguirà.</li>
<li><code>float speed</code>: La velocitat a la qual es mourà l'NPC.</li>
<li><code>Update()</code>: Mètode que s'executa en cada frame. Calcula la distància a recórrer en aquest frame i mou l'NPC cap a la posició del jugador utilitzant <code>Vector3.MoveTowards</code>.</li>
</ul>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Moviment Bàsic</p>
</h2>
<div class='content'><p>Crea un script que faci que un NPC es mogui entre dos punts de manera cíclica.</p>
<p><strong>Pistes:</strong></p>
<ul>
<li>Utilitza dos <code>Transform</code> per definir els punts.</li>
<li>Utilitza una variable booleana per determinar si l'NPC es mou cap al primer o segon punt.</li>
</ul>
</div><h2><p>Exercici 2: Seguiment de Jugadors amb Distància</p>
</h2>
<div class='content'><p>Modifica l'exemple de seguiment de jugadors perquè l'NPC només segueixi el jugador si aquest es troba dins d'una certa distància.</p>
<p><strong>Pistes:</strong></p>
<ul>
<li>Utilitza <code>Vector3.Distance</code> per calcular la distància entre l'NPC i el jugador.</li>
<li>Afegeix una condició per comprovar si la distància és menor que un valor determinat abans de moure l'NPC.</li>
</ul>
</div><h1><p>Solucions</p>
</h1>
<div class='content'></div><h2><p>Solució 1: Moviment Bàsic</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgQ3ljbGljTW92ZW1lbnQgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBUcmFuc2Zvcm0gcG9pbnRBOwogICAgcHVibGljIFRyYW5zZm9ybSBwb2ludEI7CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSA1ZjsKICAgIHByaXZhdGUgYm9vbCBtb3ZpbmdUb0IgPSB0cnVlOwoKICAgIHZvaWQgVXBkYXRlKCkKICAgIHsKICAgICAgICBUcmFuc2Zvcm0gdGFyZ2V0ID0gbW92aW5nVG9CID8gcG9pbnRCIDogcG9pbnRBOwogICAgICAgIGZsb2F0IHN0ZXAgPSBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lOwogICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMuTW92ZVRvd2FyZHModHJhbnNmb3JtLnBvc2l0aW9uLCB0YXJnZXQucG9zaXRpb24sIHN0ZXApOwoKICAgICAgICBpZiAoVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldC5wb3NpdGlvbikgPCAwLjFmKQogICAgICAgIHsKICAgICAgICAgICAgbW92aW5nVG9CID0gIW1vdmluZ1RvQjsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class CyclicMovement : MonoBehaviour
{
    public Transform pointA;
    public Transform pointB;
    public float speed = 5f;
    private bool movingToB = true;

    void Update()
    {
        Transform target = movingToB ? pointB : pointA;
        float step = speed * Time.deltaTime;
        transform.position = Vector3.MoveTowards(transform.position, target.position, step);

        if (Vector3.Distance(transform.position, target.position) &lt; 0.1f)
        {
            movingToB = !movingToB;
        }
    }
}</pre></div><div class='content'></div><h2><p>Solució 2: Seguiment de Jugadors amb Distància</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRm9sbG93UGxheWVyV2l0aERpc3RhbmNlIDogTW9ub0JlaGF2aW91cgp7CiAgICBwdWJsaWMgVHJhbnNmb3JtIHBsYXllcjsKICAgIHB1YmxpYyBmbG9hdCBzcGVlZCA9IDVmOwogICAgcHVibGljIGZsb2F0IGZvbGxvd0Rpc3RhbmNlID0gMTBmOwoKICAgIHZvaWQgVXBkYXRlKCkKICAgIHsKICAgICAgICBmbG9hdCBkaXN0YW5jZSA9IFZlY3RvcjMuRGlzdGFuY2UodHJhbnNmb3JtLnBvc2l0aW9uLCBwbGF5ZXIucG9zaXRpb24pOwogICAgICAgIGlmIChkaXN0YW5jZSA8IGZvbGxvd0Rpc3RhbmNlKQogICAgICAgIHsKICAgICAgICAgICAgZmxvYXQgc3RlcCA9IHNwZWVkICogVGltZS5kZWx0YVRpbWU7CiAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMuTW92ZVRvd2FyZHModHJhbnNmb3JtLnBvc2l0aW9uLCBwbGF5ZXIucG9zaXRpb24sIHN0ZXApOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class FollowPlayerWithDistance : MonoBehaviour
{
    public Transform player;
    public float speed = 5f;
    public float followDistance = 10f;

    void Update()
    {
        float distance = Vector3.Distance(transform.position, player.position);
        if (distance &lt; followDistance)
        {
            float step = speed * Time.deltaTime;
            transform.position = Vector3.MoveTowards(transform.position, player.position, step);
        }
    }
}</pre></div><div class='content'></div><h1><p>Errors Comuns i Consells</p>
</h1>
<div class='content'><ul>
<li>
<p><strong>Error Comú:</strong> No ajustar la velocitat de moviment amb <code>Time.deltaTime</code>, el que pot causar moviments inconsistents.</p>
<ul>
<li><strong>Solució:</strong> Sempre multiplica la velocitat per <code>Time.deltaTime</code> per assegurar moviments consistents independentment del frame rate.</li>
</ul>
</li>
<li>
<p><strong>Error Comú:</strong> No comprovar la distància abans de moure l'NPC, el que pot causar moviments innecessaris.</p>
<ul>
<li><strong>Solució:</strong> Utilitza <code>Vector3.Distance</code> per comprovar si l'NPC està prou a prop de l'objectiu abans de moure'l.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après els conceptes bàsics de la programació d'IA en Unity, incloent com crear moviments bàsics i seguiment de jugadors per a NPCs. Hem vist exemples pràctics i hem realitzat exercicis per reforçar els conceptes apresos. Amb aquests coneixements, estem preparats per explorar tècniques més avançades d'IA en els següents temes.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-pathfinding-navigation' title="Pathfinding i Navegació">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-state-machines-behavior-trees' title="Màquines d'Estats i Arbres de Comportament">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
