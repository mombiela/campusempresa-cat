<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Projecte 5: Aplicació de xat</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/08-05-project-chat-application" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/08-05-project-chat-application" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/08-05-project-chat-application" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/reactnative/08-05-project-chat-application" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/reactnative/08-05-project-chat-application" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-project-social-media-app' title="Projecte 4: Aplicació de xarxes socials">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Projecte 5: Aplicació de xat</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest projecte, construirem una aplicació de xat en temps real utilitzant React Native. Aquest projecte ens permetrà aplicar molts dels conceptes apresos al llarg del curs, com ara la gestió de l'estat, la navegació, la integració amb APIs i l'ús de components avançats.</p>
</div><h1>Objectius del Projecte</h1>
<div class='content'><ol>
<li>Crear una interfície d'usuari atractiva per a l'aplicació de xat.</li>
<li>Implementar la navegació entre diferents pantalles.</li>
<li>Utilitzar Firebase per a l'autenticació d'usuaris i l'emmagatzematge de missatges.</li>
<li>Gestionar l'estat de l'aplicació amb Context API i Hooks.</li>
<li>Implementar funcionalitats de xat en temps real.</li>
</ol>
</div><h1>Requisits Previs</h1>
<div class='content'><p>Abans de començar, assegura't de tenir instal·lats els següents elements:</p>
<ul>
<li>Node.js i npm</li>
<li>React Native CLI o Expo CLI</li>
<li>Un compte de Firebase</li>
</ul>
</div><h1>Passos del Projecte</h1>
<div class='content'></div><h2><ol>
<li>Configuració del Projecte</li>
</ol></h2>
<div class='content'><h4>1.1. Crear un nou projecte de React Native</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHJlYWN0LW5hdGl2ZSBpbml0IENoYXRBcHAKY2QgQ2hhdEFwcA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx react-native init ChatApp
cd ChatApp</pre></div><div class='content'><h4>1.2. Instal·lar les dependències necessàries</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlIEByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrCm5wbSBpbnN0YWxsIEByZWFjdC1uYXRpdmUtZmlyZWJhc2UvYXBwIEByZWFjdC1uYXRpdmUtZmlyZWJhc2UvYXV0aCBAcmVhY3QtbmF0aXZlLWZpcmViYXNlL2ZpcmVzdG9yZQpucG0gaW5zdGFsbCByZWFjdC1uYXRpdmUtZ2VzdHVyZS1oYW5kbGVyIHJlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkIHJlYWN0LW5hdGl2ZS1zY3JlZW5zIHJlYWN0LW5hdGl2ZS1zYWZlLWFyZWEtY29udGV4dCBAcmVhY3QtbmF0aXZlLWNvbW11bml0eS9tYXNrZWQtdmlldw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @react-navigation/native @react-navigation/stack
npm install @react-native-firebase/app @react-native-firebase/auth @react-native-firebase/firestore
npm install react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view</pre></div><div class='content'></div><h2><ol start="2">
<li>Configuració de Firebase</li>
</ol></h2>
<div class='content'><h4>2.1. Crear un projecte a Firebase</h4>
<ol>
<li>Accedeix a <a href="https://console.firebase.google.com/">Firebase Console</a>.</li>
<li>Crea un nou projecte.</li>
<li>Afegeix una aplicació per a Android i una per a iOS.</li>
<li>Descarrega els fitxers <code>google-services.json</code> (Android) i <code>GoogleService-Info.plist</code> (iOS) i col·loca'ls a les carpetes corresponents del teu projecte.</li>
</ol>
<h4>2.2. Configurar Firebase a React Native</h4>
<p>Afegeix la configuració de Firebase al teu projecte:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXBwLmpzCmltcG9ydCBmaXJlYmFzZSBmcm9tICdAcmVhY3QtbmF0aXZlLWZpcmViYXNlL2FwcCc7Cgpjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHsKICBhcGlLZXk6ICJZT1VSX0FQSV9LRVkiLAogIGF1dGhEb21haW46ICJZT1VSX0FVVEhfRE9NQUlOIiwKICBwcm9qZWN0SWQ6ICJZT1VSX1BST0pFQ1RfSUQiLAogIHN0b3JhZ2VCdWNrZXQ6ICJZT1VSX1NUT1JBR0VfQlVDS0VUIiwKICBtZXNzYWdpbmdTZW5kZXJJZDogIllPVVJfTUVTU0FHSU5HX1NFTkRFUl9JRCIsCiAgYXBwSWQ6ICJZT1VSX0FQUF9JRCIsCn07CgppZiAoIWZpcmViYXNlLmFwcHMubGVuZ3RoKSB7CiAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// App.js
import firebase from '@react-native-firebase/app';

const firebaseConfig = {
  apiKey: &quot;YOUR_API_KEY&quot;,
  authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,
  projectId: &quot;YOUR_PROJECT_ID&quot;,
  storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,
  messagingSenderId: &quot;YOUR_MESSAGING_SENDER_ID&quot;,
  appId: &quot;YOUR_APP_ID&quot;,
};

if (!firebase.apps.length) {
  firebase.initializeApp(firebaseConfig);
}</pre></div><div class='content'></div><h2><ol start="3">
<li>Implementació de l'Autenticació</li>
</ol></h2>
<div class='content'><h4>3.1. Crear la pantalla de registre</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9SZWdpc3RlclNjcmVlbi5qcwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHRJbnB1dCwgQnV0dG9uLCBTdHlsZVNoZWV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJzsKaW1wb3J0IGF1dGggZnJvbSAnQHJlYWN0LW5hdGl2ZS1maXJlYmFzZS9hdXRoJzsKCmNvbnN0IFJlZ2lzdGVyU2NyZWVuID0gKHsgbmF2aWdhdGlvbiB9KSA9PiB7CiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZSgnJyk7CgogIGNvbnN0IGhhbmRsZVJlZ2lzdGVyID0gKCkgPT4gewogICAgYXV0aCgpCiAgICAgIC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgbmF2aWdhdGlvbi5uYXZpZ2F0ZSgnQ2hhdCcpOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICB9OwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PgogICAgICA8VGV4dElucHV0CiAgICAgICAgc3R5bGU9e3N0eWxlcy5pbnB1dH0KICAgICAgICBwbGFjZWhvbGRlcj0iRW1haWwiCiAgICAgICAgdmFsdWU9e2VtYWlsfQogICAgICAgIG9uQ2hhbmdlVGV4dD17c2V0RW1haWx9CiAgICAgIC8+CiAgICAgIDxUZXh0SW5wdXQKICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0fQogICAgICAgIHBsYWNlaG9sZGVyPSJQYXNzd29yZCIKICAgICAgICB2YWx1ZT17cGFzc3dvcmR9CiAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXRQYXNzd29yZH0KICAgICAgICBzZWN1cmVUZXh0RW50cnkKICAgICAgLz4KICAgICAgPEJ1dHRvbiB0aXRsZT0iUmVnaXN0ZXIiIG9uUHJlc3M9e2hhbmRsZVJlZ2lzdGVyfSAvPgogICAgPC9WaWV3PgogICk7Cn07Cgpjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7CiAgY29udGFpbmVyOiB7CiAgICBmbGV4OiAxLAogICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogICAgcGFkZGluZzogMTYsCiAgfSwKICBpbnB1dDogewogICAgaGVpZ2h0OiA0MCwKICAgIGJvcmRlckNvbG9yOiAnZ3JheScsCiAgICBib3JkZXJXaWR0aDogMSwKICAgIG1hcmdpbkJvdHRvbTogMTIsCiAgICBwYWRkaW5nSG9yaXpvbnRhbDogOCwKICB9LAp9KTsKCmV4cG9ydCBkZWZhdWx0IFJlZ2lzdGVyU2NyZWVuOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/RegisterScreen.js
import React, { useState } from 'react';
import { View, TextInput, Button, StyleSheet } from 'react-native';
import auth from '@react-native-firebase/auth';

const RegisterScreen = ({ navigation }) =&gt; {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  const handleRegister = () =&gt; {
    auth()
      .createUserWithEmailAndPassword(email, password)
      .then(() =&gt; {
        navigation.navigate('Chat');
      })
      .catch(error =&gt; {
        console.error(error);
      });
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Email&quot;
        value={email}
        onChangeText={setEmail}
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Password&quot;
        value={password}
        onChangeText={setPassword}
        secureTextEntry
      /&gt;
      &lt;Button title=&quot;Register&quot; onPress={handleRegister} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 16,
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 12,
    paddingHorizontal: 8,
  },
});

export default RegisterScreen;</pre></div><div class='content'><h4>3.2. Crear la pantalla de login</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9Mb2dpblNjcmVlbi5qcwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHRJbnB1dCwgQnV0dG9uLCBTdHlsZVNoZWV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJzsKaW1wb3J0IGF1dGggZnJvbSAnQHJlYWN0LW5hdGl2ZS1maXJlYmFzZS9hdXRoJzsKCmNvbnN0IExvZ2luU2NyZWVuID0gKHsgbmF2aWdhdGlvbiB9KSA9PiB7CiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZSgnJyk7CgogIGNvbnN0IGhhbmRsZUxvZ2luID0gKCkgPT4gewogICAgYXV0aCgpCiAgICAgIC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICBuYXZpZ2F0aW9uLm5hdmlnYXRlKCdDaGF0Jyk7CiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+CiAgICAgIDxUZXh0SW5wdXQKICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0fQogICAgICAgIHBsYWNlaG9sZGVyPSJFbWFpbCIKICAgICAgICB2YWx1ZT17ZW1haWx9CiAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXRFbWFpbH0KICAgICAgLz4KICAgICAgPFRleHRJbnB1dAogICAgICAgIHN0eWxlPXtzdHlsZXMuaW5wdXR9CiAgICAgICAgcGxhY2Vob2xkZXI9IlBhc3N3b3JkIgogICAgICAgIHZhbHVlPXtwYXNzd29yZH0KICAgICAgICBvbkNoYW5nZVRleHQ9e3NldFBhc3N3b3JkfQogICAgICAgIHNlY3VyZVRleHRFbnRyeQogICAgICAvPgogICAgICA8QnV0dG9uIHRpdGxlPSJMb2dpbiIgb25QcmVzcz17aGFuZGxlTG9naW59IC8+CiAgICA8L1ZpZXc+CiAgKTsKfTsKCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBjb250YWluZXI6IHsKICAgIGZsZXg6IDEsCiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsCiAgICBwYWRkaW5nOiAxNiwKICB9LAogIGlucHV0OiB7CiAgICBoZWlnaHQ6IDQwLAogICAgYm9yZGVyQ29sb3I6ICdncmF5JywKICAgIGJvcmRlcldpZHRoOiAxLAogICAgbWFyZ2luQm90dG9tOiAxMiwKICAgIHBhZGRpbmdIb3Jpem9udGFsOiA4LAogIH0sCn0pOwoKZXhwb3J0IGRlZmF1bHQgTG9naW5TY3JlZW47"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/LoginScreen.js
import React, { useState } from 'react';
import { View, TextInput, Button, StyleSheet } from 'react-native';
import auth from '@react-native-firebase/auth';

const LoginScreen = ({ navigation }) =&gt; {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  const handleLogin = () =&gt; {
    auth()
      .signInWithEmailAndPassword(email, password)
      .then(() =&gt; {
        navigation.navigate('Chat');
      })
      .catch(error =&gt; {
        console.error(error);
      });
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Email&quot;
        value={email}
        onChangeText={setEmail}
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Password&quot;
        value={password}
        onChangeText={setPassword}
        secureTextEntry
      /&gt;
      &lt;Button title=&quot;Login&quot; onPress={handleLogin} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 16,
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 12,
    paddingHorizontal: 8,
  },
});

export default LoginScreen;</pre></div><div class='content'></div><h2><ol start="4">
<li>Implementació del Xat</li>
</ol></h2>
<div class='content'><h4>4.1. Crear la pantalla de xat</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9DaGF0U2NyZWVuLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBWaWV3LCBUZXh0SW5wdXQsIEJ1dHRvbiwgRmxhdExpc3QsIFRleHQsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgZmlyZXN0b3JlIGZyb20gJ0ByZWFjdC1uYXRpdmUtZmlyZWJhc2UvZmlyZXN0b3JlJzsKaW1wb3J0IGF1dGggZnJvbSAnQHJlYWN0LW5hdGl2ZS1maXJlYmFzZS9hdXRoJzsKCmNvbnN0IENoYXRTY3JlZW4gPSAoKSA9PiB7CiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgY29uc3QgdW5zdWJzY3JpYmUgPSBmaXJlc3RvcmUoKQogICAgICAuY29sbGVjdGlvbignbWVzc2FnZXMnKQogICAgICAub3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKQogICAgICAub25TbmFwc2hvdChxdWVyeVNuYXBzaG90ID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7CiAgICAgICAgICBfaWQ6IGRvYy5pZCwKICAgICAgICAgIHRleHQ6IGRvYy5kYXRhKCkudGV4dCwKICAgICAgICAgIGNyZWF0ZWRBdDogZG9jLmRhdGEoKS5jcmVhdGVkQXQudG9EYXRlKCksCiAgICAgICAgICB1c2VyOiBkb2MuZGF0YSgpLnVzZXIsCiAgICAgICAgfSkpOwogICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzKTsKICAgICAgfSk7CgogICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7CiAgfSwgW10pOwoKICBjb25zdCBoYW5kbGVTZW5kID0gKCkgPT4gewogICAgY29uc3QgeyB1aWQsIGVtYWlsIH0gPSBhdXRoKCkuY3VycmVudFVzZXI7CiAgICBmaXJlc3RvcmUoKS5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZCh7CiAgICAgIHRleHQ6IG1lc3NhZ2UsCiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSwKICAgICAgdXNlcjogewogICAgICAgIF9pZDogdWlkLAogICAgICAgIGVtYWlsLAogICAgICB9LAogICAgfSk7CiAgICBzZXRNZXNzYWdlKCcnKTsKICB9OwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PgogICAgICA8RmxhdExpc3QKICAgICAgICBkYXRhPXttZXNzYWdlc30KICAgICAgICByZW5kZXJJdGVtPXsoeyBpdGVtIH0pID0+ICgKICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMubWVzc2FnZX0+CiAgICAgICAgICAgIDxUZXh0PntpdGVtLnVzZXIuZW1haWx9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS50ZXh0fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAgIGtleUV4dHJhY3Rvcj17aXRlbSA9PiBpdGVtLl9pZH0KICAgICAgICBpbnZlcnRlZAogICAgICAvPgogICAgICA8VGV4dElucHV0CiAgICAgICAgc3R5bGU9e3N0eWxlcy5pbnB1dH0KICAgICAgICBwbGFjZWhvbGRlcj0iVHlwZSBhIG1lc3NhZ2UiCiAgICAgICAgdmFsdWU9e21lc3NhZ2V9CiAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXRNZXNzYWdlfQogICAgICAvPgogICAgICA8QnV0dG9uIHRpdGxlPSJTZW5kIiBvblByZXNzPXtoYW5kbGVTZW5kfSAvPgogICAgPC9WaWV3PgogICk7Cn07Cgpjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7CiAgY29udGFpbmVyOiB7CiAgICBmbGV4OiAxLAogICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogICAgcGFkZGluZzogMTYsCiAgfSwKICBpbnB1dDogewogICAgaGVpZ2h0OiA0MCwKICAgIGJvcmRlckNvbG9yOiAnZ3JheScsCiAgICBib3JkZXJXaWR0aDogMSwKICAgIG1hcmdpbkJvdHRvbTogMTIsCiAgICBwYWRkaW5nSG9yaXpvbnRhbDogOCwKICB9LAogIG1lc3NhZ2U6IHsKICAgIHBhZGRpbmc6IDgsCiAgICBib3JkZXJCb3R0b21XaWR0aDogMSwKICAgIGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JheScsCiAgfSwKfSk7CgpleHBvcnQgZGVmYXVsdCBDaGF0U2NyZWVuOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/ChatScreen.js
import React, { useState, useEffect } from 'react';
import { View, TextInput, Button, FlatList, Text, StyleSheet } from 'react-native';
import firestore from '@react-native-firebase/firestore';
import auth from '@react-native-firebase/auth';

const ChatScreen = () =&gt; {
  const [message, setMessage] = useState('');
  const [messages, setMessages] = useState([]);

  useEffect(() =&gt; {
    const unsubscribe = firestore()
      .collection('messages')
      .orderBy('createdAt', 'desc')
      .onSnapshot(querySnapshot =&gt; {
        const messages = querySnapshot.docs.map(doc =&gt; ({
          _id: doc.id,
          text: doc.data().text,
          createdAt: doc.data().createdAt.toDate(),
          user: doc.data().user,
        }));
        setMessages(messages);
      });

    return () =&gt; unsubscribe();
  }, []);

  const handleSend = () =&gt; {
    const { uid, email } = auth().currentUser;
    firestore().collection('messages').add({
      text: message,
      createdAt: new Date(),
      user: {
        _id: uid,
        email,
      },
    });
    setMessage('');
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;FlatList
        data={messages}
        renderItem={({ item }) =&gt; (
          &lt;View style={styles.message}&gt;
            &lt;Text&gt;{item.user.email}&lt;/Text&gt;
            &lt;Text&gt;{item.text}&lt;/Text&gt;
          &lt;/View&gt;
        )}
        keyExtractor={item =&gt; item._id}
        inverted
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Type a message&quot;
        value={message}
        onChangeText={setMessage}
      /&gt;
      &lt;Button title=&quot;Send&quot; onPress={handleSend} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 16,
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 12,
    paddingHorizontal: 8,
  },
  message: {
    padding: 8,
    borderBottomWidth: 1,
    borderBottomColor: 'gray',
  },
});

export default ChatScreen;</pre></div><div class='content'></div><h2><ol start="5">
<li>Navegació</li>
</ol></h2>
<div class='content'><h4>5.1. Configurar la navegació</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXBwLmpzCmltcG9ydCAncmVhY3QtbmF0aXZlLWdlc3R1cmUtaGFuZGxlcic7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IE5hdmlnYXRpb25Db250YWluZXIgfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnOwppbXBvcnQgeyBjcmVhdGVTdGFja05hdmlnYXRvciB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrJzsKaW1wb3J0IFJlZ2lzdGVyU2NyZWVuIGZyb20gJy4vc2NyZWVucy9SZWdpc3RlclNjcmVlbic7CmltcG9ydCBMb2dpblNjcmVlbiBmcm9tICcuL3NjcmVlbnMvTG9naW5TY3JlZW4nOwppbXBvcnQgQ2hhdFNjcmVlbiBmcm9tICcuL3NjcmVlbnMvQ2hhdFNjcmVlbic7Cgpjb25zdCBTdGFjayA9IGNyZWF0ZVN0YWNrTmF2aWdhdG9yKCk7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgcmV0dXJuICgKICAgIDxOYXZpZ2F0aW9uQ29udGFpbmVyPgogICAgICA8U3RhY2suTmF2aWdhdG9yIGluaXRpYWxSb3V0ZU5hbWU9IkxvZ2luIj4KICAgICAgICA8U3RhY2suU2NyZWVuIG5hbWU9IlJlZ2lzdGVyIiBjb21wb25lbnQ9e1JlZ2lzdGVyU2NyZWVufSAvPgogICAgICAgIDxTdGFjay5TY3JlZW4gbmFtZT0iTG9naW4iIGNvbXBvbmVudD17TG9naW5TY3JlZW59IC8+CiAgICAgICAgPFN0YWNrLlNjcmVlbiBuYW1lPSJDaGF0IiBjb21wb25lbnQ9e0NoYXRTY3JlZW59IC8+CiAgICAgIDwvU3RhY2suTmF2aWdhdG9yPgogICAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBcHA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// App.js
import 'react-native-gesture-handler';
import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import RegisterScreen from './screens/RegisterScreen';
import LoginScreen from './screens/LoginScreen';
import ChatScreen from './screens/ChatScreen';

const Stack = createStackNavigator();

const App = () =&gt; {
  return (
    &lt;NavigationContainer&gt;
      &lt;Stack.Navigator initialRouteName=&quot;Login&quot;&gt;
        &lt;Stack.Screen name=&quot;Register&quot; component={RegisterScreen} /&gt;
        &lt;Stack.Screen name=&quot;Login&quot; component={LoginScreen} /&gt;
        &lt;Stack.Screen name=&quot;Chat&quot; component={ChatScreen} /&gt;
      &lt;/Stack.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
};

export default App;</pre></div><div class='content'></div><h2><ol start="6">
<li>Conclusió</li>
</ol></h2>
<div class='content'><p>En aquest projecte, hem creat una aplicació de xat en temps real utilitzant React Native i Firebase. Hem cobert la configuració del projecte, la implementació de l'autenticació, la creació de la interfície de xat i la configuració de la navegació. Aquest projecte ens ha permès aplicar molts dels conceptes apresos al llarg del curs i ens ha proporcionat una base sòlida per a desenvolupar aplicacions mòbils més complexes.</p>
</div><h1>Exercicis Pràctics</h1>
<div class='content'><ol>
<li><strong>Afegir funcionalitats addicionals</strong>: Implementa la funcionalitat de xat en grup, on diversos usuaris poden unir-se a un mateix xat.</li>
<li><strong>Millorar la interfície d'usuari</strong>: Utilitza llibreries com <code>react-native-paper</code> o <code>react-native-elements</code> per millorar l'aspecte visual de l'aplicació.</li>
<li><strong>Notificacions push</strong>: Implementa notificacions push per avisar els usuaris quan reben un nou missatge.</li>
</ol>
</div><h1>Solucions</h1>
<div class='content'></div><h2>Exercici 1: Afegir funcionalitats addicionals</h2>
<div class='content'><p>Per implementar la funcionalitat de xat en grup, pots crear una col·lecció de grups a Firestore i permetre als usuaris unir-se a diferents grups. Cada grup tindrà la seva pròpia col·lecció de missatges.</p>
</div><h2>Exercici 2: Millorar la interfície d'usuari</h2>
<div class='content'><p>Pots utilitzar components de <code>react-native-paper</code> per crear una interfície d'usuari més atractiva. Per exemple, pots substituir els components <code>Button</code> i <code>TextInput</code> per components de <code>react-native-paper</code>.</p>
</div><h2>Exercici 3: Notificacions push</h2>
<div class='content'><p>Per implementar notificacions push, pots utilitzar <code>react-native-firebase/messaging</code> per gestionar les notificacions push a l'aplicació. Hauràs de configurar Firebase Cloud Messaging (FCM) i implementar la lògica per enviar i rebre notificacions.</p>
<hr />
<p>Amb això, hem completat el projecte de l'aplicació de xat. Felicitats per arribar fins aquí! Ara estàs preparat per crear aplicacions mòbils més complexes i avançades amb React Native.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-project-social-media-app' title="Projecte 4: Aplicació de xarxes socials">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
