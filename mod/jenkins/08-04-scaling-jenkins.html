<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escalant Jenkins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/08-04-scaling-jenkins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/08-04-scaling-jenkins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/08-04-scaling-jenkins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/jenkins/08-04-scaling-jenkins" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/jenkins/08-04-scaling-jenkins" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-jenkins-as-code-with-jenkinsfile' title="Jenkins com a Codi amb Jenkinsfile">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Escalant Jenkins</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-jenkins-best-practices' title="Millors Pràctiques de Jenkins">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem com escalar Jenkins per gestionar càrregues de treball més grans i complexes. L'escalabilitat és crucial per assegurar que Jenkins pugui manejar un nombre creixent de feines i pipelines sense comprometre el rendiment. Aprendrem sobre diferents estratègies i tècniques per escalar Jenkins de manera eficient.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Entendre la necessitat d'escalar Jenkins.</li>
<li>Aprendre sobre les diferents estratègies d'escalabilitat.</li>
<li>Configurar Jenkins per a l'escalabilitat horitzontal.</li>
<li>Utilitzar Jenkins amb Kubernetes per a una escalabilitat dinàmica.</li>
</ul>
</div><h1><ol>
<li>Necessitat d'Escalar Jenkins</li>
</ol>
</h1>
<div class='content'><p>A mesura que el nombre de feines i pipelines augmenta, Jenkins pot començar a experimentar problemes de rendiment. Alguns dels símptomes que indiquen la necessitat d'escalar inclouen:</p>
<ul>
<li>Temps d'espera més llargs per a l'execució de feines.</li>
<li>Augment del temps de resposta de la interfície d'usuari.</li>
<li>Saturació dels recursos del servidor (CPU, memòria, disc).</li>
</ul>
</div><h1><ol start="2">
<li>Estratègies d'Escalabilitat</li>
</ol>
</h1>
<div class='content'></div><h2><p>2.1 Escalabilitat Vertical</p>
</h2>
<div class='content'><p>L'escalabilitat vertical implica augmentar els recursos del servidor principal de Jenkins (més CPU, memòria, etc.). Aquesta és una solució senzilla però té limitacions, ja que hi ha un límit físic als recursos que es poden afegir a un sol servidor.</p>
</div><h2><p>2.2 Escalabilitat Horitzontal</p>
</h2>
<div class='content'><p>L'escalabilitat horitzontal implica afegir més nodes de Jenkins per distribuir la càrrega de treball. Aquesta és una solució més flexible i escalable a llarg termini.</p>
<h4>2.2.1 Configuració de Nodes de Jenkins</h4>
<ol>
<li>
<p><strong>Afegir un Node Nou:</strong></p>
<ul>
<li>Navega a <code>Manage Jenkins</code> &gt; <code>Manage Nodes and Clouds</code> &gt; <code>New Node</code>.</li>
<li>Proporciona un nom per al node i selecciona <code>Permanent Agent</code>.</li>
<li>Configura els detalls del node, com l'adreça IP, el directori de treball, etc.</li>
</ul>
</li>
<li>
<p><strong>Configuració del Node:</strong></p>
<ul>
<li>Configura els executors (nombre de feines que el node pot executar simultàniament).</li>
<li>Configura les etiquetes per categoritzar el node (per exemple, <code>linux</code>, <code>windows</code>, <code>high-memory</code>).</li>
</ul>
</li>
<li>
<p><strong>Connexió del Node:</strong></p>
<ul>
<li>Utilitza el mètode de connexió adequat (SSH, JNLP, etc.) per connectar el node al servidor principal de Jenkins.</li>
</ul>
</li>
</ol>
</div><h2><p>2.3 Utilitzant Kubernetes per a l'Escalabilitat Dinàmica</p>
</h2>
<div class='content'><p>Kubernetes permet escalar Jenkins de manera dinàmica, creant i destruint nodes segons la demanda.</p>
<h4>2.3.1 Configuració de Jenkins amb Kubernetes</h4>
<ol>
<li>
<p><strong>Instal·lar el Plugin de Kubernetes:</strong></p>
<ul>
<li>Navega a <code>Manage Jenkins</code> &gt; <code>Manage Plugins</code> &gt; <code>Available</code> i cerca <code>Kubernetes</code>.</li>
<li>Instal·la el plugin i reinicia Jenkins si és necessari.</li>
</ul>
</li>
<li>
<p><strong>Configurar la Connexió amb el Clúster de Kubernetes:</strong></p>
<ul>
<li>Navega a <code>Manage Jenkins</code> &gt; <code>Manage Nodes and Clouds</code> &gt; <code>Configure Clouds</code> &gt; <code>Add a new cloud</code> &gt; <code>Kubernetes</code>.</li>
<li>Proporciona els detalls del clúster de Kubernetes (URL del servidor API, credencials, etc.).</li>
</ul>
</li>
<li>
<p><strong>Configurar els Pod Templates:</strong></p>
<ul>
<li>Defineix els templates de pod que Jenkins utilitzarà per crear nodes dinàmics.</li>
<li>Configura les imatges de Docker, els volums, les variables d'entorn, etc.</li>
</ul>
</li>
</ol>
</div><h2><p>Exemple de Configuració de Pod Template</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cG9kVGVtcGxhdGUobGFiZWw6ICdqZW5raW5zLXNsYXZlJywgY29udGFpbmVyczogWwogICAgY29udGFpbmVyVGVtcGxhdGUobmFtZTogJ2pubHAnLCBpbWFnZTogJ2plbmtpbnMvaW5ib3VuZC1hZ2VudCcsIGFyZ3M6ICcke2NvbXB1dGVyLmpubHBtYWN9ICR7Y29tcHV0ZXIubmFtZX0nKSwKICAgIGNvbnRhaW5lclRlbXBsYXRlKG5hbWU6ICdtYXZlbicsIGltYWdlOiAnbWF2ZW46My42LjMtamRrLTgnLCBjb21tYW5kOiAnY2F0JywgdHR5RW5hYmxlZDogdHJ1ZSkKXSkgewogICAgbm9kZSgnamVua2lucy1zbGF2ZScpIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIGNvbnRhaW5lcignbWF2ZW4nKSB7CiAgICAgICAgICAgICAgICBzaCAnbXZuIGNsZWFuIGluc3RhbGwnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>podTemplate(label: 'jenkins-slave', containers: [
    containerTemplate(name: 'jnlp', image: 'jenkins/inbound-agent', args: '${computer.jnlpmac} ${computer.name}'),
    containerTemplate(name: 'maven', image: 'maven:3.6.3-jdk-8', command: 'cat', ttyEnabled: true)
]) {
    node('jenkins-slave') {
        stage('Build') {
            container('maven') {
                sh 'mvn clean install'
            }
        }
    }
}</pre></div><div class='content'></div><h1><ol start="3">
<li>Millors Pràctiques per Escalar Jenkins</li>
</ol>
</h1>
<div class='content'><ul>
<li><strong>Monitoratge Continu:</strong> Utilitza eines de monitoratge per supervisar el rendiment de Jenkins i els nodes.</li>
<li><strong>Distribució de la Càrrega:</strong> Utilitza etiquetes i restriccions per distribuir les feines de manera eficient entre els nodes.</li>
<li><strong>Automatització:</strong> Automatitza la gestió dels nodes amb scripts i eines com Ansible, Terraform, etc.</li>
<li><strong>Optimització de Feines:</strong> Revisa i optimitza les feines per reduir el temps d'execució i l'ús de recursos.</li>
</ul>
</div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Configura un Node de Jenkins Addicional</p>
</h2>
<div class='content'><ol>
<li>Afegeix un nou node a la teva instància de Jenkins.</li>
<li>Configura el node per executar feines específiques (per exemple, feines de compilació).</li>
<li>Executa una feina de prova per verificar que el node està funcionant correctament.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'><ol>
<li>Navega a <code>Manage Jenkins</code> &gt; <code>Manage Nodes and Clouds</code> &gt; <code>New Node</code>.</li>
<li>Proporciona un nom per al node i selecciona <code>Permanent Agent</code>.</li>
<li>Configura els detalls del node (adreça IP, directori de treball, etc.).</li>
<li>Configura els executors i les etiquetes.</li>
<li>Connecta el node utilitzant el mètode de connexió adequat.</li>
<li>Crea una feina de prova i assigna-la al nou node utilitzant les etiquetes configurades.</li>
</ol>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>Escalar Jenkins és essencial per mantenir un rendiment òptim a mesura que augmenta la càrrega de treball. Hem après sobre les diferents estratègies d'escalabilitat, com configurar nodes addicionals i com utilitzar Kubernetes per a una escalabilitat dinàmica. Amb aquestes tècniques, podràs assegurar que la teva instància de Jenkins pugui manejar qualsevol volum de treball de manera eficient.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-jenkins-as-code-with-jenkinsfile' title="Jenkins com a Codi amb Jenkinsfile">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-jenkins-best-practices' title="Millors Pràctiques de Jenkins">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
