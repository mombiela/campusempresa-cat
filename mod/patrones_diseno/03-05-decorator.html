<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Decorator</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/03-05-decorator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/03-05-decorator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/03-05-decorator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/patrones_diseno/03-05-decorator" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/patrones_diseno/03-05-decorator" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-04-composite' title="Composite">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Decorator</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-06-facade' title="Facade">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció al Patró Decorator</h1>
<div class='content'><p>El patró Decorator és un patró estructural que permet afegir funcionalitats addicionals a un objecte de manera dinàmica. Aquest patró és especialment útil quan es volen afegir responsabilitats a objectes individuals de manera flexible i sense afectar altres objectes de la mateixa classe.</p>
</div><h2>Objectius del Patró Decorator</h2>
<div class='content'><ul>
<li><strong>Flexibilitat</strong>: Permet afegir funcionalitats a objectes de manera dinàmica.</li>
<li><strong>Reutilització</strong>: Facilita la reutilització de codi, ja que les funcionalitats addicionals es poden encapsular en decoradors reutilitzables.</li>
<li><strong>Simplicitat</strong>: Evita la creació de subclasses per cada combinació possible de funcionalitats.</li>
</ul>
</div><h2>Components del Patró Decorator</h2>
<div class='content'><ol>
<li><strong>Component</strong>: Defineix la interfície per als objectes que poden tenir responsabilitats afegides dinàmicament.</li>
<li><strong>ConcreteComponent</strong>: Implementa la interfície <code>Component</code> i representa l'objecte original al qual es poden afegir responsabilitats.</li>
<li><strong>Decorator</strong>: Manté una referència a un objecte <code>Component</code> i defineix una interfície que segueix la interfície del <code>Component</code>.</li>
<li><strong>ConcreteDecorator</strong>: Afegeix responsabilitats addicionals al <code>Component</code>.</li>
</ol>
</div><h1>Diagrama UML del Patró Decorator</h1>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgICstLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCAgICAgQ29tcG9uZW50ICAgICB8CiAgICArLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIHwgK29wZXJhdGlvbigpOnZvaWQgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAgICAgICAgIF4KICAgICAgICAgICAgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICB8IENvbmNyZXRlQ29tcG9uZW50IHwKICAgICstLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCArb3BlcmF0aW9uKCk6dm9pZCB8CiAgICArLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICAgICAgXgogICAgICAgICAgICB8CiAgICArLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIHwgICAgIERlY29yYXRvciAgICAgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICB8IC1jb21wb25lbnQ6Q29tcG9uZW50IHwKICAgIHwgK29wZXJhdGlvbigpOnZvaWQgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAgICAgICAgIF4KICAgICAgICAgICAgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICB8IENvbmNyZXRlRGVjb3JhdG9yIHwKICAgICstLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCArb3BlcmF0aW9uKCk6dm9pZCB8CiAgICArLS0tLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    +-------------------+
    |     Component     |
    +-------------------+
    | +operation():void |
    +-------------------+
            ^
            |
    +-------------------+
    | ConcreteComponent |
    +-------------------+
    | +operation():void |
    +-------------------+
            ^
            |
    +-------------------+
    |     Decorator     |
    +-------------------+
    | -component:Component |
    | +operation():void |
    +-------------------+
            ^
            |
    +-------------------+
    | ConcreteDecorator |
    +-------------------+
    | +operation():void |
    +-------------------+</pre></div><div class='content'></div><h1>Exemple Pràctic</h1>
<div class='content'></div><h2>Escenari</h2>
<div class='content'><p>Suposem que estem desenvolupant una aplicació de cafè on els clients poden personalitzar les seves begudes amb diferents addicions com llet, sucre, etc. Utilitzarem el patró Decorator per afegir aquestes funcionalitats de manera dinàmica.</p>
</div><h2>Implementació en Java</h2>
<div class='content'><h4>Component</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29tcG9uZW50CnB1YmxpYyBpbnRlcmZhY2UgQmV2ZXJhZ2UgewogICAgU3RyaW5nIGdldERlc2NyaXB0aW9uKCk7CiAgICBkb3VibGUgY29zdCgpOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Component
public interface Beverage {
    String getDescription();
    double cost();
}</pre></div><div class='content'><h4>ConcreteComponent</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uY3JldGVDb21wb25lbnQKcHVibGljIGNsYXNzIEVzcHJlc3NvIGltcGxlbWVudHMgQmV2ZXJhZ2UgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiAiRXNwcmVzc28iOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGRvdWJsZSBjb3N0KCkgewogICAgICAgIHJldHVybiAxLjk5OwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// ConcreteComponent
public class Espresso implements Beverage {
    @Override
    public String getDescription() {
        return &quot;Espresso&quot;;
    }

    @Override
    public double cost() {
        return 1.99;
    }
}</pre></div><div class='content'><h4>Decorator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVjb3JhdG9yCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBDb25kaW1lbnREZWNvcmF0b3IgaW1wbGVtZW50cyBCZXZlcmFnZSB7CiAgICBwcm90ZWN0ZWQgQmV2ZXJhZ2UgYmV2ZXJhZ2U7CgogICAgcHVibGljIENvbmRpbWVudERlY29yYXRvcihCZXZlcmFnZSBiZXZlcmFnZSkgewogICAgICAgIHRoaXMuYmV2ZXJhZ2UgPSBiZXZlcmFnZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIGJldmVyYWdlLmdldERlc2NyaXB0aW9uKCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgZG91YmxlIGNvc3QoKSB7CiAgICAgICAgcmV0dXJuIGJldmVyYWdlLmNvc3QoKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Decorator
public abstract class CondimentDecorator implements Beverage {
    protected Beverage beverage;

    public CondimentDecorator(Beverage beverage) {
        this.beverage = beverage;
    }

    @Override
    public String getDescription() {
        return beverage.getDescription();
    }

    @Override
    public double cost() {
        return beverage.cost();
    }
}</pre></div><div class='content'><h4>ConcreteDecorator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uY3JldGVEZWNvcmF0b3IKcHVibGljIGNsYXNzIE1pbGsgZXh0ZW5kcyBDb25kaW1lbnREZWNvcmF0b3IgewogICAgcHVibGljIE1pbGsoQmV2ZXJhZ2UgYmV2ZXJhZ2UpIHsKICAgICAgICBzdXBlcihiZXZlcmFnZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiBiZXZlcmFnZS5nZXREZXNjcmlwdGlvbigpICsgIiwgTWlsayI7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgZG91YmxlIGNvc3QoKSB7CiAgICAgICAgcmV0dXJuIGJldmVyYWdlLmNvc3QoKSArIDAuNTA7CiAgICB9Cn0KCnB1YmxpYyBjbGFzcyBTdWdhciBleHRlbmRzIENvbmRpbWVudERlY29yYXRvciB7CiAgICBwdWJsaWMgU3VnYXIoQmV2ZXJhZ2UgYmV2ZXJhZ2UpIHsKICAgICAgICBzdXBlcihiZXZlcmFnZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiBiZXZlcmFnZS5nZXREZXNjcmlwdGlvbigpICsgIiwgU3VnYXIiOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGRvdWJsZSBjb3N0KCkgewogICAgICAgIHJldHVybiBiZXZlcmFnZS5jb3N0KCkgKyAwLjIwOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// ConcreteDecorator
public class Milk extends CondimentDecorator {
    public Milk(Beverage beverage) {
        super(beverage);
    }

    @Override
    public String getDescription() {
        return beverage.getDescription() + &quot;, Milk&quot;;
    }

    @Override
    public double cost() {
        return beverage.cost() + 0.50;
    }
}

public class Sugar extends CondimentDecorator {
    public Sugar(Beverage beverage) {
        super(beverage);
    }

    @Override
    public String getDescription() {
        return beverage.getDescription() + &quot;, Sugar&quot;;
    }

    @Override
    public double cost() {
        return beverage.cost() + 0.20;
    }
}</pre></div><div class='content'><h4>Client</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENvZmZlZVNob3AgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIEJldmVyYWdlIGJldmVyYWdlID0gbmV3IEVzcHJlc3NvKCk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGJldmVyYWdlLmdldERlc2NyaXB0aW9uKCkgKyAiICQiICsgYmV2ZXJhZ2UuY29zdCgpKTsKCiAgICAgICAgYmV2ZXJhZ2UgPSBuZXcgTWlsayhiZXZlcmFnZSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGJldmVyYWdlLmdldERlc2NyaXB0aW9uKCkgKyAiICQiICsgYmV2ZXJhZ2UuY29zdCgpKTsKCiAgICAgICAgYmV2ZXJhZ2UgPSBuZXcgU3VnYXIoYmV2ZXJhZ2UpOwogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihiZXZlcmFnZS5nZXREZXNjcmlwdGlvbigpICsgIiAkIiArIGJldmVyYWdlLmNvc3QoKSk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CoffeeShop {
    public static void main(String[] args) {
        Beverage beverage = new Espresso();
        System.out.println(beverage.getDescription() + &quot; $&quot; + beverage.cost());

        beverage = new Milk(beverage);
        System.out.println(beverage.getDescription() + &quot; $&quot; + beverage.cost());

        beverage = new Sugar(beverage);
        System.out.println(beverage.getDescription() + &quot; $&quot; + beverage.cost());
    }
}</pre></div><div class='content'></div><h2>Sortida Esperada</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RXNwcmVzc28gJDEuOTkKRXNwcmVzc28sIE1pbGsgJDIuNDkKRXNwcmVzc28sIE1pbGssIFN1Z2FyICQyLjY5"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Espresso $1.99
Espresso, Milk $2.49
Espresso, Milk, Sugar $2.69</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1</h2>
<div class='content'><p>Implementa un nou decorador anomenat <code>Mocha</code> que afegeixi la descripció &quot;Mocha&quot; i un cost addicional de $0.75 a una beguda.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1vY2hhIGV4dGVuZHMgQ29uZGltZW50RGVjb3JhdG9yIHsKICAgIHB1YmxpYyBNb2NoYShCZXZlcmFnZSBiZXZlcmFnZSkgewogICAgICAgIHN1cGVyKGJldmVyYWdlKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIGJldmVyYWdlLmdldERlc2NyaXB0aW9uKCkgKyAiLCBNb2NoYSI7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgZG91YmxlIGNvc3QoKSB7CiAgICAgICAgcmV0dXJuIGJldmVyYWdlLmNvc3QoKSArIDAuNzU7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Mocha extends CondimentDecorator {
    public Mocha(Beverage beverage) {
        super(beverage);
    }

    @Override
    public String getDescription() {
        return beverage.getDescription() + &quot;, Mocha&quot;;
    }

    @Override
    public double cost() {
        return beverage.cost() + 0.75;
    }
}</pre></div><div class='content'></div><h2>Exercici 2</h2>
<div class='content'><p>Crea una nova classe <code>Latte</code> que sigui un <code>ConcreteComponent</code> i tingui un cost de $2.50.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIExhdHRlIGltcGxlbWVudHMgQmV2ZXJhZ2UgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiAiTGF0dGUiOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGRvdWJsZSBjb3N0KCkgewogICAgICAgIHJldHVybiAyLjUwOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Latte implements Beverage {
    @Override
    public String getDescription() {
        return &quot;Latte&quot;;
    }

    @Override
    public double cost() {
        return 2.50;
    }
}</pre></div><div class='content'></div><h1>Errors Comuns i Consells</h1>
<div class='content'><ul>
<li><strong>No oblidar cridar al mètode del component original</strong>: Quan s'implementa un decorador, és important assegurar-se que es crida al mètode del component original per mantenir la funcionalitat existent.</li>
<li><strong>Evitar la creació de subclasses innecessàries</strong>: El patró Decorator permet afegir funcionalitats sense necessitat de crear subclasses per cada combinació possible de funcionalitats.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El patró Decorator és una eina poderosa per afegir funcionalitats a objectes de manera dinàmica i flexible. En lloc de crear subclasses per cada combinació de funcionalitats, podem utilitzar decoradors per afegir responsabilitats de manera modular i reutilitzable. Aquest patró és especialment útil en aplicacions on les funcionalitats poden variar de manera dinàmica i es necessiten solucions flexibles i escalables.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-04-composite' title="Composite">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-06-facade' title="Facade">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
