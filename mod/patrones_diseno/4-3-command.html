<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curs de Patrons de Disseny de Programari</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-3-command" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-3-command" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-3-command" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/4-3-command" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-3-command" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-2-chain-of-responsibility'>&#x25C4;Chain of Responsibility</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curs de Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-4-interpreter'>Interpreter &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Mòdul 4: Patrons de Comportament</h1>
<div class='content'></div><h2>4-3: Command</h2>
<div class='content'><h4>Què és el Patró Command?</h4>
<p>El patró Command és un patró de disseny de comportament que converteix una petició en un objecte autònom que conté tota la informació sobre la petició. Aquest patró permet parametritzar els mètodes amb diferents peticions, retardar o posar en cua l'execució d'una petició, i suportar operacions reversibles.</p>
<h4>Components del Patró Command</h4>
<ol>
<li><strong>Command</strong>: Interfície que declara un mètode per executar una operació.</li>
<li><strong>ConcreteCommand</strong>: Implementa la interfície Command i defineix la vinculació entre un objecte receptor i una acció.</li>
<li><strong>Client</strong>: Crea un objecte ConcreteCommand i estableix el seu receptor.</li>
<li><strong>Invoker</strong>: Demana a l'objecte Command que executi la petició.</li>
<li><strong>Receiver</strong>: Sap com dur a terme les operacions associades a la petició.</li>
</ol>
<h4>Diagrama UML</h4>
<table>
<thead>
<tr>
<th>Component</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Command</code></td>
<td>Interfície que declara el mètode <code>execute()</code>.</td>
</tr>
<tr>
<td><code>ConcreteCommand</code></td>
<td>Implementa <code>Command</code> i defineix la vinculació entre receptor i acció.</td>
</tr>
<tr>
<td><code>Client</code></td>
<td>Crea un objecte <code>ConcreteCommand</code> i estableix el seu receptor.</td>
</tr>
<tr>
<td><code>Invoker</code></td>
<td>Demana a l'objecte <code>Command</code> que executi la petició.</td>
</tr>
<tr>
<td><code>Receiver</code></td>
<td>Sap com dur a terme les operacions associades a la petició.</td>
</tr>
</tbody>
</table>
<h4>Exemple de Codi</h4>
<p>A continuació, es mostra un exemple de codi en Java que implementa el patró Command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW50ZXJmw61jaWUgQ29tbWFuZApwdWJsaWMgaW50ZXJmYWNlIENvbW1hbmQgewogICAgdm9pZCBleGVjdXRlKCk7Cn0KCi8vIFJlY2VwdG9yCnB1YmxpYyBjbGFzcyBMaWdodCB7CiAgICBwdWJsaWMgdm9pZCB0dXJuT24oKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUaGUgbGlnaHQgaXMgb24iKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0dXJuT2ZmKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVGhlIGxpZ2h0IGlzIG9mZiIpOwogICAgfQp9CgovLyBDb25jcmV0ZUNvbW1hbmQgcGVyIGVuY2VuZHJlIGxhIGxsdW0KcHVibGljIGNsYXNzIFR1cm5PbkxpZ2h0Q29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQgewogICAgcHJpdmF0ZSBMaWdodCBsaWdodDsKCiAgICBwdWJsaWMgVHVybk9uTGlnaHRDb21tYW5kKExpZ2h0IGxpZ2h0KSB7CiAgICAgICAgdGhpcy5saWdodCA9IGxpZ2h0OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZXhlY3V0ZSgpIHsKICAgICAgICBsaWdodC50dXJuT24oKTsKICAgIH0KfQoKLy8gQ29uY3JldGVDb21tYW5kIHBlciBhcGFnYXIgbGEgbGx1bQpwdWJsaWMgY2xhc3MgVHVybk9mZkxpZ2h0Q29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQgewogICAgcHJpdmF0ZSBMaWdodCBsaWdodDsKCiAgICBwdWJsaWMgVHVybk9mZkxpZ2h0Q29tbWFuZChMaWdodCBsaWdodCkgewogICAgICAgIHRoaXMubGlnaHQgPSBsaWdodDsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGV4ZWN1dGUoKSB7CiAgICAgICAgbGlnaHQudHVybk9mZigpOwogICAgfQp9CgovLyBJbnZva2VyCnB1YmxpYyBjbGFzcyBSZW1vdGVDb250cm9sIHsKICAgIHByaXZhdGUgQ29tbWFuZCBjb21tYW5kOwoKICAgIHB1YmxpYyB2b2lkIHNldENvbW1hbmQoQ29tbWFuZCBjb21tYW5kKSB7CiAgICAgICAgdGhpcy5jb21tYW5kID0gY29tbWFuZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcmVzc0J1dHRvbigpIHsKICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTsKICAgIH0KfQoKLy8gQ2xpZW50CnB1YmxpYyBjbGFzcyBDbGllbnQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIExpZ2h0IGxpZ2h0ID0gbmV3IExpZ2h0KCk7CiAgICAgICAgQ29tbWFuZCB0dXJuT24gPSBuZXcgVHVybk9uTGlnaHRDb21tYW5kKGxpZ2h0KTsKICAgICAgICBDb21tYW5kIHR1cm5PZmYgPSBuZXcgVHVybk9mZkxpZ2h0Q29tbWFuZChsaWdodCk7CgogICAgICAgIFJlbW90ZUNvbnRyb2wgcmVtb3RlID0gbmV3IFJlbW90ZUNvbnRyb2woKTsKCiAgICAgICAgLy8gRW5jZW5kcmUgbGEgbGx1bQogICAgICAgIHJlbW90ZS5zZXRDb21tYW5kKHR1cm5Pbik7CiAgICAgICAgcmVtb3RlLnByZXNzQnV0dG9uKCk7CgogICAgICAgIC8vIEFwYWdhciBsYSBsbHVtCiAgICAgICAgcmVtb3RlLnNldENvbW1hbmQodHVybk9mZik7CiAgICAgICAgcmVtb3RlLnByZXNzQnV0dG9uKCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Interf&iacute;cie Command
public interface Command {
    void execute();
}

// Receptor
public class Light {
    public void turnOn() {
        System.out.println(&quot;The light is on&quot;);
    }

    public void turnOff() {
        System.out.println(&quot;The light is off&quot;);
    }
}

// ConcreteCommand per encendre la llum
public class TurnOnLightCommand implements Command {
    private Light light;

    public TurnOnLightCommand(Light light) {
        this.light = light;
    }

    @Override
    public void execute() {
        light.turnOn();
    }
}

// ConcreteCommand per apagar la llum
public class TurnOffLightCommand implements Command {
    private Light light;

    public TurnOffLightCommand(Light light) {
        this.light = light;
    }

    @Override
    public void execute() {
        light.turnOff();
    }
}

// Invoker
public class RemoteControl {
    private Command command;

    public void setCommand(Command command) {
        this.command = command;
    }

    public void pressButton() {
        command.execute();
    }
}

// Client
public class Client {
    public static void main(String[] args) {
        Light light = new Light();
        Command turnOn = new TurnOnLightCommand(light);
        Command turnOff = new TurnOffLightCommand(light);

        RemoteControl remote = new RemoteControl();

        // Encendre la llum
        remote.setCommand(turnOn);
        remote.pressButton();

        // Apagar la llum
        remote.setCommand(turnOff);
        remote.pressButton();
    }
}</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Interfície Command</strong>: Declara el mètode <code>execute()</code>.</li>
<li><strong>Receptor (Light)</strong>: Conté les operacions <code>turnOn()</code> i <code>turnOff()</code>.</li>
<li><strong>ConcreteCommand (TurnOnLightCommand i TurnOffLightCommand)</strong>: Implementen la interfície <code>Command</code> i defineixen les accions a executar.</li>
<li><strong>Invoker (RemoteControl)</strong>: Manté una referència a un objecte <code>Command</code> i invoca el mètode <code>execute()</code> quan es prem el botó.</li>
<li><strong>Client</strong>: Crea els objectes <code>ConcreteCommand</code> i els assigna al <code>Invoker</code>.</li>
</ol>
<h4>Avantatges del Patró Command</h4>
<ul>
<li><strong>Separació de Responsabilitats</strong>: Separa l'objecte que emet una petició de l'objecte que la processa.</li>
<li><strong>Flexibilitat</strong>: Permet la parametrització d'objectes amb operacions.</li>
<li><strong>Historial d'Operacions</strong>: Facilita la implementació d'operacions reversibles i l'emmagatzematge de l'historial d'operacions.</li>
</ul>
<h4>Desavantatges del Patró Command</h4>
<ul>
<li><strong>Complexitat</strong>: Pot augmentar la complexitat del codi a causa de la creació de moltes classes addicionals.</li>
<li><strong>Sobrecàrrega</strong>: Pot introduir una sobrecàrrega si es creen molts objectes Command.</li>
</ul>
<h4>Conclusió</h4>
<p>El patró Command és una eina poderosa per desacoblar l'emissor d'una petició del seu processador, permetent una major flexibilitat i extensibilitat en el disseny del programari. Tot i que pot introduir una certa complexitat addicional, els beneficis en termes de mantenibilitat i escalabilitat sovint superen aquests inconvenients.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-2-chain-of-responsibility'>&#x25C4;Chain of Responsibility</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curs de Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-4-interpreter'>Interpreter &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
