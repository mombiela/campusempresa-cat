<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrons de Disseny de Programari</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-8-observer" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-8-observer" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-8-observer" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/4-8-observer" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-8-observer" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Mòdul 4: Patrons de Comportament</h1>
<div class='content'></div><h2>4-8: Observer</h2>
<div class='content'><h4>Què és el Patró Observer?</h4>
<p>El patró Observer és un patró de disseny de comportament que defineix una relació de dependència un-a-molts entre objectes, de manera que quan un objecte canvia d'estat, tots els seus dependents són notificats i actualitzats automàticament. Aquest patró és molt útil per implementar sistemes de notificació i subscripció.</p>
<h4>Components del Patró Observer</h4>
<ol>
<li><strong>Subject (Subjecte)</strong>: L'objecte que manté una llista dels seus dependents (Observers) i els notifica de qualsevol canvi d'estat.</li>
<li><strong>Observer (Observador)</strong>: L'objecte que vol ser notificat dels canvis en el Subjecte.</li>
<li><strong>ConcreteSubject (Subjecte Concret)</strong>: Una implementació concreta del Subjecte.</li>
<li><strong>ConcreteObserver (Observador Concret)</strong>: Una implementació concreta de l'Observador que actualitza el seu estat en resposta a les notificacions del Subjecte.</li>
</ol>
<h4>Diagrama UML</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCAgICAgIFN1YmplY3QgICAgIHwgICAgICAgfCAgICAgT2JzZXJ2ZXIgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtIG9ic2VydmVycyAgICAgIHwgICAgICAgfCArIHVwZGF0ZSgpICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCArIGF0dGFjaCgpICAgICAgIHwgICAgICAgfCAgICAgICAgICAgICAgICAgIHwKfCArIGRldGFjaCgpICAgICAgIHwgICAgICAgfCAgICAgICAgICAgICAgICAgIHwKfCArIG5vdGlmeSgpICAgICAgIHwgICAgICAgfCAgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICBeICAgICAgICAgICAgICAgICAgICAgICAgICBeCiAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCBDb25jcmV0ZVN1YmplY3QgIHwgICAgICAgfCBDb25jcmV0ZU9ic2VydmVyIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtIHN0YXRlICAgICAgICAgIHwgICAgICAgfCAtIHN0YXRlICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCArIGdldFN0YXRlKCkgICAgIHwgICAgICAgfCArIHVwZGF0ZSgpICAgICAgIHwKfCArIHNldFN0YXRlKCkgICAgIHwgICAgICAgfCAgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+------------------+       +------------------+
|      Subject     |       |     Observer     |
+------------------+       +------------------+
| - observers      |       | + update()       |
+------------------+       +------------------+
| + attach()       |       |                  |
| + detach()       |       |                  |
| + notify()       |       |                  |
+------------------+       +------------------+
        ^                          ^
        |                          |
        |                          |
+------------------+       +------------------+
| ConcreteSubject  |       | ConcreteObserver |
+------------------+       +------------------+
| - state          |       | - state          |
+------------------+       +------------------+
| + getState()     |       | + update()       |
| + setState()     |       |                  |
+------------------+       +------------------+</pre></div><div class='content'><h4>Exemple de Codi</h4>
<p>A continuació, es presenta un exemple de codi en Python per il·lustrar el patró Observer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3ViamVjdDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLl9vYnNlcnZlcnMgPSBbXQoKICAgIGRlZiBhdHRhY2goc2VsZiwgb2JzZXJ2ZXIpOgogICAgICAgIHNlbGYuX29ic2VydmVycy5hcHBlbmQob2JzZXJ2ZXIpCgogICAgZGVmIGRldGFjaChzZWxmLCBvYnNlcnZlcik6CiAgICAgICAgc2VsZi5fb2JzZXJ2ZXJzLnJlbW92ZShvYnNlcnZlcikKCiAgICBkZWYgbm90aWZ5KHNlbGYpOgogICAgICAgIGZvciBvYnNlcnZlciBpbiBzZWxmLl9vYnNlcnZlcnM6CiAgICAgICAgICAgIG9ic2VydmVyLnVwZGF0ZShzZWxmKQoKY2xhc3MgQ29uY3JldGVTdWJqZWN0KFN1YmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuX3N0YXRlID0gTm9uZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHN0YXRlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9zdGF0ZQoKICAgIEBzdGF0ZS5zZXR0ZXIKICAgIGRlZiBzdGF0ZShzZWxmLCB2YWx1ZSk6CiAgICAgICAgc2VsZi5fc3RhdGUgPSB2YWx1ZQogICAgICAgIHNlbGYubm90aWZ5KCkKCmNsYXNzIE9ic2VydmVyOgogICAgZGVmIHVwZGF0ZShzZWxmLCBzdWJqZWN0KToKICAgICAgICBwYXNzCgpjbGFzcyBDb25jcmV0ZU9ic2VydmVyKE9ic2VydmVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lKToKICAgICAgICBzZWxmLl9uYW1lID0gbmFtZQoKICAgIGRlZiB1cGRhdGUoc2VsZiwgc3ViamVjdCk6CiAgICAgICAgcHJpbnQoZid7c2VsZi5fbmFtZX0gaGEgZXN0YXQgbm90aWZpY2F0LiBOb3UgZXN0YXQ6IHtzdWJqZWN0LnN0YXRlfScpCgojIEV4ZW1wbGUgZCfDunMKc3ViamVjdCA9IENvbmNyZXRlU3ViamVjdCgpCgpvYnNlcnZlcjEgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZhZG9yIDEiKQpvYnNlcnZlcjIgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZhZG9yIDIiKQoKc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIxKQpzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjIpCgpzdWJqZWN0LnN0YXRlID0gIkVzdGF0IDEiCnN1YmplY3Quc3RhdGUgPSAiRXN0YXQgMiI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Subject:
    def __init__(self):
        self._observers = []

    def attach(self, observer):
        self._observers.append(observer)

    def detach(self, observer):
        self._observers.remove(observer)

    def notify(self):
        for observer in self._observers:
            observer.update(self)

class ConcreteSubject(Subject):
    def __init__(self):
        super().__init__()
        self._state = None

    @property
    def state(self):
        return self._state

    @state.setter
    def state(self, value):
        self._state = value
        self.notify()

class Observer:
    def update(self, subject):
        pass

class ConcreteObserver(Observer):
    def __init__(self, name):
        self._name = name

    def update(self, subject):
        print(f'{self._name} ha estat notificat. Nou estat: {subject.state}')

# Exemple d'&uacute;s
subject = ConcreteSubject()

observer1 = ConcreteObserver(&quot;Observador 1&quot;)
observer2 = ConcreteObserver(&quot;Observador 2&quot;)

subject.attach(observer1)
subject.attach(observer2)

subject.state = &quot;Estat 1&quot;
subject.state = &quot;Estat 2&quot;</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Subject</strong>: Manté una llista d'observadors i proporciona mètodes per afegir (<code>attach</code>), eliminar (<code>detach</code>) i notificar (<code>notify</code>) els observadors.</li>
<li><strong>ConcreteSubject</strong>: Implementa el Subject i manté l'estat que canvia. Quan l'estat canvia, es notifiquen tots els observadors.</li>
<li><strong>Observer</strong>: Defineix una interfície per als objectes que han de ser notificats.</li>
<li><strong>ConcreteObserver</strong>: Implementa l'Observer i actualitza el seu estat en resposta a les notificacions del Subject.</li>
</ol>
<h4>Avantatges del Patró Observer</h4>
<ul>
<li><strong>Desacoblament</strong>: Els subjectes i els observadors estan desacoblats, cosa que facilita la seva reutilització i manteniment.</li>
<li><strong>Flexibilitat</strong>: Permet afegir nous observadors sense modificar el subjecte.</li>
</ul>
<h4>Desavantatges del Patró Observer</h4>
<ul>
<li><strong>Complexitat</strong>: Pot introduir complexitat addicional en el codi, especialment en sistemes grans amb molts observadors.</li>
<li><strong>Rendiment</strong>: Si hi ha molts observadors, la notificació pot ser costosa en termes de rendiment.</li>
</ul>
<h4>Conclusió</h4>
<p>El patró Observer és una solució elegant per gestionar la dependència un-a-molts entre objectes, permetent que els canvis en un objecte es reflecteixin automàticament en tots els seus dependents. És especialment útil en sistemes on la notificació i la subscripció són necessàries, com ara interfícies d'usuari, sistemes de missatgeria i aplicacions en temps real. Tot i això, cal tenir en compte la complexitat i el rendiment quan s'implementa aquest patró en sistemes grans.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
