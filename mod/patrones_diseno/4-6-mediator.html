<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mòdul 4: Patrons de Comportament</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-6-mediator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-6-mediator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-6-mediator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/4-6-mediator" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-6-mediator" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mòdul 4: Patrons de Comportament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>4-6: Mediator</h1>
<div class='content'></div><h2>Què és el Patró Mediator?</h2>
<div class='content'><p>El patró Mediator és un patró de disseny de comportament que permet reduir les dependències entre objectes d'un sistema. En lloc que els objectes es comuniquin directament entre ells, ho fan a través d'un objecte intermediari anomenat &quot;mediador&quot;. Això facilita la gestió de les interaccions i la modificació del comportament del sistema sense afectar altres objectes.</p>
</div><h2>Objectius del Patró Mediator</h2>
<div class='content'><ul>
<li><strong>Reduir les dependències</strong>: Evitar la connexió directa entre objectes, reduint així les dependències i millorant la modularitat.</li>
<li><strong>Facilitar la comunicació</strong>: Centralitzar la comunicació entre objectes en un únic punt.</li>
<li><strong>Millorar la mantenibilitat</strong>: Facilitar la modificació i extensió del sistema sense afectar altres components.</li>
</ul>
</div><h2>Components del Patró Mediator</h2>
<div class='content'><ol>
<li><strong>Mediator</strong>: Defineix una interfície per a la comunicació amb els Colleagues.</li>
<li><strong>ConcreteMediator</strong>: Implementa la interfície Mediator i coordina la comunicació entre els Colleagues.</li>
<li><strong>Colleague</strong>: Representa els objectes que es comuniquen a través del Mediator. Cada Colleague coneix el Mediator i l'utilitza per a la comunicació.</li>
</ol>
</div><h2>Diagrama UML</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgICAgQ29sbGVhZ3VlICAgfCAgICAgICAgICB8ICAgIE1lZGlhdG9yICAgICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtIG1lZGlhdG9yICAgICB8PD4tLS0tLS0tPnwgKyBub3RpZnkoc2VuZGVyKSAgICB8CnwgKyBzZW5kKG1zZykgICAgfCAgICAgICAgICB8ICsgbWVkaWF0ZShtc2cpICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICBeICAgICAgICAgICAgICAgICAgICAgICAgICAgXgogICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgQ29uY3JldGVDb2xsZWFndWUgfCAgICAgICB8IENvbmNyZXRlTWVkaWF0b3IgICAgfAorLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCArIHNlbmQobXNnKSAgICB8ICAgICAgICAgIHwgKyBub3RpZnkoc2VuZGVyKSAgICB8CnwgKyByZWNlaXZlKG1zZykgfCAgICAgICAgICB8ICsgbWVkaWF0ZShtc2cpICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+----------------+          +---------------------+
|    Colleague   |          |    Mediator         |
+----------------+          +---------------------+
| - mediator     |&lt;&gt;-------&gt;| + notify(sender)    |
| + send(msg)    |          | + mediate(msg)      |
+----------------+          +---------------------+
        ^                           ^
        |                           |
        |                           |
+----------------+          +---------------------+
| ConcreteColleague |       | ConcreteMediator    |
+----------------+          +---------------------+
| + send(msg)    |          | + notify(sender)    |
| + receive(msg) |          | + mediate(msg)      |
+----------------+          +---------------------+</pre></div><div class='content'></div><h2>Exemple de Codi</h2>
<div class='content'><p>A continuació, es mostra un exemple en Python per il·lustrar el patró Mediator:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTWVkaWF0b3I6CiAgICBkZWYgbm90aWZ5KHNlbGYsIHNlbmRlciwgZXZlbnQpOgogICAgICAgIHBhc3MKCmNsYXNzIENvbmNyZXRlTWVkaWF0b3IoTWVkaWF0b3IpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuY29sbGVhZ3VlMSA9IE5vbmUKICAgICAgICBzZWxmLmNvbGxlYWd1ZTIgPSBOb25lCgogICAgZGVmIG5vdGlmeShzZWxmLCBzZW5kZXIsIGV2ZW50KToKICAgICAgICBpZiBldmVudCA9PSAiQSI6CiAgICAgICAgICAgIHByaW50KCJNZWRpYXRvciByZWFjdHMgb24gQSBhbmQgdHJpZ2dlcnMgZm9sbG93aW5nIG9wZXJhdGlvbnM6IikKICAgICAgICAgICAgc2VsZi5jb2xsZWFndWUyLmRvX2MoKQogICAgICAgIGVsaWYgZXZlbnQgPT0gIkQiOgogICAgICAgICAgICBwcmludCgiTWVkaWF0b3IgcmVhY3RzIG9uIEQgYW5kIHRyaWdnZXJzIGZvbGxvd2luZyBvcGVyYXRpb25zOiIpCiAgICAgICAgICAgIHNlbGYuY29sbGVhZ3VlMS5kb19iKCkKICAgICAgICAgICAgc2VsZi5jb2xsZWFndWUyLmRvX2MoKQoKY2xhc3MgQ29sbGVhZ3VlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG1lZGlhdG9yKToKICAgICAgICBzZWxmLm1lZGlhdG9yID0gbWVkaWF0b3IKCmNsYXNzIENvbmNyZXRlQ29sbGVhZ3VlMShDb2xsZWFndWUpOgogICAgZGVmIGRvX2Eoc2VsZik6CiAgICAgICAgcHJpbnQoIkNvbGxlYWd1ZTEgZG9lcyBBLiIpCiAgICAgICAgc2VsZi5tZWRpYXRvci5ub3RpZnkoc2VsZiwgIkEiKQoKICAgIGRlZiBkb19iKHNlbGYpOgogICAgICAgIHByaW50KCJDb2xsZWFndWUxIGRvZXMgQi4iKQogICAgICAgIHNlbGYubWVkaWF0b3Iubm90aWZ5KHNlbGYsICJCIikKCmNsYXNzIENvbmNyZXRlQ29sbGVhZ3VlMihDb2xsZWFndWUpOgogICAgZGVmIGRvX2Moc2VsZik6CiAgICAgICAgcHJpbnQoIkNvbGxlYWd1ZTIgZG9lcyBDLiIpCiAgICAgICAgc2VsZi5tZWRpYXRvci5ub3RpZnkoc2VsZiwgIkMiKQoKICAgIGRlZiBkb19kKHNlbGYpOgogICAgICAgIHByaW50KCJDb2xsZWFndWUyIGRvZXMgRC4iKQogICAgICAgIHNlbGYubWVkaWF0b3Iubm90aWZ5KHNlbGYsICJEIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtZWRpYXRvciA9IENvbmNyZXRlTWVkaWF0b3IoKQoKICAgIGNvbGxlYWd1ZTEgPSBDb25jcmV0ZUNvbGxlYWd1ZTEobWVkaWF0b3IpCiAgICBjb2xsZWFndWUyID0gQ29uY3JldGVDb2xsZWFndWUyKG1lZGlhdG9yKQoKICAgIG1lZGlhdG9yLmNvbGxlYWd1ZTEgPSBjb2xsZWFndWUxCiAgICBtZWRpYXRvci5jb2xsZWFndWUyID0gY29sbGVhZ3VlMgoKICAgIHByaW50KCJDbGllbnQgdHJpZ2dlcnMgb3BlcmF0aW9uIEEuIikKICAgIGNvbGxlYWd1ZTEuZG9fYSgpCgogICAgcHJpbnQoIlxuQ2xpZW50IHRyaWdnZXJzIG9wZXJhdGlvbiBELiIpCiAgICBjb2xsZWFndWUyLmRvX2QoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Mediator:
    def notify(self, sender, event):
        pass

class ConcreteMediator(Mediator):
    def __init__(self):
        self.colleague1 = None
        self.colleague2 = None

    def notify(self, sender, event):
        if event == &quot;A&quot;:
            print(&quot;Mediator reacts on A and triggers following operations:&quot;)
            self.colleague2.do_c()
        elif event == &quot;D&quot;:
            print(&quot;Mediator reacts on D and triggers following operations:&quot;)
            self.colleague1.do_b()
            self.colleague2.do_c()

class Colleague:
    def __init__(self, mediator):
        self.mediator = mediator

class ConcreteColleague1(Colleague):
    def do_a(self):
        print(&quot;Colleague1 does A.&quot;)
        self.mediator.notify(self, &quot;A&quot;)

    def do_b(self):
        print(&quot;Colleague1 does B.&quot;)
        self.mediator.notify(self, &quot;B&quot;)

class ConcreteColleague2(Colleague):
    def do_c(self):
        print(&quot;Colleague2 does C.&quot;)
        self.mediator.notify(self, &quot;C&quot;)

    def do_d(self):
        print(&quot;Colleague2 does D.&quot;)
        self.mediator.notify(self, &quot;D&quot;)

if __name__ == &quot;__main__&quot;:
    mediator = ConcreteMediator()

    colleague1 = ConcreteColleague1(mediator)
    colleague2 = ConcreteColleague2(mediator)

    mediator.colleague1 = colleague1
    mediator.colleague2 = colleague2

    print(&quot;Client triggers operation A.&quot;)
    colleague1.do_a()

    print(&quot;\nClient triggers operation D.&quot;)
    colleague2.do_d()</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Mediator</strong>: Defineix la interfície <code>notify</code> per a la comunicació.</li>
<li><strong>ConcreteMediator</strong>: Implementa la interfície <code>Mediator</code> i coordina la comunicació entre <code>ConcreteColleague1</code> i <code>ConcreteColleague2</code>.</li>
<li><strong>Colleague</strong>: Defineix una classe base per als objectes que es comunicaran a través del Mediator.</li>
<li><strong>ConcreteColleague1 i ConcreteColleague2</strong>: Implementen les operacions específiques i utilitzen el Mediator per a la comunicació.</li>
</ol>
</div><h2>Avantatges del Patró Mediator</h2>
<div class='content'><ul>
<li><strong>Reducció de dependències</strong>: Els objectes no necessiten conèixer els detalls dels altres objectes amb els quals es comuniquen.</li>
<li><strong>Millora de la modularitat</strong>: Facilita la modificació i extensió del sistema.</li>
<li><strong>Centralització de la lògica de comunicació</strong>: La lògica de comunicació es centralitza en el Mediator, facilitant la seva gestió.</li>
</ul>
</div><h2>Desavantatges del Patró Mediator</h2>
<div class='content'><ul>
<li><strong>Complexitat del Mediator</strong>: El Mediator pot convertir-se en un punt de complexitat si ha de gestionar moltes interaccions.</li>
<li><strong>Dependència del Mediator</strong>: Els Colleagues depenen del Mediator per a la comunicació, el que pot introduir un punt únic de fallada.</li>
</ul>
</div><h2>Conclusió</h2>
<div class='content'><p>El patró Mediator és una eina poderosa per gestionar la comunicació entre objectes en un sistema complex. Redueix les dependències directes entre objectes, millorant la modularitat i la mantenibilitat del codi. Tot i això, cal tenir cura de no sobrecarregar el Mediator amb massa responsabilitats, ja que això podria introduir complexitat addicional.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mòdul 4: Patrons de Comportament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
