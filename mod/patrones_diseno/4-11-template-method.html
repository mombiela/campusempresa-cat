<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrons de Disseny de Programari</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-11-template-method" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-11-template-method" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-11-template-method" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/4-11-template-method" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-11-template-method" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-10-strategy'>&#x25C4;Strategy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-12-visitor'>Visitor &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Mòdul 4: Patrons de Comportament</h1>
<div class='content'></div><h2>Template Method</h2>
<div class='content'><p>El patró Template Method és un patró de disseny de comportament que defineix l'esquelet d'un algorisme en una operació, delegant alguns passos a subclasses. Permet que les subclasses redefineixin certs passos d'un algorisme sense canviar l'estructura de l'algorisme.</p>
<h4>Conceptes Clau</h4>
<ul>
<li><strong>Esquelet de l'Algorisme</strong>: Defineix la seqüència de passos que conformen l'algorisme.</li>
<li><strong>Mètodes Abstractes</strong>: Mètodes que les subclasses han d'implementar.</li>
<li><strong>Mètodes Concrets</strong>: Mètodes que tenen una implementació per defecte i poden ser utilitzats tal qual o sobreescrits.</li>
</ul>
<h4>Avantatges</h4>
<ul>
<li><strong>Reutilització de Codi</strong>: Permet reutilitzar el codi comú a totes les subclasses.</li>
<li><strong>Flexibilitat</strong>: Les subclasses poden personalitzar el comportament de l'algorisme sense modificar la seva estructura general.</li>
<li><strong>Control</strong>: El mètode template controla l'estructura de l'algorisme, assegurant que els passos es realitzin en l'ordre correcte.</li>
</ul>
<h4>Desavantatges</h4>
<ul>
<li><strong>Complexitat</strong>: Pot augmentar la complexitat del codi, especialment si hi ha moltes subclasses.</li>
<li><strong>Dependència</strong>: Les subclasses depenen fortament de la classe base, la qual cosa pot dificultar el manteniment.</li>
</ul>
<h4>Exemple de Codi</h4>
<p>A continuació, es presenta un exemple en Python per il·lustrar el patró Template Method. Suposem que volem implementar un procés de preparació de begudes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCmNsYXNzIEJldmVyYWdlKEFCQyk6CiAgICBkZWYgcHJlcGFyZV9yZWNpcGUoc2VsZik6CiAgICAgICAgc2VsZi5ib2lsX3dhdGVyKCkKICAgICAgICBzZWxmLmJyZXcoKQogICAgICAgIHNlbGYucG91cl9pbl9jdXAoKQogICAgICAgIHNlbGYuYWRkX2NvbmRpbWVudHMoKQoKICAgIGRlZiBib2lsX3dhdGVyKHNlbGYpOgogICAgICAgIHByaW50KCJCb2lsaW5nIHdhdGVyIikKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBicmV3KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgcG91cl9pbl9jdXAoc2VsZik6CiAgICAgICAgcHJpbnQoIlBvdXJpbmcgaW50byBjdXAiKQoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIGFkZF9jb25kaW1lbnRzKHNlbGYpOgogICAgICAgIHBhc3MKCmNsYXNzIFRlYShCZXZlcmFnZSk6CiAgICBkZWYgYnJldyhzZWxmKToKICAgICAgICBwcmludCgiU3RlZXBpbmcgdGhlIHRlYSIpCgogICAgZGVmIGFkZF9jb25kaW1lbnRzKHNlbGYpOgogICAgICAgIHByaW50KCJBZGRpbmcgbGVtb24iKQoKY2xhc3MgQ29mZmVlKEJldmVyYWdlKToKICAgIGRlZiBicmV3KHNlbGYpOgogICAgICAgIHByaW50KCJEcmlwcGluZyBjb2ZmZWUgdGhyb3VnaCBmaWx0ZXIiKQoKICAgIGRlZiBhZGRfY29uZGltZW50cyhzZWxmKToKICAgICAgICBwcmludCgiQWRkaW5nIHN1Z2FyIGFuZCBtaWxrIikKCiMgw5pzIGRlbCBwYXRyw7MgVGVtcGxhdGUgTWV0aG9kCnRlYSA9IFRlYSgpCnRlYS5wcmVwYXJlX3JlY2lwZSgpCgpwcmludCgpCgpjb2ZmZWUgPSBDb2ZmZWUoKQpjb2ZmZWUucHJlcGFyZV9yZWNpcGUoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

class Beverage(ABC):
    def prepare_recipe(self):
        self.boil_water()
        self.brew()
        self.pour_in_cup()
        self.add_condiments()

    def boil_water(self):
        print(&quot;Boiling water&quot;)

    @abstractmethod
    def brew(self):
        pass

    def pour_in_cup(self):
        print(&quot;Pouring into cup&quot;)

    @abstractmethod
    def add_condiments(self):
        pass

class Tea(Beverage):
    def brew(self):
        print(&quot;Steeping the tea&quot;)

    def add_condiments(self):
        print(&quot;Adding lemon&quot;)

class Coffee(Beverage):
    def brew(self):
        print(&quot;Dripping coffee through filter&quot;)

    def add_condiments(self):
        print(&quot;Adding sugar and milk&quot;)

# &Uacute;s del patr&oacute; Template Method
tea = Tea()
tea.prepare_recipe()

print()

coffee = Coffee()
coffee.prepare_recipe()</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li>
<p><strong>Classe Abstracta <code>Beverage</code></strong>:</p>
<ul>
<li>Defineix el mètode <code>prepare_recipe</code> que és el mètode template.</li>
<li>Conté mètodes concrets (<code>boil_water</code> i <code>pour_in_cup</code>) i mètodes abstractes (<code>brew</code> i <code>add_condiments</code>).</li>
</ul>
</li>
<li>
<p><strong>Classes Concretes <code>Tea</code> i <code>Coffee</code></strong>:</p>
<ul>
<li>Implementen els mètodes abstractes <code>brew</code> i <code>add_condiments</code>.</li>
</ul>
</li>
<li>
<p><strong>Ús del Patró</strong>:</p>
<ul>
<li>Es crea una instància de <code>Tea</code> i <code>Coffee</code> i es crida el mètode <code>prepare_recipe</code>, que segueix l'esquelet definit a la classe base <code>Beverage</code>.</li>
</ul>
</li>
</ol>
<h4>Exercici Pràctic</h4>
<p>Implementa el patró Template Method per a un procés de preparació de menjars. Defineix una classe abstracta <code>Meal</code> amb els mètodes abstractes <code>prepare_main_dish</code> i <code>prepare_side_dish</code>. Crea subclasses <code>Lunch</code> i <code>Dinner</code> que implementin aquests mètodes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCmNsYXNzIE1lYWwoQUJDKToKICAgIGRlZiBwcmVwYXJlX21lYWwoc2VsZik6CiAgICAgICAgc2VsZi5wcmVwYXJlX21haW5fZGlzaCgpCiAgICAgICAgc2VsZi5wcmVwYXJlX3NpZGVfZGlzaCgpCiAgICAgICAgc2VsZi5zZXJ2ZSgpCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgcHJlcGFyZV9tYWluX2Rpc2goc2VsZik6CiAgICAgICAgcGFzcwoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIHByZXBhcmVfc2lkZV9kaXNoKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgc2VydmUoc2VsZik6CiAgICAgICAgcHJpbnQoIlNlcnZpbmcgdGhlIG1lYWwiKQoKY2xhc3MgTHVuY2goTWVhbCk6CiAgICBkZWYgcHJlcGFyZV9tYWluX2Rpc2goc2VsZik6CiAgICAgICAgcHJpbnQoIlByZXBhcmluZyBzYW5kd2ljaCIpCgogICAgZGVmIHByZXBhcmVfc2lkZV9kaXNoKHNlbGYpOgogICAgICAgIHByaW50KCJQcmVwYXJpbmcgc2FsYWQiKQoKY2xhc3MgRGlubmVyKE1lYWwpOgogICAgZGVmIHByZXBhcmVfbWFpbl9kaXNoKHNlbGYpOgogICAgICAgIHByaW50KCJQcmVwYXJpbmcgc3RlYWsiKQoKICAgIGRlZiBwcmVwYXJlX3NpZGVfZGlzaChzZWxmKToKICAgICAgICBwcmludCgiUHJlcGFyaW5nIG1hc2hlZCBwb3RhdG9lcyIpCgojIMOacyBkZWwgcGF0csOzIFRlbXBsYXRlIE1ldGhvZApsdW5jaCA9IEx1bmNoKCkKbHVuY2gucHJlcGFyZV9tZWFsKCkKCnByaW50KCkKCmRpbm5lciA9IERpbm5lcigpCmRpbm5lci5wcmVwYXJlX21lYWwoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

class Meal(ABC):
    def prepare_meal(self):
        self.prepare_main_dish()
        self.prepare_side_dish()
        self.serve()

    @abstractmethod
    def prepare_main_dish(self):
        pass

    @abstractmethod
    def prepare_side_dish(self):
        pass

    def serve(self):
        print(&quot;Serving the meal&quot;)

class Lunch(Meal):
    def prepare_main_dish(self):
        print(&quot;Preparing sandwich&quot;)

    def prepare_side_dish(self):
        print(&quot;Preparing salad&quot;)

class Dinner(Meal):
    def prepare_main_dish(self):
        print(&quot;Preparing steak&quot;)

    def prepare_side_dish(self):
        print(&quot;Preparing mashed potatoes&quot;)

# &Uacute;s del patr&oacute; Template Method
lunch = Lunch()
lunch.prepare_meal()

print()

dinner = Dinner()
dinner.prepare_meal()</pre></div><div class='content'><h4>Conclusió</h4>
<p>El patró Template Method és una eina poderosa per definir l'esquelet d'un algorisme i permetre que les subclasses personalitzin certs passos. Això facilita la reutilització del codi i proporciona flexibilitat per adaptar el comportament de l'algorisme segons les necessitats específiques. Tot i això, cal tenir cura de no augmentar massa la complexitat del codi ni crear una dependència excessiva entre les subclasses i la classe base.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-10-strategy'>&#x25C4;Strategy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-12-visitor'>Visitor &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
