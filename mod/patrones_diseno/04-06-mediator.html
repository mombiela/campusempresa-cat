<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediator</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/04-06-mediator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/04-06-mediator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/04-06-mediator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/04-06-mediator" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/04-06-mediator" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-05-iterator' title="Iterator">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mediator</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-07-memento' title="Memento">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció al Patró Mediator</p>
</h1>
<div class='content'><p>El patró Mediator és un patró de disseny de comportament que permet reduir les dependències entre objectes comunicant-se a través d'un objecte intermediari, anomenat &quot;mediador&quot;. Aquest patró facilita la comunicació entre objectes sense que aquests hagin de referenciar-se directament, promovent així un acoblament més baix i una major flexibilitat en el sistema.</p>
</div><h2><p>Objectius del Patró Mediator</p>
</h2>
<div class='content'><ul>
<li><strong>Reduir les dependències entre objectes:</strong> Els objectes no necessiten conèixer-se directament, sinó que es comuniquen a través del mediador.</li>
<li><strong>Facilitar la modificació i extensió del sistema:</strong> Afegir o modificar la comunicació entre objectes es fa més senzill, ja que només cal ajustar el mediador.</li>
<li><strong>Millorar la llegibilitat i mantenibilitat del codi:</strong> El codi es torna més net i fàcil de seguir, ja que les interaccions complexes es gestionen en un sol lloc.</li>
</ul>
</div><h1><p>Estructura del Patró Mediator</p>
</h1>
<div class='content'><p>El patró Mediator es compon dels següents elements:</p>
<ol>
<li><strong>Mediator (Mediador):</strong> Defineix la interfície per a la comunicació amb els Colleagues.</li>
<li><strong>ConcreteMediator (Mediador Concret):</strong> Implementa la interfície Mediator i coordina la comunicació entre els Colleagues.</li>
<li><strong>Colleague (Col·lega):</strong> Cada objecte que participa en la comunicació. Coneix el Mediator però no altres Colleagues.</li>
<li><strong>ConcreteColleague (Col·lega Concret):</strong> Implementa el comportament específic dels Colleagues i utilitza el Mediator per comunicar-se amb altres Colleagues.</li>
</ol>
</div><h2><p>Diagrama UML</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgICAgIENvbGxlYWd1ZSAgIHwgICAgICAgICB8ICAgICBNZWRpYXRvciAgICAgICAgfAp8LS0tLS0tLS0tLS0tLS0tLS18ICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXwKfCAtIG1lZGlhdG9yOiBNZWRpYXRvciB8PC0tLS0tPnwgKyBub3RpZnkoc2VuZGVyOiBDb2xsZWFndWUsIGV2ZW50OiBzdHJpbmcpOiB2b2lkIHwKfC0tLS0tLS0tLS0tLS0tLS0tfCAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18CnwgKyBub3RpZnkoZXZlbnQ6IHN0cmluZyk6IHZvaWQgfCAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0rCistLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICB8IENvbmNyZXRlTWVkaWF0b3IgICAgfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgLSBjb2xsZWFndWVzOiBMaXN0PENvbGxlYWd1ZT4gfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKyBub3RpZnkoc2VuZGVyOiBDb2xsZWFndWUsIGV2ZW50OiBzdHJpbmcpOiB2b2lkIHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0r"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+-----------------+         +---------------------+
|     Colleague   |         |     Mediator        |
|-----------------|         |---------------------|
| - mediator: Mediator |&lt;-----&gt;| + notify(sender: Colleague, event: string): void |
|-----------------|         |---------------------|
| + notify(event: string): void |         +---------------------+
+-----------------+         | ConcreteMediator    |
                            |---------------------|
                            | - colleagues: List&lt;Colleague&gt; |
                            |---------------------|
                            | + notify(sender: Colleague, event: string): void |
                            +---------------------+</pre></div><div class='content'></div><h1><p>Exemple Pràctic</p>
</h1>
<div class='content'></div><h2><p>Escenari</p>
</h2>
<div class='content'><p>Suposem que estem desenvolupant una aplicació de xat on diversos usuaris poden enviar missatges entre ells. Utilitzarem el patró Mediator per gestionar la comunicació entre els usuaris.</p>
</div><h2><p>Implementació</p>
</h2>
<div class='content'><h4>Mediator Interface</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBDaGF0TWVkaWF0b3IgewogICAgdm9pZCBzZW5kTWVzc2FnZShTdHJpbmcgbWVzc2FnZSwgVXNlciB1c2VyKTsKICAgIHZvaWQgYWRkVXNlcihVc2VyIHVzZXIpOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ChatMediator {
    void sendMessage(String message, User user);
    void addUser(User user);
}</pre></div><div class='content'><h4>ConcreteMediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBDaGF0TWVkaWF0b3JJbXBsIGltcGxlbWVudHMgQ2hhdE1lZGlhdG9yIHsKICAgIHByaXZhdGUgTGlzdDxVc2VyPiB1c2VyczsKCiAgICBwdWJsaWMgQ2hhdE1lZGlhdG9ySW1wbCgpIHsKICAgICAgICB0aGlzLnVzZXJzID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBhZGRVc2VyKFVzZXIgdXNlcikgewogICAgICAgIHRoaXMudXNlcnMuYWRkKHVzZXIpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc2VuZE1lc3NhZ2UoU3RyaW5nIG1lc3NhZ2UsIFVzZXIgdXNlcikgewogICAgICAgIGZvciAoVXNlciB1IDogdGhpcy51c2VycykgewogICAgICAgICAgICAvLyBObyBlbnZpYXIgZWwgbWlzc2F0Z2UgYSBsJ3VzdWFyaSBxdWUgbCdoYSBlbnZpYXQKICAgICAgICAgICAgaWYgKHUgIT0gdXNlcikgewogICAgICAgICAgICAgICAgdS5yZWNlaXZlKG1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class ChatMediatorImpl implements ChatMediator {
    private List&lt;User&gt; users;

    public ChatMediatorImpl() {
        this.users = new ArrayList&lt;&gt;();
    }

    @Override
    public void addUser(User user) {
        this.users.add(user);
    }

    @Override
    public void sendMessage(String message, User user) {
        for (User u : this.users) {
            // No enviar el missatge a l'usuari que l'ha enviat
            if (u != user) {
                u.receive(message);
            }
        }
    }
}</pre></div><div class='content'><h4>Colleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGFic3RyYWN0IGNsYXNzIFVzZXIgewogICAgcHJvdGVjdGVkIENoYXRNZWRpYXRvciBtZWRpYXRvcjsKICAgIHByb3RlY3RlZCBTdHJpbmcgbmFtZTsKCiAgICBwdWJsaWMgVXNlcihDaGF0TWVkaWF0b3IgbWVkaWF0b3IsIFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5tZWRpYXRvciA9IG1lZGlhdG9yOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IHZvaWQgc2VuZChTdHJpbmcgbWVzc2FnZSk7CiAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCByZWNlaXZlKFN0cmluZyBtZXNzYWdlKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public abstract class User {
    protected ChatMediator mediator;
    protected String name;

    public User(ChatMediator mediator, String name) {
        this.mediator = mediator;
        this.name = name;
    }

    public abstract void send(String message);
    public abstract void receive(String message);
}</pre></div><div class='content'><h4>ConcreteColleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFVzZXJJbXBsIGV4dGVuZHMgVXNlciB7CgogICAgcHVibGljIFVzZXJJbXBsKENoYXRNZWRpYXRvciBtZWRpYXRvciwgU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihtZWRpYXRvciwgbmFtZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzZW5kKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRoaXMubmFtZSArICI6IEVudmlhbnQgbWlzc2F0Z2UgPSAiICsgbWVzc2FnZSk7CiAgICAgICAgbWVkaWF0b3Iuc2VuZE1lc3NhZ2UobWVzc2FnZSwgdGhpcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZWNlaXZlKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRoaXMubmFtZSArICI6IFJlYnV0IG1pc3NhdGdlID0gIiArIG1lc3NhZ2UpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class UserImpl extends User {

    public UserImpl(ChatMediator mediator, String name) {
        super(mediator, name);
    }

    @Override
    public void send(String message) {
        System.out.println(this.name + &quot;: Enviant missatge = &quot; + message);
        mediator.sendMessage(message, this);
    }

    @Override
    public void receive(String message) {
        System.out.println(this.name + &quot;: Rebut missatge = &quot; + message);
    }
}</pre></div><div class='content'><h4>Client</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1lZGlhdG9yUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENoYXRNZWRpYXRvciBtZWRpYXRvciA9IG5ldyBDaGF0TWVkaWF0b3JJbXBsKCk7CgogICAgICAgIFVzZXIgdXNlcjEgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJBbGljZSIpOwogICAgICAgIFVzZXIgdXNlcjIgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJCb2IiKTsKICAgICAgICBVc2VyIHVzZXIzID0gbmV3IFVzZXJJbXBsKG1lZGlhdG9yLCAiQ2hhcmxpZSIpOwogICAgICAgIFVzZXIgdXNlcjQgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJEaWFuYSIpOwoKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIxKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIyKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIzKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXI0KTsKCiAgICAgICAgdXNlcjEuc2VuZCgiSG9sYSBhIHRvdHMhIik7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MediatorPatternDemo {
    public static void main(String[] args) {
        ChatMediator mediator = new ChatMediatorImpl();

        User user1 = new UserImpl(mediator, &quot;Alice&quot;);
        User user2 = new UserImpl(mediator, &quot;Bob&quot;);
        User user3 = new UserImpl(mediator, &quot;Charlie&quot;);
        User user4 = new UserImpl(mediator, &quot;Diana&quot;);

        mediator.addUser(user1);
        mediator.addUser(user2);
        mediator.addUser(user3);
        mediator.addUser(user4);

        user1.send(&quot;Hola a tots!&quot;);
    }
}</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><strong>ChatMediator Interface:</strong> Defineix els mètodes per enviar missatges i afegir usuaris.</li>
<li><strong>ChatMediatorImpl:</strong> Implementa la interfície ChatMediator. Gestiona una llista d'usuaris i envia missatges a tots els usuaris excepte l'emissor.</li>
<li><strong>User:</strong> Classe abstracta que representa un usuari. Conté referències al mediador i el nom de l'usuari.</li>
<li><strong>UserImpl:</strong> Implementa els mètodes send i receive per enviar i rebre missatges.</li>
<li><strong>MediatorPatternDemo:</strong> Classe client que crea el mediador, afegeix usuaris i envia un missatge.</li>
</ol>
</div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Enunciat</p>
</h2>
<div class='content'><p>Implementa un sistema de control de trànsit aeri utilitzant el patró Mediator. El sistema ha de permetre que els avions es comuniquin amb la torre de control per obtenir permís per aterrar o enlairar-se.</p>
</div><h2><p>Solució</p>
</h2>
<div class='content'><h4>Mediator Interface</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBBaXJUcmFmZmljQ29udHJvbCB7CiAgICB2b2lkIHJlcXVlc3RMYW5kaW5nKEFpcnBsYW5lIGFpcnBsYW5lKTsKICAgIHZvaWQgcmVxdWVzdFRha2VvZmYoQWlycGxhbmUgYWlycGxhbmUpOwogICAgdm9pZCBhZGRBaXJwbGFuZShBaXJwbGFuZSBhaXJwbGFuZSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface AirTrafficControl {
    void requestLanding(Airplane airplane);
    void requestTakeoff(Airplane airplane);
    void addAirplane(Airplane airplane);
}</pre></div><div class='content'><h4>ConcreteMediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBBaXJUcmFmZmljQ29udHJvbEltcGwgaW1wbGVtZW50cyBBaXJUcmFmZmljQ29udHJvbCB7CiAgICBwcml2YXRlIExpc3Q8QWlycGxhbmU+IGFpcnBsYW5lczsKCiAgICBwdWJsaWMgQWlyVHJhZmZpY0NvbnRyb2xJbXBsKCkgewogICAgICAgIHRoaXMuYWlycGxhbmVzID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBhZGRBaXJwbGFuZShBaXJwbGFuZSBhaXJwbGFuZSkgewogICAgICAgIHRoaXMuYWlycGxhbmVzLmFkZChhaXJwbGFuZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZXF1ZXN0TGFuZGluZyhBaXJwbGFuZSBhaXJwbGFuZSkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVG9ycmUgZGUgQ29udHJvbDogUGVybcOtcyBwZXIgYXRlcnJhciBjb25jZWRpdCBhICIgKyBhaXJwbGFuZS5nZXROYW1lKCkpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgcmVxdWVzdFRha2VvZmYoQWlycGxhbmUgYWlycGxhbmUpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRvcnJlIGRlIENvbnRyb2w6IFBlcm3DrXMgcGVyIGVubGFpcmFyLXNlIGNvbmNlZGl0IGEgIiArIGFpcnBsYW5lLmdldE5hbWUoKSk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class AirTrafficControlImpl implements AirTrafficControl {
    private List&lt;Airplane&gt; airplanes;

    public AirTrafficControlImpl() {
        this.airplanes = new ArrayList&lt;&gt;();
    }

    @Override
    public void addAirplane(Airplane airplane) {
        this.airplanes.add(airplane);
    }

    @Override
    public void requestLanding(Airplane airplane) {
        System.out.println(&quot;Torre de Control: Perm&iacute;s per aterrar concedit a &quot; + airplane.getName());
    }

    @Override
    public void requestTakeoff(Airplane airplane) {
        System.out.println(&quot;Torre de Control: Perm&iacute;s per enlairar-se concedit a &quot; + airplane.getName());
    }
}</pre></div><div class='content'><h4>Colleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGFic3RyYWN0IGNsYXNzIEFpcnBsYW5lIHsKICAgIHByb3RlY3RlZCBBaXJUcmFmZmljQ29udHJvbCBjb250cm9sOwogICAgcHJvdGVjdGVkIFN0cmluZyBuYW1lOwoKICAgIHB1YmxpYyBBaXJwbGFuZShBaXJUcmFmZmljQ29udHJvbCBjb250cm9sLCBTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMuY29udHJvbCA9IGNvbnRyb2w7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IHZvaWQgcmVxdWVzdExhbmRpbmcoKTsKICAgIHB1YmxpYyBhYnN0cmFjdCB2b2lkIHJlcXVlc3RUYWtlb2ZmKCk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public abstract class Airplane {
    protected AirTrafficControl control;
    protected String name;

    public Airplane(AirTrafficControl control, String name) {
        this.control = control;
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public abstract void requestLanding();
    public abstract void requestTakeoff();
}</pre></div><div class='content'><h4>ConcreteColleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEFpcnBsYW5lSW1wbCBleHRlbmRzIEFpcnBsYW5lIHsKCiAgICBwdWJsaWMgQWlycGxhbmVJbXBsKEFpclRyYWZmaWNDb250cm9sIGNvbnRyb2wsIFN0cmluZyBuYW1lKSB7CiAgICAgICAgc3VwZXIoY29udHJvbCwgbmFtZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZXF1ZXN0TGFuZGluZygpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4odGhpcy5uYW1lICsgIjogU29swrdsaWNpdGFudCBwZXJtw61zIHBlciBhdGVycmFyLiIpOwogICAgICAgIGNvbnRyb2wucmVxdWVzdExhbmRpbmcodGhpcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZXF1ZXN0VGFrZW9mZigpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4odGhpcy5uYW1lICsgIjogU29swrdsaWNpdGFudCBwZXJtw61zIHBlciBlbmxhaXJhci1zZS4iKTsKICAgICAgICBjb250cm9sLnJlcXVlc3RUYWtlb2ZmKHRoaXMpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class AirplaneImpl extends Airplane {

    public AirplaneImpl(AirTrafficControl control, String name) {
        super(control, name);
    }

    @Override
    public void requestLanding() {
        System.out.println(this.name + &quot;: Sol&middot;licitant perm&iacute;s per aterrar.&quot;);
        control.requestLanding(this);
    }

    @Override
    public void requestTakeoff() {
        System.out.println(this.name + &quot;: Sol&middot;licitant perm&iacute;s per enlairar-se.&quot;);
        control.requestTakeoff(this);
    }
}</pre></div><div class='content'><h4>Client</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1lZGlhdG9yUGF0dGVybkFpclRyYWZmaWNDb250cm9sRGVtbyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgQWlyVHJhZmZpY0NvbnRyb2wgY29udHJvbCA9IG5ldyBBaXJUcmFmZmljQ29udHJvbEltcGwoKTsKCiAgICAgICAgQWlycGxhbmUgYWlycGxhbmUxID0gbmV3IEFpcnBsYW5lSW1wbChjb250cm9sLCAiQXZpw7MgMSIpOwogICAgICAgIEFpcnBsYW5lIGFpcnBsYW5lMiA9IG5ldyBBaXJwbGFuZUltcGwoY29udHJvbCwgIkF2acOzIDIiKTsKCiAgICAgICAgY29udHJvbC5hZGRBaXJwbGFuZShhaXJwbGFuZTEpOwogICAgICAgIGNvbnRyb2wuYWRkQWlycGxhbmUoYWlycGxhbmUyKTsKCiAgICAgICAgYWlycGxhbmUxLnJlcXVlc3RMYW5kaW5nKCk7CiAgICAgICAgYWlycGxhbmUyLnJlcXVlc3RUYWtlb2ZmKCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MediatorPatternAirTrafficControlDemo {
    public static void main(String[] args) {
        AirTrafficControl control = new AirTrafficControlImpl();

        Airplane airplane1 = new AirplaneImpl(control, &quot;Avi&oacute; 1&quot;);
        Airplane airplane2 = new AirplaneImpl(control, &quot;Avi&oacute; 2&quot;);

        control.addAirplane(airplane1);
        control.addAirplane(airplane2);

        airplane1.requestLanding();
        airplane2.requestTakeoff();
    }
}</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><strong>AirTrafficControl Interface:</strong> Defineix els mètodes per sol·licitar aterratges i enlairaments, i per afegir avions.</li>
<li><strong>AirTrafficControlImpl:</strong> Implementa la interfície AirTrafficControl. Gestiona una llista d'avions i concedeix permisos per aterrar i enlairar-se.</li>
<li><strong>Airplane:</strong> Classe abstracta que representa un avió. Conté referències al control de trànsit aeri i el nom de l'avió.</li>
<li><strong>AirplaneImpl:</strong> Implementa els mètodes requestLanding i requestTakeoff per sol·licitar permisos.</li>
<li><strong>MediatorPatternAirTrafficControlDemo:</strong> Classe client que crea el control de trànsit aeri, afegeix avions i sol·licita permisos per aterrar i enlairar-se.</li>
</ol>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>El patró Mediator és una eina poderosa per gestionar la comunicació entre objectes en sistemes complexos. Redueix les dependències directes entre objectes, facilitant la modificació i extensió del sistema. En aquest mòdul, hem vist la teoria del patró Mediator, un exemple pràctic d'una aplicació de xat i un exercici pràctic de control de trànsit aeri. Amb aquests coneixements, estàs preparat per aplicar el patró Mediator en els teus projectes de programari.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-05-iterator' title="Iterator">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-07-memento' title="Memento">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
