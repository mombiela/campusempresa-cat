<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>State</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/04-09-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/04-09-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/04-09-state" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/patrones_diseno/04-09-state" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/patrones_diseno/04-09-state" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-08-observer' title="Observer">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">State</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-10-strategy' title="Strategy">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció al Patró State</h1>
<div class='content'><p>El patró State és un patró de disseny de comportament que permet a un objecte canviar el seu comportament quan el seu estat intern canvia. Aquest patró és especialment útil quan un objecte ha de canviar el seu comportament en funció del seu estat, i aquests canvis de comportament són complexos o nombrosos.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Context</strong>: L'objecte que conté l'estat actual i delega el comportament a l'estat.</li>
<li><strong>State</strong>: Una interfície o classe abstracta que defineix el comportament associat a un estat particular del context.</li>
<li><strong>Concrete States</strong>: Implementacions concretes de la interfície State que defineixen el comportament específic per a un estat particular.</li>
</ul>
</div><h2>Diagrama UML</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCnwgICAgIENvbnRleHQgICAgIHwgICAgICAgICAgfCAgICAgIFN0YXRlICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKfCAtIHN0YXRlOiBTdGF0ZSAgfDw+LS0tLS0tLS18ICsgaGFuZGxlKCk6IHZvaWR8CistLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwp8ICsgcmVxdWVzdCgpOiB2b2lkfCAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCistLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgIF4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQ29uY3JldGVTdGF0ZUEgIHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArIGhhbmRsZSgpOiB2b2lkfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQ29uY3JldGVTdGF0ZUIgIHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArIGhhbmRsZSgpOiB2b2lkfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+-----------------+          +-----------------+
|     Context     |          |      State      |
+-----------------+          +-----------------+
| - state: State  |&lt;&gt;--------| + handle(): void|
+-----------------+          +-----------------+
| + request(): void|          +-----------------+
+-----------------+                    ^
                                       |
                                       |
                             +-----------------+
                             | ConcreteStateA  |
                             +-----------------+
                             | + handle(): void|
                             +-----------------+
                                       ^
                                       |
                             +-----------------+
                             | ConcreteStateB  |
                             +-----------------+
                             | + handle(): void|
                             +-----------------+</pre></div><div class='content'></div><h2>Exemple Pràctic</h2>
<div class='content'><p>Suposem que estem desenvolupant una màquina de cafè que té diferents estats: <code>Ready</code>, <code>Brewing</code>, i <code>OutOfService</code>. Cada estat té un comportament diferent quan es prem el botó de començar.</p>
<h4>Implementació en Java</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW50ZXJmw61jaWUgU3RhdGUKaW50ZXJmYWNlIFN0YXRlIHsKICAgIHZvaWQgaGFuZGxlUmVxdWVzdCgpOwp9CgovLyBFc3RhdCBjb25jcmV0OiBSZWFkeQpjbGFzcyBSZWFkeVN0YXRlIGltcGxlbWVudHMgU3RhdGUgewogICAgcHJpdmF0ZSBDb2ZmZWVNYWNoaW5lIGNvZmZlZU1hY2hpbmU7CgogICAgcHVibGljIFJlYWR5U3RhdGUoQ29mZmVlTWFjaGluZSBjb2ZmZWVNYWNoaW5lKSB7CiAgICAgICAgdGhpcy5jb2ZmZWVNYWNoaW5lID0gY29mZmVlTWFjaGluZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlcXVlc3QoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJTdGFydGluZyB0aGUgYnJld2luZyBwcm9jZXNzLi4uIik7CiAgICAgICAgY29mZmVlTWFjaGluZS5zZXRTdGF0ZShjb2ZmZWVNYWNoaW5lLmdldEJyZXdpbmdTdGF0ZSgpKTsKICAgIH0KfQoKLy8gRXN0YXQgY29uY3JldDogQnJld2luZwpjbGFzcyBCcmV3aW5nU3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7CiAgICBwcml2YXRlIENvZmZlZU1hY2hpbmUgY29mZmVlTWFjaGluZTsKCiAgICBwdWJsaWMgQnJld2luZ1N0YXRlKENvZmZlZU1hY2hpbmUgY29mZmVlTWFjaGluZSkgewogICAgICAgIHRoaXMuY29mZmVlTWFjaGluZSA9IGNvZmZlZU1hY2hpbmU7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZXF1ZXN0KCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQWxyZWFkeSBicmV3aW5nIGNvZmZlZS4uLiIpOwogICAgfQp9CgovLyBFc3RhdCBjb25jcmV0OiBPdXRPZlNlcnZpY2UKY2xhc3MgT3V0T2ZTZXJ2aWNlU3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7CiAgICBwcml2YXRlIENvZmZlZU1hY2hpbmUgY29mZmVlTWFjaGluZTsKCiAgICBwdWJsaWMgT3V0T2ZTZXJ2aWNlU3RhdGUoQ29mZmVlTWFjaGluZSBjb2ZmZWVNYWNoaW5lKSB7CiAgICAgICAgdGhpcy5jb2ZmZWVNYWNoaW5lID0gY29mZmVlTWFjaGluZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlcXVlc3QoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJNYWNoaW5lIGlzIG91dCBvZiBzZXJ2aWNlLiIpOwogICAgfQp9CgovLyBDb250ZXh0OiBDb2ZmZWVNYWNoaW5lCmNsYXNzIENvZmZlZU1hY2hpbmUgewogICAgcHJpdmF0ZSBTdGF0ZSByZWFkeVN0YXRlOwogICAgcHJpdmF0ZSBTdGF0ZSBicmV3aW5nU3RhdGU7CiAgICBwcml2YXRlIFN0YXRlIG91dE9mU2VydmljZVN0YXRlOwoKICAgIHByaXZhdGUgU3RhdGUgY3VycmVudFN0YXRlOwoKICAgIHB1YmxpYyBDb2ZmZWVNYWNoaW5lKCkgewogICAgICAgIHJlYWR5U3RhdGUgPSBuZXcgUmVhZHlTdGF0ZSh0aGlzKTsKICAgICAgICBicmV3aW5nU3RhdGUgPSBuZXcgQnJld2luZ1N0YXRlKHRoaXMpOwogICAgICAgIG91dE9mU2VydmljZVN0YXRlID0gbmV3IE91dE9mU2VydmljZVN0YXRlKHRoaXMpOwoKICAgICAgICBjdXJyZW50U3RhdGUgPSByZWFkeVN0YXRlOyAvLyBJbml0aWFsIHN0YXRlCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3RhdGUoU3RhdGUgc3RhdGUpIHsKICAgICAgICBjdXJyZW50U3RhdGUgPSBzdGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcmVzc0J1dHRvbigpIHsKICAgICAgICBjdXJyZW50U3RhdGUuaGFuZGxlUmVxdWVzdCgpOwogICAgfQoKICAgIHB1YmxpYyBTdGF0ZSBnZXRSZWFkeVN0YXRlKCkgewogICAgICAgIHJldHVybiByZWFkeVN0YXRlOwogICAgfQoKICAgIHB1YmxpYyBTdGF0ZSBnZXRCcmV3aW5nU3RhdGUoKSB7CiAgICAgICAgcmV0dXJuIGJyZXdpbmdTdGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgU3RhdGUgZ2V0T3V0T2ZTZXJ2aWNlU3RhdGUoKSB7CiAgICAgICAgcmV0dXJuIG91dE9mU2VydmljZVN0YXRlOwogICAgfQp9CgovLyBDbGllbnQKcHVibGljIGNsYXNzIFN0YXRlUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENvZmZlZU1hY2hpbmUgY29mZmVlTWFjaGluZSA9IG5ldyBDb2ZmZWVNYWNoaW5lKCk7CgogICAgICAgIGNvZmZlZU1hY2hpbmUucHJlc3NCdXR0b24oKTsgLy8gU3RhcnRpbmcgdGhlIGJyZXdpbmcgcHJvY2Vzcy4uLgogICAgICAgIGNvZmZlZU1hY2hpbmUucHJlc3NCdXR0b24oKTsgLy8gQWxyZWFkeSBicmV3aW5nIGNvZmZlZS4uLgoKICAgICAgICBjb2ZmZWVNYWNoaW5lLnNldFN0YXRlKGNvZmZlZU1hY2hpbmUuZ2V0T3V0T2ZTZXJ2aWNlU3RhdGUoKSk7CiAgICAgICAgY29mZmVlTWFjaGluZS5wcmVzc0J1dHRvbigpOyAvLyBNYWNoaW5lIGlzIG91dCBvZiBzZXJ2aWNlLgogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Interf&iacute;cie State
interface State {
    void handleRequest();
}

// Estat concret: Ready
class ReadyState implements State {
    private CoffeeMachine coffeeMachine;

    public ReadyState(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }

    @Override
    public void handleRequest() {
        System.out.println(&quot;Starting the brewing process...&quot;);
        coffeeMachine.setState(coffeeMachine.getBrewingState());
    }
}

// Estat concret: Brewing
class BrewingState implements State {
    private CoffeeMachine coffeeMachine;

    public BrewingState(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }

    @Override
    public void handleRequest() {
        System.out.println(&quot;Already brewing coffee...&quot;);
    }
}

// Estat concret: OutOfService
class OutOfServiceState implements State {
    private CoffeeMachine coffeeMachine;

    public OutOfServiceState(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }

    @Override
    public void handleRequest() {
        System.out.println(&quot;Machine is out of service.&quot;);
    }
}

// Context: CoffeeMachine
class CoffeeMachine {
    private State readyState;
    private State brewingState;
    private State outOfServiceState;

    private State currentState;

    public CoffeeMachine() {
        readyState = new ReadyState(this);
        brewingState = new BrewingState(this);
        outOfServiceState = new OutOfServiceState(this);

        currentState = readyState; // Initial state
    }

    public void setState(State state) {
        currentState = state;
    }

    public void pressButton() {
        currentState.handleRequest();
    }

    public State getReadyState() {
        return readyState;
    }

    public State getBrewingState() {
        return brewingState;
    }

    public State getOutOfServiceState() {
        return outOfServiceState;
    }
}

// Client
public class StatePatternDemo {
    public static void main(String[] args) {
        CoffeeMachine coffeeMachine = new CoffeeMachine();

        coffeeMachine.pressButton(); // Starting the brewing process...
        coffeeMachine.pressButton(); // Already brewing coffee...

        coffeeMachine.setState(coffeeMachine.getOutOfServiceState());
        coffeeMachine.pressButton(); // Machine is out of service.
    }
}</pre></div><div class='content'></div><h2>Exercici Pràctic</h2>
<div class='content'><h4>Enunciat</h4>
<p>Implementa un sistema de semàfor utilitzant el patró State. El semàfor ha de tenir tres estats: <code>Red</code>, <code>Yellow</code>, i <code>Green</code>. Cada estat ha de tenir un comportament diferent quan es canvia l'estat.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW50ZXJmw61jaWUgU3RhdGUKaW50ZXJmYWNlIFRyYWZmaWNMaWdodFN0YXRlIHsKICAgIHZvaWQgY2hhbmdlKFRyYWZmaWNMaWdodCB0cmFmZmljTGlnaHQpOwp9CgovLyBFc3RhdCBjb25jcmV0OiBSZWQKY2xhc3MgUmVkU3RhdGUgaW1wbGVtZW50cyBUcmFmZmljTGlnaHRTdGF0ZSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGNoYW5nZShUcmFmZmljTGlnaHQgdHJhZmZpY0xpZ2h0KSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJDaGFuZ2luZyBmcm9tIFJlZCB0byBHcmVlbi4uLiIpOwogICAgICAgIHRyYWZmaWNMaWdodC5zZXRTdGF0ZShuZXcgR3JlZW5TdGF0ZSgpKTsKICAgIH0KfQoKLy8gRXN0YXQgY29uY3JldDogWWVsbG93CmNsYXNzIFllbGxvd1N0YXRlIGltcGxlbWVudHMgVHJhZmZpY0xpZ2h0U3RhdGUgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBjaGFuZ2UoVHJhZmZpY0xpZ2h0IHRyYWZmaWNMaWdodCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQ2hhbmdpbmcgZnJvbSBZZWxsb3cgdG8gUmVkLi4uIik7CiAgICAgICAgdHJhZmZpY0xpZ2h0LnNldFN0YXRlKG5ldyBSZWRTdGF0ZSgpKTsKICAgIH0KfQoKLy8gRXN0YXQgY29uY3JldDogR3JlZW4KY2xhc3MgR3JlZW5TdGF0ZSBpbXBsZW1lbnRzIFRyYWZmaWNMaWdodFN0YXRlIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgY2hhbmdlKFRyYWZmaWNMaWdodCB0cmFmZmljTGlnaHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkNoYW5naW5nIGZyb20gR3JlZW4gdG8gWWVsbG93Li4uIik7CiAgICAgICAgdHJhZmZpY0xpZ2h0LnNldFN0YXRlKG5ldyBZZWxsb3dTdGF0ZSgpKTsKICAgIH0KfQoKLy8gQ29udGV4dDogVHJhZmZpY0xpZ2h0CmNsYXNzIFRyYWZmaWNMaWdodCB7CiAgICBwcml2YXRlIFRyYWZmaWNMaWdodFN0YXRlIHN0YXRlOwoKICAgIHB1YmxpYyBUcmFmZmljTGlnaHQoKSB7CiAgICAgICAgc3RhdGUgPSBuZXcgUmVkU3RhdGUoKTsgLy8gSW5pdGlhbCBzdGF0ZQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0YXRlKFRyYWZmaWNMaWdodFN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNoYW5nZSgpIHsKICAgICAgICBzdGF0ZS5jaGFuZ2UodGhpcyk7CiAgICB9Cn0KCi8vIENsaWVudApwdWJsaWMgY2xhc3MgVHJhZmZpY0xpZ2h0RGVtbyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgVHJhZmZpY0xpZ2h0IHRyYWZmaWNMaWdodCA9IG5ldyBUcmFmZmljTGlnaHQoKTsKCiAgICAgICAgdHJhZmZpY0xpZ2h0LmNoYW5nZSgpOyAvLyBDaGFuZ2luZyBmcm9tIFJlZCB0byBHcmVlbi4uLgogICAgICAgIHRyYWZmaWNMaWdodC5jaGFuZ2UoKTsgLy8gQ2hhbmdpbmcgZnJvbSBHcmVlbiB0byBZZWxsb3cuLi4KICAgICAgICB0cmFmZmljTGlnaHQuY2hhbmdlKCk7IC8vIENoYW5naW5nIGZyb20gWWVsbG93IHRvIFJlZC4uLgogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Interf&iacute;cie State
interface TrafficLightState {
    void change(TrafficLight trafficLight);
}

// Estat concret: Red
class RedState implements TrafficLightState {
    @Override
    public void change(TrafficLight trafficLight) {
        System.out.println(&quot;Changing from Red to Green...&quot;);
        trafficLight.setState(new GreenState());
    }
}

// Estat concret: Yellow
class YellowState implements TrafficLightState {
    @Override
    public void change(TrafficLight trafficLight) {
        System.out.println(&quot;Changing from Yellow to Red...&quot;);
        trafficLight.setState(new RedState());
    }
}

// Estat concret: Green
class GreenState implements TrafficLightState {
    @Override
    public void change(TrafficLight trafficLight) {
        System.out.println(&quot;Changing from Green to Yellow...&quot;);
        trafficLight.setState(new YellowState());
    }
}

// Context: TrafficLight
class TrafficLight {
    private TrafficLightState state;

    public TrafficLight() {
        state = new RedState(); // Initial state
    }

    public void setState(TrafficLightState state) {
        this.state = state;
    }

    public void change() {
        state.change(this);
    }
}

// Client
public class TrafficLightDemo {
    public static void main(String[] args) {
        TrafficLight trafficLight = new TrafficLight();

        trafficLight.change(); // Changing from Red to Green...
        trafficLight.change(); // Changing from Green to Yellow...
        trafficLight.change(); // Changing from Yellow to Red...
    }
}</pre></div><div class='content'></div><h2>Errors Comuns i Consells</h2>
<div class='content'><ul>
<li><strong>No encapsular l'estat</strong>: Assegura't que l'estat estigui encapsulat dins del context i que només es pugui canviar a través de mètodes definits.</li>
<li><strong>No definir comportaments específics en el context</strong>: Mantingues els comportaments específics dins de les classes d'estat concret per seguir el principi de responsabilitat única.</li>
<li><strong>No gestionar correctament les transicions d'estat</strong>: Assegura't que les transicions d'estat siguin clares i gestionades adequadament per evitar inconsistències.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>El patró State permet que un objecte canviï el seu comportament quan el seu estat intern canvia. Aquest patró és útil per gestionar comportaments complexos que depenen de l'estat de l'objecte. Hem vist un exemple pràctic amb una màquina de cafè i un exercici amb un sistema de semàfor. A més, hem destacat alguns errors comuns i consells per evitar-los.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-08-observer' title="Observer">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-10-strategy' title="Strategy">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
