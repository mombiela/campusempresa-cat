<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curs de Patrons de Disseny de Programari</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/2-2-singleton" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/2-2-singleton" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/2-2-singleton" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/patrones_diseno/2-2-singleton" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/2-2-singleton" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='2-1-introduccio-creacionals'>&#x25C4;Introducció als Patrons Creacionals</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curs de Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='2-3-factory-method'>Factory Method &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Mòdul 2: Patrons Creacionals</h1>
<div class='content'></div><h2>Singleton</h2>
<div class='content'><h4>Què és el Patró Singleton?</h4>
<p>El patró Singleton és un patró de disseny creacional que assegura que una classe tingui només una instància i proporciona un punt d'accés global a aquesta instància. És útil quan es necessita exactament un objecte per coordinar accions en tot el sistema.</p>
<h4>Característiques Clau del Patró Singleton</h4>
<ul>
<li><strong>Única Instància</strong>: Garanteix que només hi hagi una instància d'una classe.</li>
<li><strong>Accés Global</strong>: Proporciona un punt d'accés global a aquesta instància.</li>
<li><strong>Control de Creació</strong>: Controla l'instanciació de la classe.</li>
</ul>
<h4>Implementació del Patró Singleton</h4>
<p>A continuació es mostra una implementació bàsica del patró Singleton en Java:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFNpbmdsZXRvbiB7CiAgICAvLyBJbnN0w6BuY2lhIMO6bmljYSBkZSBsYSBjbGFzc2UKICAgIHByaXZhdGUgc3RhdGljIFNpbmdsZXRvbiBpbnN0YW5jZTsKCiAgICAvLyBDb25zdHJ1Y3RvciBwcml2YXQgcGVyIGV2aXRhciBsYSBpbnN0YW5jaWFjacOzIGV4dGVybmEKICAgIHByaXZhdGUgU2luZ2xldG9uKCkge30KCiAgICAvLyBNw6h0b2RlIHDDumJsaWMgcGVyIG9idGVuaXIgbGEgaW5zdMOgbmNpYSDDum5pY2EKICAgIHB1YmxpYyBzdGF0aWMgU2luZ2xldG9uIGdldEluc3RhbmNlKCkgewogICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7CiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFNpbmdsZXRvbigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Singleton {
    // Inst&agrave;ncia &uacute;nica de la classe
    private static Singleton instance;

    // Constructor privat per evitar la instanciaci&oacute; externa
    private Singleton() {}

    // M&egrave;tode p&uacute;blic per obtenir la inst&agrave;ncia &uacute;nica
    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}</pre></div><div class='content'><h4>Explicació del Codi</h4>
<ol>
<li><strong>Instància Única</strong>: La variable <code>instance</code> és una referència estàtica a l'única instància de la classe.</li>
<li><strong>Constructor Privat</strong>: El constructor és privat per evitar que altres classes puguin crear una nova instància de la classe <code>Singleton</code>.</li>
<li><strong>Mètode <code>getInstance</code></strong>: Aquest mètode comprova si l'instància és <code>null</code>. Si ho és, crea una nova instància de <code>Singleton</code>. Si no, retorna l'instància existent.</li>
</ol>
<h4>Exemple Pràctic</h4>
<p>Suposem que estem desenvolupant una aplicació que necessita un únic gestor de configuració. Podem utilitzar el patró Singleton per assegurar-nos que només hi hagi un gestor de configuració en tota l'aplicació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENvbmZpZ01hbmFnZXIgewogICAgcHJpdmF0ZSBzdGF0aWMgQ29uZmlnTWFuYWdlciBpbnN0YW5jZTsKICAgIHByaXZhdGUgUHJvcGVydGllcyBjb25maWdQcm9wZXJ0aWVzOwoKICAgIHByaXZhdGUgQ29uZmlnTWFuYWdlcigpIHsKICAgICAgICAvLyBDYXJyZWdhciBjb25maWd1cmFjaW9ucyBkZXMgZCd1biBmaXR4ZXIKICAgICAgICBjb25maWdQcm9wZXJ0aWVzID0gbmV3IFByb3BlcnRpZXMoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25maWdQcm9wZXJ0aWVzLmxvYWQobmV3IEZpbGVJbnB1dFN0cmVhbSgiY29uZmlnLnByb3BlcnRpZXMiKSk7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIENvbmZpZ01hbmFnZXIgZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHsKICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgQ29uZmlnTWFuYWdlcigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25maWdWYWx1ZShTdHJpbmcga2V5KSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZ1Byb3BlcnRpZXMuZ2V0UHJvcGVydHkoa2V5KTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ConfigManager {
    private static ConfigManager instance;
    private Properties configProperties;

    private ConfigManager() {
        // Carregar configuracions des d'un fitxer
        configProperties = new Properties();
        try {
            configProperties.load(new FileInputStream(&quot;config.properties&quot;));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static ConfigManager getInstance() {
        if (instance == null) {
            instance = new ConfigManager();
        }
        return instance;
    }

    public String getConfigValue(String key) {
        return configProperties.getProperty(key);
    }
}</pre></div><div class='content'><h4>Avantatges del Patró Singleton</h4>
<ul>
<li><strong>Control d'Accés</strong>: Proporciona un punt d'accés global a la instància única.</li>
<li><strong>Reducció de Recursos</strong>: Evita la creació de múltiples instàncies, estalviant recursos.</li>
<li><strong>Coordinació Global</strong>: Facilita la coordinació d'accions en tot el sistema.</li>
</ul>
<h4>Desavantatges del Patró Singleton</h4>
<ul>
<li><strong>Dificultat en les Proves</strong>: Pot ser difícil de provar perquè no es pot substituir fàcilment la instància única.</li>
<li><strong>Problemes de Concurrència</strong>: Pot ser complicat implementar-lo de manera segura en entorns multithread.</li>
<li><strong>Acoblament</strong>: Pot augmentar l'acoblament entre classes, ja que moltes classes poden dependre de la instància única.</li>
</ul>
<h4>Variants del Patró Singleton</h4>
<ul>
<li><strong>Singleton Eager</strong>: La instància es crea en el moment de la càrrega de la classe.</li>
<li><strong>Singleton Lazy</strong>: La instància es crea només quan es necessita.</li>
<li><strong>Singleton Thread-Safe</strong>: Utilitza mecanismes de sincronització per assegurar que només una instància es crea en entorns multithread.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2luZ2xldG9uIEVhZ2VyCnB1YmxpYyBjbGFzcyBFYWdlclNpbmdsZXRvbiB7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBFYWdlclNpbmdsZXRvbiBpbnN0YW5jZSA9IG5ldyBFYWdlclNpbmdsZXRvbigpOwoKICAgIHByaXZhdGUgRWFnZXJTaW5nbGV0b24oKSB7fQoKICAgIHB1YmxpYyBzdGF0aWMgRWFnZXJTaW5nbGV0b24gZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlOwogICAgfQp9CgovLyBTaW5nbGV0b24gVGhyZWFkLVNhZmUKcHVibGljIGNsYXNzIFRocmVhZFNhZmVTaW5nbGV0b24gewogICAgcHJpdmF0ZSBzdGF0aWMgVGhyZWFkU2FmZVNpbmdsZXRvbiBpbnN0YW5jZTsKCiAgICBwcml2YXRlIFRocmVhZFNhZmVTaW5nbGV0b24oKSB7fQoKICAgIHB1YmxpYyBzdGF0aWMgc3luY2hyb25pemVkIFRocmVhZFNhZmVTaW5nbGV0b24gZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHsKICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgVGhyZWFkU2FmZVNpbmdsZXRvbigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Singleton Eager
public class EagerSingleton {
    private static final EagerSingleton instance = new EagerSingleton();

    private EagerSingleton() {}

    public static EagerSingleton getInstance() {
        return instance;
    }
}

// Singleton Thread-Safe
public class ThreadSafeSingleton {
    private static ThreadSafeSingleton instance;

    private ThreadSafeSingleton() {}

    public static synchronized ThreadSafeSingleton getInstance() {
        if (instance == null) {
            instance = new ThreadSafeSingleton();
        }
        return instance;
    }
}</pre></div><div class='content'><h4>Conclusió</h4>
<p>El patró Singleton és una eina poderosa per assegurar que només hi hagi una instància d'una classe en tot el sistema, proporcionant un punt d'accés global a aquesta instància. Tot i que té avantatges significatius, com el control d'accés i la reducció de recursos, també presenta desavantatges com la dificultat en les proves i els problemes de concurrència. És important considerar aquests factors abans d'implementar el patró Singleton en el teu projecte.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='2-1-introduccio-creacionals'>&#x25C4;Introducció als Patrons Creacionals</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curs de Patrons de Disseny de Programari</a>
	</div>
	<div class='col-4 text-end'>
					<a href='2-3-factory-method'>Factory Method &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
