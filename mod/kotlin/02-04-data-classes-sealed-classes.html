<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Classes de Dades i Classes Segellades</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/02-04-data-classes-sealed-classes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/02-04-data-classes-sealed-classes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/02-04-data-classes-sealed-classes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/kotlin/02-04-data-classes-sealed-classes" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/kotlin/02-04-data-classes-sealed-classes" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-03-visibility-modifiers' title="Modificadors de Visibilitat">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Classes de Dades i Classes Segellades</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-05-object-declarations-companion-objects' title="Declaracions d'Objectes i Objectes Companys">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem dos tipus especials de classes en Kotlin: les classes de dades i les classes segellades. Aquests tipus de classes ofereixen funcionalitats específiques que poden simplificar el codi i millorar la seva llegibilitat i mantenibilitat.</p>
</div><h1>Classes de Dades</h1>
<div class='content'><p>Les classes de dades (data classes) en Kotlin són classes que es fan servir principalment per emmagatzemar dades. Kotlin proporciona una manera senzilla de crear aquestes classes amb funcionalitats automàtiques com <code>equals()</code>, <code>hashCode()</code>, <code>toString()</code>, i <code>copy()</code>.</p>
</div><h2>Definició d'una Classe de Dades</h2>
<div class='content'><p>Per definir una classe de dades, utilitzem la paraula clau <code>data</code> davant de la declaració de la classe:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSBjbGFzcyBQZXJzb25hKHZhbCBub206IFN0cmluZywgdmFsIGVkYXQ6IEludCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data class Persona(val nom: String, val edat: Int)</pre></div><div class='content'></div><h2>Funcionalitats Automàtiques</h2>
<div class='content'><p>Quan definim una classe de dades, Kotlin genera automàticament les següents funcions:</p>
<ul>
<li><code>equals()</code>: Compara dues instàncies de la classe per veure si són iguals.</li>
<li><code>hashCode()</code>: Genera un codi hash per a l'objecte.</li>
<li><code>toString()</code>: Proporciona una representació en forma de cadena de l'objecte.</li>
<li><code>copy()</code>: Crea una còpia de l'objecte amb la possibilitat de modificar algunes de les seves propietats.</li>
</ul>
</div><h2>Exemple Pràctic</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIG1haW4oKSB7CiAgICB2YWwgcGVyc29uYTEgPSBQZXJzb25hKCJKb2FuIiwgMzApCiAgICB2YWwgcGVyc29uYTIgPSBQZXJzb25hKCJKb2FuIiwgMzApCiAgICAKICAgIC8vIGVxdWFscygpIGkgaGFzaENvZGUoKQogICAgcHJpbnRsbihwZXJzb25hMSA9PSBwZXJzb25hMikgLy8gdHJ1ZQogICAgcHJpbnRsbihwZXJzb25hMS5oYXNoQ29kZSgpID09IHBlcnNvbmEyLmhhc2hDb2RlKCkpIC8vIHRydWUKICAgIAogICAgLy8gdG9TdHJpbmcoKQogICAgcHJpbnRsbihwZXJzb25hMSkgLy8gUGVyc29uYShub209Sm9hbiwgZWRhdD0zMCkKICAgIAogICAgLy8gY29weSgpCiAgICB2YWwgcGVyc29uYTMgPSBwZXJzb25hMS5jb3B5KGVkYXQgPSAzMSkKICAgIHByaW50bG4ocGVyc29uYTMpIC8vIFBlcnNvbmEobm9tPUpvYW4sIGVkYXQ9MzEpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun main() {
    val persona1 = Persona(&quot;Joan&quot;, 30)
    val persona2 = Persona(&quot;Joan&quot;, 30)
    
    // equals() i hashCode()
    println(persona1 == persona2) // true
    println(persona1.hashCode() == persona2.hashCode()) // true
    
    // toString()
    println(persona1) // Persona(nom=Joan, edat=30)
    
    // copy()
    val persona3 = persona1.copy(edat = 31)
    println(persona3) // Persona(nom=Joan, edat=31)
}</pre></div><div class='content'></div><h2>Exercici Pràctic</h2>
<div class='content'><p><strong>Exercici 1:</strong> Defineix una classe de dades anomenada <code>Producte</code> amb les propietats <code>nom</code> (String) i <code>preu</code> (Double). Crea dues instàncies de <code>Producte</code> amb els mateixos valors i comprova si són iguals. Després, crea una còpia d'una de les instàncies canviant el preu.</p>
<p><strong>Solució:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSBjbGFzcyBQcm9kdWN0ZSh2YWwgbm9tOiBTdHJpbmcsIHZhbCBwcmV1OiBEb3VibGUpCgpmdW4gbWFpbigpIHsKICAgIHZhbCBwcm9kdWN0ZTEgPSBQcm9kdWN0ZSgiTGxpYnJlIiwgMTUuOTkpCiAgICB2YWwgcHJvZHVjdGUyID0gUHJvZHVjdGUoIkxsaWJyZSIsIDE1Ljk5KQogICAgCiAgICAvLyBlcXVhbHMoKSBpIGhhc2hDb2RlKCkKICAgIHByaW50bG4ocHJvZHVjdGUxID09IHByb2R1Y3RlMikgLy8gdHJ1ZQogICAgcHJpbnRsbihwcm9kdWN0ZTEuaGFzaENvZGUoKSA9PSBwcm9kdWN0ZTIuaGFzaENvZGUoKSkgLy8gdHJ1ZQogICAgCiAgICAvLyBjb3B5KCkKICAgIHZhbCBwcm9kdWN0ZTMgPSBwcm9kdWN0ZTEuY29weShwcmV1ID0gMTIuOTkpCiAgICBwcmludGxuKHByb2R1Y3RlMykgLy8gUHJvZHVjdGUobm9tPUxsaWJyZSwgcHJldT0xMi45OSkKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data class Producte(val nom: String, val preu: Double)

fun main() {
    val producte1 = Producte(&quot;Llibre&quot;, 15.99)
    val producte2 = Producte(&quot;Llibre&quot;, 15.99)
    
    // equals() i hashCode()
    println(producte1 == producte2) // true
    println(producte1.hashCode() == producte2.hashCode()) // true
    
    // copy()
    val producte3 = producte1.copy(preu = 12.99)
    println(producte3) // Producte(nom=Llibre, preu=12.99)
}</pre></div><div class='content'></div><h1>Classes Segellades</h1>
<div class='content'><p>Les classes segellades (sealed classes) són una manera de representar jerarquies de classes restringides. Una classe segellada pot tenir subclasses, però totes aquestes subclasses han d'estar declarades dins del mateix fitxer que la classe segellada.</p>
</div><h2>Definició d'una Classe Segellada</h2>
<div class='content'><p>Per definir una classe segellada, utilitzem la paraula clau <code>sealed</code> davant de la declaració de la classe:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIFJlc3VsdGF0CmRhdGEgY2xhc3Mgw4h4aXQodmFsIGRhZGVzOiBTdHJpbmcpIDogUmVzdWx0YXQoKQpkYXRhIGNsYXNzIEVycm9yKHZhbCBtaXNzYXRnZTogU3RyaW5nKSA6IFJlc3VsdGF0KCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class Resultat
data class &Egrave;xit(val dades: String) : Resultat()
data class Error(val missatge: String) : Resultat()</pre></div><div class='content'></div><h2>Ús de les Classes Segellades</h2>
<div class='content'><p>Les classes segellades són útils quan volem representar un conjunt limitat de possibles tipus de resultats. Podem utilitzar una expressió <code>when</code> per manejar cada tipus de resultat de manera exhaustiva.</p>
</div><h2>Exemple Pràctic</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIG1hbmVqYXJSZXN1bHRhdChyZXN1bHRhdDogUmVzdWx0YXQpIHsKICAgIHdoZW4gKHJlc3VsdGF0KSB7CiAgICAgICAgaXMgw4h4aXQgLT4gcHJpbnRsbigiw4h4aXQ6ICR7cmVzdWx0YXQuZGFkZXN9IikKICAgICAgICBpcyBFcnJvciAtPiBwcmludGxuKCJFcnJvcjogJHtyZXN1bHRhdC5taXNzYXRnZX0iKQogICAgfQp9CgpmdW4gbWFpbigpIHsKICAgIHZhbCByZXN1bHRhdDE6IFJlc3VsdGF0ID0gw4h4aXQoIkRhZGVzIGNhcnJlZ2FkZXMgY29ycmVjdGFtZW50IikKICAgIHZhbCByZXN1bHRhdDI6IFJlc3VsdGF0ID0gRXJyb3IoIkVycm9yIGRlIHhhcnhhIikKICAgIAogICAgbWFuZWphclJlc3VsdGF0KHJlc3VsdGF0MSkgLy8gw4h4aXQ6IERhZGVzIGNhcnJlZ2FkZXMgY29ycmVjdGFtZW50CiAgICBtYW5lamFyUmVzdWx0YXQocmVzdWx0YXQyKSAvLyBFcnJvcjogRXJyb3IgZGUgeGFyeGEKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun manejarResultat(resultat: Resultat) {
    when (resultat) {
        is &Egrave;xit -&gt; println(&quot;&Egrave;xit: ${resultat.dades}&quot;)
        is Error -&gt; println(&quot;Error: ${resultat.missatge}&quot;)
    }
}

fun main() {
    val resultat1: Resultat = &Egrave;xit(&quot;Dades carregades correctament&quot;)
    val resultat2: Resultat = Error(&quot;Error de xarxa&quot;)
    
    manejarResultat(resultat1) // &Egrave;xit: Dades carregades correctament
    manejarResultat(resultat2) // Error: Error de xarxa
}</pre></div><div class='content'></div><h2>Exercici Pràctic</h2>
<div class='content'><p><strong>Exercici 2:</strong> Defineix una classe segellada anomenada <code>Resposta</code> amb dues subclasses: <code>Correcte</code> (amb una propietat <code>dades</code> de tipus String) i <code>Incorrecte</code> (amb una propietat <code>missatge</code> de tipus String). Crea una funció que prengui una instància de <code>Resposta</code> i imprimeixi un missatge diferent segons el tipus de resposta.</p>
<p><strong>Solució:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIFJlc3Bvc3RhCmRhdGEgY2xhc3MgQ29ycmVjdGUodmFsIGRhZGVzOiBTdHJpbmcpIDogUmVzcG9zdGEoKQpkYXRhIGNsYXNzIEluY29ycmVjdGUodmFsIG1pc3NhdGdlOiBTdHJpbmcpIDogUmVzcG9zdGEoKQoKZnVuIG1hbmVqYXJSZXNwb3N0YShyZXNwb3N0YTogUmVzcG9zdGEpIHsKICAgIHdoZW4gKHJlc3Bvc3RhKSB7CiAgICAgICAgaXMgQ29ycmVjdGUgLT4gcHJpbnRsbigiQ29ycmVjdGU6ICR7cmVzcG9zdGEuZGFkZXN9IikKICAgICAgICBpcyBJbmNvcnJlY3RlIC0+IHByaW50bG4oIkluY29ycmVjdGU6ICR7cmVzcG9zdGEubWlzc2F0Z2V9IikKICAgIH0KfQoKZnVuIG1haW4oKSB7CiAgICB2YWwgcmVzcG9zdGExOiBSZXNwb3N0YSA9IENvcnJlY3RlKCJPcGVyYWNpw7MgY29tcGxldGFkYSIpCiAgICB2YWwgcmVzcG9zdGEyOiBSZXNwb3N0YSA9IEluY29ycmVjdGUoIkVycm9yIGVuIGwnb3BlcmFjacOzIikKICAgIAogICAgbWFuZWphclJlc3Bvc3RhKHJlc3Bvc3RhMSkgLy8gQ29ycmVjdGU6IE9wZXJhY2nDsyBjb21wbGV0YWRhCiAgICBtYW5lamFyUmVzcG9zdGEocmVzcG9zdGEyKSAvLyBJbmNvcnJlY3RlOiBFcnJvciBlbiBsJ29wZXJhY2nDswp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class Resposta
data class Correcte(val dades: String) : Resposta()
data class Incorrecte(val missatge: String) : Resposta()

fun manejarResposta(resposta: Resposta) {
    when (resposta) {
        is Correcte -&gt; println(&quot;Correcte: ${resposta.dades}&quot;)
        is Incorrecte -&gt; println(&quot;Incorrecte: ${resposta.missatge}&quot;)
    }
}

fun main() {
    val resposta1: Resposta = Correcte(&quot;Operaci&oacute; completada&quot;)
    val resposta2: Resposta = Incorrecte(&quot;Error en l'operaci&oacute;&quot;)
    
    manejarResposta(resposta1) // Correcte: Operaci&oacute; completada
    manejarResposta(resposta2) // Incorrecte: Error en l'operaci&oacute;
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem après sobre les classes de dades i les classes segellades en Kotlin. Les classes de dades simplifiquen la creació de classes que emmagatzemen dades, mentre que les classes segellades ens permeten definir jerarquies de classes restringides. Amb aquests coneixements, estem millor preparats per escriure codi Kotlin més net i mantenible. En la següent secció, explorarem les declaracions d'objectes i els objectes companys.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-03-visibility-modifiers' title="Modificadors de Visibilitat">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-05-object-declarations-companion-objects' title="Declaracions d'Objectes i Objectes Companys">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
