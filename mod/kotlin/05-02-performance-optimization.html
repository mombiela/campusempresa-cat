<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Optimització del Rendiment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/05-02-performance-optimization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/05-02-performance-optimization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/05-02-performance-optimization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/kotlin/05-02-performance-optimization" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/kotlin/05-02-performance-optimization" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-code-style-conventions' title="Estil de Codi i Convencions">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Optimització del Rendiment</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem diverses tècniques i estratègies per optimitzar el rendiment de les aplicacions desenvolupades amb Kotlin. L'optimització del rendiment és crucial per assegurar que les aplicacions siguin eficients, ràpides i escalables. A continuació, desglossarem els conceptes clau, proporcionarem exemples pràctics i oferirem exercicis per reforçar els coneixements adquirits.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ol>
<li>
<p><strong>Profiling i Benchmarking</strong></p>
<ul>
<li><strong>Profiling</strong>: Identificar les parts del codi que consumeixen més recursos.</li>
<li><strong>Benchmarking</strong>: Mesurar el rendiment del codi per comparar diferents implementacions.</li>
</ul>
</li>
<li>
<p><strong>Gestió de la Memòria</strong></p>
<ul>
<li><strong>Garbage Collection (GC)</strong>: Comprendre com funciona el GC en Kotlin i com minimitzar la seva activitat.</li>
<li><strong>Evitació de Fuites de Memòria</strong>: Identificar i corregir les fuites de memòria.</li>
</ul>
</li>
<li>
<p><strong>Optimització de Codi</strong></p>
<ul>
<li><strong>Inlined Functions</strong>: Utilitzar funcions inlined per reduir l'overhead de les crides a funcions.</li>
<li><strong>Lazy Initialization</strong>: Inicialitzar objectes només quan són necessaris.</li>
</ul>
</li>
<li>
<p><strong>Estructures de Dades Eficients</strong></p>
<ul>
<li><strong>Col·leccions Immutables vs. Mutables</strong>: Seleccionar la col·lecció adequada per a cada cas d'ús.</li>
<li><strong>Utilització de Seqüències (Sequences)</strong>: Processar grans quantitats de dades de manera eficient.</li>
</ul>
</li>
<li>
<p><strong>Optimització de la Concurrència</strong></p>
<ul>
<li><strong>Coroutines</strong>: Utilitzar coroutines per gestionar operacions asíncrones de manera eficient.</li>
<li><strong>Sincronització</strong>: Evitar bloquejos i condicions de carrera.</li>
</ul>
</li>
</ol>
</div><h1>Profiling i Benchmarking</h1>
<div class='content'></div><h2>Profiling</h2>
<div class='content'><p>El profiling és una tècnica per identificar les parts del codi que consumeixen més recursos. En Kotlin, podem utilitzar eines com Android Profiler (per a aplicacions Android) o VisualVM (per a aplicacions JVM).</p>
<h4>Exemple de Profiling amb Android Profiler</h4>
<ol>
<li>Obre Android Studio i carrega el teu projecte.</li>
<li>Executa l'aplicació en mode de depuració.</li>
<li>Obre l'Android Profiler des del menú &quot;View&quot; -&gt; &quot;Tool Windows&quot; -&gt; &quot;Profiler&quot;.</li>
<li>Selecciona l'aplicació en execució i analitza l'ús de CPU, memòria i xarxa.</li>
</ol>
</div><h2>Benchmarking</h2>
<div class='content'><p>El benchmarking implica mesurar el rendiment del codi per comparar diferents implementacions. Kotlin ofereix la biblioteca <code>kotlinx.benchmark</code> per facilitar aquesta tasca.</p>
<h4>Exemple de Benchmarking amb <code>kotlinx.benchmark</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGtvdGxpbnguYmVuY2htYXJrLioKCkBTdGF0ZShTY29wZS5CZW5jaG1hcmspCmNsYXNzIE15QmVuY2htYXJrIHsKICAgIHByaXZhdGUgbGF0ZWluaXQgdmFyIGxpc3Q6IExpc3Q8SW50PgoKICAgIEBTZXR1cAogICAgZnVuIHNldHVwKCkgewogICAgICAgIGxpc3QgPSBMaXN0KDFfMDAwXzAwMCkgeyBpdCB9CiAgICB9CgogICAgQEJlbmNobWFyawogICAgZnVuIHN1bUxpc3QoKTogSW50IHsKICAgICAgICByZXR1cm4gbGlzdC5zdW0oKQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import kotlinx.benchmark.*

@State(Scope.Benchmark)
class MyBenchmark {
    private lateinit var list: List&lt;Int&gt;

    @Setup
    fun setup() {
        list = List(1_000_000) { it }
    }

    @Benchmark
    fun sumList(): Int {
        return list.sum()
    }
}</pre></div><div class='content'></div><h1>Gestió de la Memòria</h1>
<div class='content'></div><h2>Garbage Collection (GC)</h2>
<div class='content'><p>El GC és responsable de gestionar la memòria automàticament. No obstant això, és important minimitzar la seva activitat per evitar pauses llargues.</p>
<h4>Consells per Minimitzar l'Activitat del GC</h4>
<ul>
<li>Evita la creació excessiva d'objectes.</li>
<li>Utilitza col·leccions immutables quan sigui possible.</li>
<li>Allibera referències a objectes que ja no són necessaris.</li>
</ul>
</div><h2>Evitació de Fuites de Memòria</h2>
<div class='content'><p>Les fuites de memòria ocorren quan els objectes ja no necessaris no són alliberats. Utilitza eines com LeakCanary per detectar fuites de memòria en aplicacions Android.</p>
</div><h1>Optimització de Codi</h1>
<div class='content'></div><h2>Inlined Functions</h2>
<div class='content'><p>Les funcions inlined poden reduir l'overhead de les crides a funcions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5saW5lIGZ1biA8VD4gbWVhc3VyZVRpbWUoYmxvY2s6ICgpIC0+IFQpOiBUIHsKICAgIHZhbCBzdGFydCA9IFN5c3RlbS5uYW5vVGltZSgpCiAgICB2YWwgcmVzdWx0ID0gYmxvY2soKQogICAgdmFsIGVuZCA9IFN5c3RlbS5uYW5vVGltZSgpCiAgICBwcmludGxuKCJUaW1lIHRha2VuOiAke2VuZCAtIHN0YXJ0fSBucyIpCiAgICByZXR1cm4gcmVzdWx0Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>inline fun &lt;T&gt; measureTime(block: () -&gt; T): T {
    val start = System.nanoTime()
    val result = block()
    val end = System.nanoTime()
    println(&quot;Time taken: ${end - start} ns&quot;)
    return result
}</pre></div><div class='content'></div><h2>Lazy Initialization</h2>
<div class='content'><p>La inicialització lazy permet inicialitzar objectes només quan són necessaris.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGhlYXZ5T2JqZWN0OiBIZWF2eU9iamVjdCBieSBsYXp5IHsKICAgIEhlYXZ5T2JqZWN0KCkKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val heavyObject: HeavyObject by lazy {
    HeavyObject()
}</pre></div><div class='content'></div><h1>Estructures de Dades Eficients</h1>
<div class='content'></div><h2>Col·leccions Immutables vs. Mutables</h2>
<div class='content'><p>Utilitza col·leccions immutables per a dades que no canvien, ja que són més segures i poden ser més eficients.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGltbXV0YWJsZUxpc3QgPSBsaXN0T2YoMSwgMiwgMykKdmFsIG11dGFibGVMaXN0ID0gbXV0YWJsZUxpc3RPZigxLCAyLCAzKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val immutableList = listOf(1, 2, 3)
val mutableList = mutableListOf(1, 2, 3)</pre></div><div class='content'></div><h2>Utilització de Seqüències (Sequences)</h2>
<div class='content'><p>Les seqüències permeten processar grans quantitats de dades de manera eficient, ja que apliquen operacions de manera lazy.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIHNlcXVlbmNlID0gZ2VuZXJhdGVTZXF1ZW5jZSgxKSB7IGl0ICsgMSB9CiAgICAudGFrZSgxMDAwKQogICAgLmZpbHRlciB7IGl0ICUgMiA9PSAwIH0KICAgIC50b0xpc3QoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val sequence = generateSequence(1) { it + 1 }
    .take(1000)
    .filter { it % 2 == 0 }
    .toList()</pre></div><div class='content'></div><h1>Optimització de la Concurrència</h1>
<div class='content'></div><h2>Coroutines</h2>
<div class='content'><p>Les coroutines permeten gestionar operacions asíncrones de manera eficient sense bloquejar el fil principal.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy4qCgpmdW4gbWFpbigpID0gcnVuQmxvY2tpbmcgewogICAgbGF1bmNoIHsKICAgICAgICBkZWxheSgxMDAwTCkKICAgICAgICBwcmludGxuKCJXb3JsZCEiKQogICAgfQogICAgcHJpbnRsbigiSGVsbG8sIikKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import kotlinx.coroutines.*

fun main() = runBlocking {
    launch {
        delay(1000L)
        println(&quot;World!&quot;)
    }
    println(&quot;Hello,&quot;)
}</pre></div><div class='content'></div><h2>Sincronització</h2>
<div class='content'><p>Evita bloquejos i condicions de carrera utilitzant estructures de dades segures per a la concurrència com <code>Mutex</code> o <code>Atomic</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy5zeW5jLk11dGV4CmltcG9ydCBrb3RsaW54LmNvcm91dGluZXMuc3luYy53aXRoTG9jawoKdmFsIG11dGV4ID0gTXV0ZXgoKQoKc3VzcGVuZCBmdW4gc2FmZUluY3JlbWVudCgpIHsKICAgIG11dGV4LndpdGhMb2NrIHsKICAgICAgICAvLyBPcGVyYWNpw7Mgc2VndXJhCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import kotlinx.coroutines.sync.Mutex
import kotlinx.coroutines.sync.withLock

val mutex = Mutex()

suspend fun safeIncrement() {
    mutex.withLock {
        // Operaci&oacute; segura
    }
}</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'><ol>
<li>
<p><strong>Profiling i Benchmarking</strong>: Utilitza Android Profiler per identificar les parts del codi que consumeixen més recursos en una aplicació Android. Implementa un benchmark per comparar dues implementacions diferents d'una funció que suma els elements d'una llista.</p>
</li>
<li>
<p><strong>Gestió de la Memòria</strong>: Detecta i corregeix una fuita de memòria en una aplicació Android utilitzant LeakCanary.</p>
</li>
<li>
<p><strong>Optimització de Codi</strong>: Refactoritza una funció per utilitzar inicialització lazy i funcions inlined.</p>
</li>
<li>
<p><strong>Estructures de Dades Eficients</strong>: Converteix una operació sobre una llista gran a una seqüència per millorar l'eficiència.</p>
</li>
<li>
<p><strong>Optimització de la Concurrència</strong>: Implementa una operació asíncrona utilitzant coroutines i assegura't que sigui segura per a la concurrència utilitzant <code>Mutex</code>.</p>
</li>
</ol>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem explorat diverses tècniques per optimitzar el rendiment de les aplicacions Kotlin. Hem après a utilitzar eines de profiling i benchmarking, gestionar la memòria de manera eficient, optimitzar el codi, seleccionar les estructures de dades adequades i gestionar la concurrència de manera eficient. Aquests coneixements són essencials per desenvolupar aplicacions ràpides, eficients i escalables.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-code-style-conventions' title="Estil de Codi i Convencions">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Programació en Kotlin</h1>
<h2>Mòdul 1: Introducció a Kotlin</h2>
<ul>
<li><a href="01-01-introduction-to-kotlin">Introducció a Kotlin</a></li>
<li><a href="01-02-setting-up-development-environment">Configuració de l'Entorn de Desenvolupament</a></li>
<li><a href="01-03-kotlin-basics-variables-data-types">Conceptes Bàsics de Kotlin: Variables i Tipus de Dades</a></li>
<li><a href="01-04-control-flow-conditionals-loops">Flux de Control: Condicionals i Bucles</a></li>
<li><a href="01-05-functions-and-lambdas">Funcions i Lambdas</a></li>
</ul>
<h2>Mòdul 2: Programació Orientada a Objectes en Kotlin</h2>
<ul>
<li><a href="02-01-classes-and-objects">Classes i Objectes</a></li>
<li><a href="02-02-inheritance-and-interfaces">Herència i Interfícies</a></li>
<li><a href="02-03-visibility-modifiers">Modificadors de Visibilitat</a></li>
<li><a href="02-04-data-classes-sealed-classes">Classes de Dades i Classes Segellades</a></li>
<li><a href="02-05-object-declarations-companion-objects">Declaracions d'Objectes i Objectes Companys</a></li>
</ul>
<h2>Mòdul 3: Funcions Avançades de Kotlin</h2>
<ul>
<li><a href="03-01-collections-and-generics">Col·leccions i Genèrics</a></li>
<li><a href="03-02-extension-functions">Funcions d'Extensió</a></li>
<li><a href="03-03-higher-order-functions-functional-programming">Funcions d'Ordre Superior i Programació Funcional</a></li>
<li><a href="03-04-coroutines-asynchronous-programming">Coroutines i Programació Asíncrona</a></li>
<li><a href="03-05-dsl-domain-specific-language">DSL (Llenguatge Específic de Domini) en Kotlin</a></li>
</ul>
<h2>Mòdul 4: Kotlin per al Desenvolupament d'Android</h2>
<ul>
<li><a href="04-01-introduction-android-development-kotlin">Introducció al Desenvolupament d'Android amb Kotlin</a></li>
<li><a href="04-02-building-user-interfaces">Construcció d'Interfícies d'Usuari</a></li>
<li><a href="04-03-handling-user-input">Gestió de l'Entrada de l'Usuari</a></li>
<li><a href="04-04-networking-data-storage">Xarxes i Emmagatzematge de Dades</a></li>
<li><a href="04-05-testing-debugging">Proves i Depuració</a></li>
</ul>
<h2>Mòdul 5: Millors Pràctiques i Temes Avançats</h2>
<ul>
<li><a href="05-01-code-style-conventions">Estil de Codi i Convencions</a></li>
<li><a href="05-02-performance-optimization">Optimització del Rendiment</a></li>
<li><a href="05-03-security-considerations">Consideracions de Seguretat</a></li>
<li><a href="05-04-interoperability-with-java">Interoperabilitat amb Java</a></li>
<li><a href="05-05-exploring-kotlin-multiplatform">Explorant Kotlin Multiplatform</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
