<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firewalls i Sistemes de Detecció d'Intrusos (IDS/IPS)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/ciberseguridad/03-03-firewalls-ids-ips" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/ciberseguridad/03-03-firewalls-ids-ips" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-protocols-seguretat' title="Protocols de Seguretat en Xarxes">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Firewalls i Sistemes de Detecció d'Intrusos (IDS/IPS)</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-seguretat-sistemes-operatius' title="Seguretat en Sistemes Operatius">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció</p>
</h1>
<div class='content'><p>En aquest tema, explorarem dos components essencials de la seguretat en xarxes: els firewalls i els sistemes de detecció d'intrusos (IDS) i prevenció d'intrusos (IPS). Aquests elements són fonamentals per protegir les xarxes contra atacs i amenaces.</p>
</div><h1><ol>
<li>Firewalls</li>
</ol>
</h1>
<div class='content'></div><h2><p>1.1. Què és un Firewall?</p>
</h2>
<div class='content'><p>Un firewall és un sistema de seguretat de xarxa que controla i filtra el trànsit de xarxa entrant i sortint basant-se en regles de seguretat predefinides. Els firewalls poden ser implementats tant en maquinari com en programari.</p>
</div><h2><p>1.2. Tipus de Firewalls</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Firewalls de filtratge de paquets</strong>:</p>
<ul>
<li>Filtren el trànsit de xarxa basant-se en la informació dels paquets, com ara adreces IP, ports i protocols.</li>
<li>Són ràpids però tenen limitacions en la inspecció profunda del trànsit.</li>
</ul>
</li>
<li>
<p><strong>Firewalls de passarel·la a nivell d'aplicació (proxy)</strong>:</p>
<ul>
<li>Actuen com a intermediaris entre els usuaris i els serveis de xarxa.</li>
<li>Ofereixen una inspecció més detallada del trànsit a nivell d'aplicació.</li>
</ul>
</li>
<li>
<p><strong>Firewalls d'inspecció d'estat</strong>:</p>
<ul>
<li>Monitoritzen l'estat de les connexions de xarxa i permeten o bloquegen el trànsit basant-se en l'estat de la connexió.</li>
<li>Combinen la velocitat dels firewalls de filtratge de paquets amb una inspecció més profunda.</li>
</ul>
</li>
<li>
<p><strong>Firewalls de nova generació (NGFW)</strong>:</p>
<ul>
<li>Integren funcions avançades com la inspecció profunda de paquets (DPI), la prevenció d'intrusos (IPS) i la filtració de contingut.</li>
<li>Ofereixen una protecció més completa contra amenaces modernes.</li>
</ul>
</li>
</ol>
</div><h2><p>1.3. Configuració Bàsica d'un Firewall</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIHJlZ2xlcyBkZSBmaXJld2FsbCBlbiB1biBzaXN0ZW1hIExpbnV4IHV0aWxpdHphbnQgaXB0YWJsZXMKCiMgQmxvcXVlamFyIHRvdCBlbCB0csOgbnNpdCBwZXIgZGVmZWN0ZQppcHRhYmxlcyAtUCBJTlBVVCBEUk9QCmlwdGFibGVzIC1QIEZPUldBUkQgRFJPUAppcHRhYmxlcyAtUCBPVVRQVVQgRFJPUAoKIyBQZXJtZXRyZSBlbCB0csOgbnNpdCBkZSBsYSB4YXJ4YSBsb2NhbAppcHRhYmxlcyAtQSBJTlBVVCAtaSBsbyAtaiBBQ0NFUFQKaXB0YWJsZXMgLUEgT1VUUFVUIC1vIGxvIC1qIEFDQ0VQVAoKIyBQZXJtZXRyZSBjb25uZXhpb25zIGVzdGFibGVydGVzIGkgcmVsYWNpb25hZGVzCmlwdGFibGVzIC1BIElOUFVUIC1tIHN0YXRlIC0tc3RhdGUgRVNUQUJMSVNIRUQsUkVMQVRFRCAtaiBBQ0NFUFQKaXB0YWJsZXMgLUEgT1VUUFVUIC1tIHN0YXRlIC0tc3RhdGUgRVNUQUJMSVNIRUQsUkVMQVRFRCAtaiBBQ0NFUFQKCiMgUGVybWV0cmUgdHLDoG5zaXQgSFRUUCBpIEhUVFBTCmlwdGFibGVzIC1BIElOUFVUIC1wIHRjcCAtLWRwb3J0IDgwIC1qIEFDQ0VQVAppcHRhYmxlcyAtQSBJTlBVVCAtcCB0Y3AgLS1kcG9ydCA0NDMgLWogQUNDRVBUCmlwdGFibGVzIC1BIE9VVFBVVCAtcCB0Y3AgLS1zcG9ydCA4MCAtaiBBQ0NFUFQKaXB0YWJsZXMgLUEgT1VUUFVUIC1wIHRjcCAtLXNwb3J0IDQ0MyAtaiBBQ0NFUFQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de regles de firewall en un sistema Linux utilitzant iptables

# Bloquejar tot el tr&agrave;nsit per defecte
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -P OUTPUT DROP

# Permetre el tr&agrave;nsit de la xarxa local
iptables -A INPUT -i lo -j ACCEPT
iptables -A OUTPUT -o lo -j ACCEPT

# Permetre connexions establertes i relacionades
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Permetre tr&agrave;nsit HTTP i HTTPS
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT
iptables -A OUTPUT -p tcp --sport 80 -j ACCEPT
iptables -A OUTPUT -p tcp --sport 443 -j ACCEPT</pre></div><div class='content'></div><h2><p>1.4. Avantatges i Desavantatges dels Firewalls</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Avantatges</th>
<th>Desavantatges</th>
</tr>
</thead>
<tbody>
<tr>
<td>Protegeixen contra atacs externs</td>
<td>No poden detectar atacs interns</td>
</tr>
<tr>
<td>Filtren el trànsit no desitjat</td>
<td>Poden ser complexos de configurar</td>
</tr>
<tr>
<td>Poden registrar activitats sospitoses</td>
<td>Poden afectar el rendiment de la xarxa</td>
</tr>
</tbody>
</table>
</div><h1><ol start="2">
<li>Sistemes de Detecció d'Intrusos (IDS) i Prevenció d'Intrusos (IPS)</li>
</ol>
</h1>
<div class='content'></div><h2><p>2.1. Què són els IDS i IPS?</p>
</h2>
<div class='content'><ul>
<li><strong>IDS (Sistemes de Detecció d'Intrusos)</strong>: Monitoritzen el trànsit de xarxa per detectar activitats sospitoses i generar alertes.</li>
<li><strong>IPS (Sistemes de Prevenció d'Intrusos)</strong>: No només detecten activitats sospitoses, sinó que també poden prendre mesures per prevenir-les, com bloquejar el trànsit maliciós.</li>
</ul>
</div><h2><p>2.2. Tipus d'IDS/IPS</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Basats en xarxa (NIDS/NIPS)</strong>:</p>
<ul>
<li>Monitoritzen el trànsit de xarxa en temps real.</li>
<li>Són ideals per detectar atacs que es propaguen a través de la xarxa.</li>
</ul>
</li>
<li>
<p><strong>Basats en host (HIDS/HIPS)</strong>:</p>
<ul>
<li>Monitoritzen l'activitat en un host específic.</li>
<li>Són útils per detectar atacs dirigits a sistemes específics.</li>
</ul>
</li>
</ol>
</div><h2><p>2.3. Funcionament dels IDS/IPS</p>
</h2>
<div class='content'><ul>
<li><strong>Detecció per signatura</strong>: Compara el trànsit amb una base de dades de signatures d'atacs coneguts.</li>
<li><strong>Detecció per anomalia</strong>: Identifica desviacions del comportament normal de la xarxa.</li>
</ul>
</div><h2><p>2.4. Configuració Bàsica d'un IDS</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIGNvbmZpZ3VyYWNpw7MgYsOgc2ljYSBkZSBTbm9ydCwgdW4gSURTIHBvcHVsYXIKCiMgRGVmaW5pciBsYSB4YXJ4YSBsb2NhbAp2YXIgSE9NRV9ORVQgMTkyLjE2OC4xLjAvMjQKCiMgRGVmaW5pciBsYSB4YXJ4YSBleHRlcm5hCnZhciBFWFRFUk5BTF9ORVQgYW55CgojIFJlZ2xlcyBkZSBkZXRlY2Npw7MKYWxlcnQgdGNwICRFWFRFUk5BTF9ORVQgYW55IC0+ICRIT01FX05FVCA4MCAobXNnOiJQb3NzaWJsZSBhdGFjIEhUVFAiOyBzaWQ6MTAwMDAwMTsp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de configuraci&oacute; b&agrave;sica de Snort, un IDS popular

# Definir la xarxa local
var HOME_NET 192.168.1.0/24

# Definir la xarxa externa
var EXTERNAL_NET any

# Regles de detecci&oacute;
alert tcp $EXTERNAL_NET any -&gt; $HOME_NET 80 (msg:&quot;Possible atac HTTP&quot;; sid:1000001;)</pre></div><div class='content'></div><h2><p>2.5. Avantatges i Desavantatges dels IDS/IPS</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Avantatges</th>
<th>Desavantatges</th>
</tr>
</thead>
<tbody>
<tr>
<td>Detecten activitats sospitoses</td>
<td>Poden generar falsos positius</td>
</tr>
<tr>
<td>Poden prevenir atacs en temps real</td>
<td>Poden ser complexos de configurar</td>
</tr>
<tr>
<td>Proporcionen informació detallada</td>
<td>Poden afectar el rendiment de la xarxa</td>
</tr>
</tbody>
</table>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Configuració d'un Firewall</p>
</h2>
<div class='content'><ol>
<li>Configureu un firewall en un sistema Linux utilitzant <code>iptables</code> per permetre només el trànsit HTTP i HTTPS.</li>
<li>Bloquegeu tot el trànsit entrant i sortint per defecte, excepte el trànsit de la xarxa local.</li>
</ol>
</div><h2><p>Solució:</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBCbG9xdWVqYXIgdG90IGVsIHRyw6Buc2l0IHBlciBkZWZlY3RlCmlwdGFibGVzIC1QIElOUFVUIERST1AKaXB0YWJsZXMgLVAgRk9SV0FSRCBEUk9QCmlwdGFibGVzIC1QIE9VVFBVVCBEUk9QCgojIFBlcm1ldHJlIGVsIHRyw6Buc2l0IGRlIGxhIHhhcnhhIGxvY2FsCmlwdGFibGVzIC1BIElOUFVUIC1pIGxvIC1qIEFDQ0VQVAppcHRhYmxlcyAtQSBPVVRQVVQgLW8gbG8gLWogQUNDRVBUCgojIFBlcm1ldHJlIGNvbm5leGlvbnMgZXN0YWJsZXJ0ZXMgaSByZWxhY2lvbmFkZXMKaXB0YWJsZXMgLUEgSU5QVVQgLW0gc3RhdGUgLS1zdGF0ZSBFU1RBQkxJU0hFRCxSRUxBVEVEIC1qIEFDQ0VQVAppcHRhYmxlcyAtQSBPVVRQVVQgLW0gc3RhdGUgLS1zdGF0ZSBFU1RBQkxJU0hFRCxSRUxBVEVEIC1qIEFDQ0VQVAoKIyBQZXJtZXRyZSB0csOgbnNpdCBIVFRQIGkgSFRUUFMKaXB0YWJsZXMgLUEgSU5QVVQgLXAgdGNwIC0tZHBvcnQgODAgLWogQUNDRVBUCmlwdGFibGVzIC1BIElOUFVUIC1wIHRjcCAtLWRwb3J0IDQ0MyAtaiBBQ0NFUFQKaXB0YWJsZXMgLUEgT1VUUFVUIC1wIHRjcCAtLXNwb3J0IDgwIC1qIEFDQ0VQVAppcHRhYmxlcyAtQSBPVVRQVVQgLXAgdGNwIC0tc3BvcnQgNDQzIC1qIEFDQ0VQVA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Bloquejar tot el tr&agrave;nsit per defecte
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -P OUTPUT DROP

# Permetre el tr&agrave;nsit de la xarxa local
iptables -A INPUT -i lo -j ACCEPT
iptables -A OUTPUT -o lo -j ACCEPT

# Permetre connexions establertes i relacionades
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Permetre tr&agrave;nsit HTTP i HTTPS
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT
iptables -A OUTPUT -p tcp --sport 80 -j ACCEPT
iptables -A OUTPUT -p tcp --sport 443 -j ACCEPT</pre></div><div class='content'></div><h2><p>Exercici 2: Configuració d'un IDS</p>
</h2>
<div class='content'><ol>
<li>Configureu Snort per detectar intents d'atac HTTP a la vostra xarxa local.</li>
<li>Definiu la xarxa local com <code>192.168.1.0/24</code> i la xarxa externa com <code>any</code>.</li>
</ol>
</div><h2><p>Solució:</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmlyIGxhIHhhcnhhIGxvY2FsCnZhciBIT01FX05FVCAxOTIuMTY4LjEuMC8yNAoKIyBEZWZpbmlyIGxhIHhhcnhhIGV4dGVybmEKdmFyIEVYVEVSTkFMX05FVCBhbnkKCiMgUmVnbGVzIGRlIGRldGVjY2nDswphbGVydCB0Y3AgJEVYVEVSTkFMX05FVCBhbnkgLT4gJEhPTUVfTkVUIDgwIChtc2c6IlBvc3NpYmxlIGF0YWMgSFRUUCI7IHNpZDoxMDAwMDAxOyk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Definir la xarxa local
var HOME_NET 192.168.1.0/24

# Definir la xarxa externa
var EXTERNAL_NET any

# Regles de detecci&oacute;
alert tcp $EXTERNAL_NET any -&gt; $HOME_NET 80 (msg:&quot;Possible atac HTTP&quot;; sid:1000001;)</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem après sobre els firewalls i els sistemes de detecció i prevenció d'intrusos (IDS/IPS). Hem vist els diferents tipus de firewalls i IDS/IPS, com funcionen i com configurar-los bàsicament. Aquests components són essencials per protegir les xarxes contra atacs i amenaces de seguretat. En el proper tema, explorarem la seguretat en sistemes operatius.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-protocols-seguretat' title="Protocols de Seguretat en Xarxes">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-seguretat-sistemes-operatius' title="Seguretat en Sistemes Operatius">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
