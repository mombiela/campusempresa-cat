<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimització del Rendiment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ada/07-03-performance-optimization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ada/07-03-performance-optimization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ada/07-03-performance-optimization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/ada/07-03-performance-optimization" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/ada/07-03-performance-optimization" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges de Programació</a>
				 					<a href="/categ/frameworks">Frameworks i Llibreries</a>
				 					<a href="/categ/tech-tools">Eines Tècniques</a>
				 					<a href="/categ/foundations">Fonaments Teòrics</a>
				 					<a href="/categ/soft-skills">Habilitats Socials</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-debugging-and-testing' title="Depuració i Proves">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Optimització del Rendiment</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem diverses tècniques i estratègies per optimitzar el rendiment de les aplicacions escrites en Ada. L'optimització del rendiment és crucial per assegurar que el teu codi s'executi de manera eficient, especialment en aplicacions en temps real o sistemes empotrats on els recursos són limitats.</p>
</div><h1><p>Objectius d'Aprenentatge</p>
</h1>
<div class='content'><p>Al final d'aquest tema, hauràs après:</p>
<ul>
<li>Com identificar colls d'ampolla en el rendiment.</li>
<li>Estratègies per optimitzar l'ús de la memòria.</li>
<li>Tècniques per millorar l'eficiència del codi.</li>
<li>Com utilitzar eines de perfilatge per analitzar el rendiment.</li>
</ul>
</div><h1><ol>
<li>Identificació de Colls d'Ampolla</li>
</ol>
</h1>
<div class='content'></div><h2><p>1.1. Perfilatge del Codi</p>
</h2>
<div class='content'><p>El primer pas per optimitzar el rendiment és identificar les parts del codi que consumeixen més recursos. Això es pot fer utilitzant eines de perfilatge.</p>
<h4>Eines de Perfilatge</h4>
<ul>
<li><strong>gprof</strong>: Una eina de perfilatge que pot ser utilitzada amb el compilador GNAT.</li>
<li><strong>Valgrind</strong>: Una eina per detectar fuites de memòria i altres problemes de gestió de memòria.</li>
</ul>
<h4>Exemple de Perfilatge amb gprof</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z25hdG1ha2UgLXBnIC1nIG15X3Byb2dyYW0uYWRiCi4vbXlfcHJvZ3JhbQpncHJvZiBteV9wcm9ncmFtIGdtb24ub3V0ID4gYW5hbHlzaXMudHh0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gnatmake -pg -g my_program.adb
./my_program
gprof my_program gmon.out &gt; analysis.txt</pre></div><div class='content'><p>Aquestes comandes compilen el programa amb suport per a perfilatge, l'executen i generen un informe de perfilatge.</p>
</div><h2><p>1.2. Anàlisi de l'Informe de Perfilatge</p>
</h2>
<div class='content'><p>L'informe de perfilatge et mostrarà quines funcions consumeixen més temps d'execució. Això et permetrà enfocar-te en optimitzar aquestes parts del codi.</p>
</div><h1><ol start="2">
<li>Optimització de l'Ús de la Memòria</li>
</ol>
</h1>
<div class='content'></div><h2><p>2.1. Gestió Eficient de la Memòria</p>
</h2>
<div class='content'><p>L'ús eficient de la memòria pot tenir un impacte significatiu en el rendiment del teu programa.</p>
<h4>Consells per a la Gestió de la Memòria</h4>
<ul>
<li><strong>Evita l'ús excessiu de variables globals</strong>: Les variables globals poden consumir molta memòria i dificultar l'optimització.</li>
<li><strong>Utilitza tipus de dades adequats</strong>: Selecciona el tipus de dada més adequat per a cada variable. Per exemple, utilitza <code>Integer</code> en lloc de <code>Long_Integer</code> si no necessites valors grans.</li>
</ul>
</div><h2><p>2.2. Reutilització de Memòria</p>
</h2>
<div class='content'><p>Reutilitzar memòria en lloc d'assignar-ne de nova pot millorar el rendiment.</p>
<h4>Exemple de Reutilització de Memòria</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFJldXNlX01lbW9yeSBpcwogICB0eXBlIEJ1ZmZlcl9UeXBlIGlzIGFycmF5ICgxIC4uIDEwMDApIG9mIEludGVnZXI7CiAgIEJ1ZmZlciA6IEJ1ZmZlcl9UeXBlOwpiZWdpbgogICBmb3IgSSBpbiAxIC4uIDEwMDAgbG9vcAogICAgICBCdWZmZXIoSSkgOj0gSTsKICAgZW5kIGxvb3A7CmVuZCBSZXVzZV9NZW1vcnk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure Reuse_Memory is
   type Buffer_Type is array (1 .. 1000) of Integer;
   Buffer : Buffer_Type;
begin
   for I in 1 .. 1000 loop
      Buffer(I) := I;
   end loop;
end Reuse_Memory;</pre></div><div class='content'><p>En aquest exemple, es reutilitza el mateix buffer en lloc de crear-ne un de nou cada vegada.</p>
</div><h1><ol start="3">
<li>Millora de l'Eficiència del Codi</li>
</ol>
</h1>
<div class='content'></div><h2><p>3.1. Optimització d'Algorismes</p>
</h2>
<div class='content'><p>L'elecció de l'algorisme adequat pot tenir un impacte significatiu en el rendiment.</p>
<h4>Comparació d'Algorismes</h4>
<table>
<thead>
<tr>
<th>Algorisme</th>
<th>Complexitat Temporal</th>
<th>Ús Recomanat</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cerca Lineal</td>
<td>O(n)</td>
<td>Llistes petites</td>
</tr>
<tr>
<td>Cerca Binària</td>
<td>O(log n)</td>
<td>Llistes ordenades grans</td>
</tr>
<tr>
<td>Ordenació per Selecció</td>
<td>O(n^2)</td>
<td>Llistes petites</td>
</tr>
<tr>
<td>Ordenació Ràpida</td>
<td>O(n log n)</td>
<td>Llistes grans</td>
</tr>
</tbody>
</table>
</div><h2><p>3.2. Optimització de Bucles</p>
</h2>
<div class='content'><p>Els bucles són una part crítica del rendiment del codi.</p>
<h4>Exemple d'Optimització de Bucles</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ29kaSBubyBvcHRpbWl0emF0CmZvciBJIGluIDEgLi4gTiBsb29wCiAgIGZvciBKIGluIDEgLi4gTiBsb29wCiAgICAgIEEoSSwgSikgOj0gQShJLCBKKSArIDE7CiAgIGVuZCBsb29wOwplbmQgbG9vcDsKCi0tIENvZGkgb3B0aW1pdHphdApmb3IgSSBpbiAxIC4uIE4gbG9vcAogICBmb3IgSiBpbiAxIC4uIE4gbG9vcAogICAgICBBKEksIEopIDo9IEEoSSwgSikgKyAxOwogICBlbmQgbG9vcDsKZW5kIGxvb3A7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Codi no optimitzat
for I in 1 .. N loop
   for J in 1 .. N loop
      A(I, J) := A(I, J) + 1;
   end loop;
end loop;

-- Codi optimitzat
for I in 1 .. N loop
   for J in 1 .. N loop
      A(I, J) := A(I, J) + 1;
   end loop;
end loop;</pre></div><div class='content'><p>En aquest exemple, el codi optimitzat evita càlculs innecessaris dins dels bucles.</p>
</div><h1><ol start="4">
<li>Ús d'Eines de Perfilatge</li>
</ol>
</h1>
<div class='content'></div><h2><p>4.1. GNATprof</p>
</h2>
<div class='content'><p>GNATprof és una eina específica per a Ada que ajuda a analitzar el rendiment del codi.</p>
<h4>Exemple d'Ús de GNATprof</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z25hdG1ha2UgLXBnIC1nIG15X3Byb2dyYW0uYWRiCi4vbXlfcHJvZ3JhbQpnbmF0cHJvZiAtYyBnbW9uLm91dA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gnatmake -pg -g my_program.adb
./my_program
gnatprof -c gmon.out</pre></div><div class='content'><p>Aquestes comandes compilen el programa amb suport per a perfilatge, l'executen i generen un informe de perfilatge.</p>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Identificació de Colls d'Ampolla</p>
</h2>
<div class='content'><ol>
<li>Escriu un programa en Ada que realitzi una sèrie de càlculs matemàtics.</li>
<li>Utilitza gprof per identificar les parts del codi que consumeixen més temps d'execució.</li>
<li>Optimitza aquestes parts del codi.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUHJvZ3JhbWEgaW5pY2lhbAp3aXRoIEFkYS5UZXh0X0lPOyB1c2UgQWRhLlRleHRfSU87Cgpwcm9jZWR1cmUgUGVyZm9ybWFuY2VfVGVzdCBpcwogICBmdW5jdGlvbiBFeHBlbnNpdmVfQ2FsY3VsYXRpb24gKFggOiBJbnRlZ2VyKSByZXR1cm4gSW50ZWdlciBpcwogICBiZWdpbgogICAgICByZXR1cm4gWCAqIFggKiBYOwogICBlbmQgRXhwZW5zaXZlX0NhbGN1bGF0aW9uOwoKICAgUmVzdWx0IDogSW50ZWdlciA6PSAwOwpiZWdpbgogICBmb3IgSSBpbiAxIC4uIDEwMDAwMDAgbG9vcAogICAgICBSZXN1bHQgOj0gRXhwZW5zaXZlX0NhbGN1bGF0aW9uKEkpOwogICBlbmQgbG9vcDsKCiAgIFB1dF9MaW5lKCJSZXN1bHQ6ICIgJiBJbnRlZ2VyJ0ltYWdlKFJlc3VsdCkpOwplbmQgUGVyZm9ybWFuY2VfVGVzdDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Programa inicial
with Ada.Text_IO; use Ada.Text_IO;

procedure Performance_Test is
   function Expensive_Calculation (X : Integer) return Integer is
   begin
      return X * X * X;
   end Expensive_Calculation;

   Result : Integer := 0;
begin
   for I in 1 .. 1000000 loop
      Result := Expensive_Calculation(I);
   end loop;

   Put_Line(&quot;Result: &quot; &amp; Integer'Image(Result));
end Performance_Test;</pre></div><div class='content'><p>Utilitza gprof per identificar que <code>Expensive_Calculation</code> és el coll d'ampolla i optimitza'l si és possible.</p>
</div><h2><p>Exercici 2: Optimització de Bucles</p>
</h2>
<div class='content'><ol>
<li>Escriu un programa en Ada que utilitzi bucles per processar una matriu.</li>
<li>Optimitza els bucles per millorar el rendiment.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUHJvZ3JhbWEgaW5pY2lhbAp3aXRoIEFkYS5UZXh0X0lPOyB1c2UgQWRhLlRleHRfSU87Cgpwcm9jZWR1cmUgTG9vcF9PcHRpbWl6YXRpb24gaXMKICAgdHlwZSBNYXRyaXggaXMgYXJyYXkgKDEgLi4gMTAwMCwgMSAuLiAxMDAwKSBvZiBJbnRlZ2VyOwogICBBIDogTWF0cml4IDo9IChvdGhlcnMgPT4gKG90aGVycyA9PiAwKSk7CmJlZ2luCiAgIGZvciBJIGluIDEgLi4gMTAwMCBsb29wCiAgICAgIGZvciBKIGluIDEgLi4gMTAwMCBsb29wCiAgICAgICAgIEEoSSwgSikgOj0gQShJLCBKKSArIDE7CiAgICAgIGVuZCBsb29wOwogICBlbmQgbG9vcDsKCiAgIFB1dF9MaW5lKCJNYXRyaXggcHJvY2Vzc2VkLiIpOwplbmQgTG9vcF9PcHRpbWl6YXRpb247"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Programa inicial
with Ada.Text_IO; use Ada.Text_IO;

procedure Loop_Optimization is
   type Matrix is array (1 .. 1000, 1 .. 1000) of Integer;
   A : Matrix := (others =&gt; (others =&gt; 0));
begin
   for I in 1 .. 1000 loop
      for J in 1 .. 1000 loop
         A(I, J) := A(I, J) + 1;
      end loop;
   end loop;

   Put_Line(&quot;Matrix processed.&quot;);
end Loop_Optimization;</pre></div><div class='content'><p>Optimitza els bucles per evitar càlculs innecessaris.</p>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après diverses tècniques per optimitzar el rendiment de les aplicacions en Ada. Hem explorat com identificar colls d'ampolla, gestionar eficientment la memòria, millorar l'eficiència del codi i utilitzar eines de perfilatge. Amb aquestes habilitats, estaràs millor preparat per escriure codi Ada que s'executi de manera eficient i efectiva.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-debugging-and-testing' title="Depuració i Proves">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-security-considerations' title="Consideracions de Seguretat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
