<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistemes en Temps Real</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ada/05-03-real-time-systems" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ada/05-03-real-time-systems" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ada/05-03-real-time-systems" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/ada/05-03-real-time-systems" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/ada/05-03-real-time-systems" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-protected-objects' title="Objectes Protegits">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Sistemes en Temps Real</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-synchronization-and-communication' title="Sincronització i Comunicació">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Els sistemes en temps real són aquells que requereixen una resposta dins d'un temps determinat. Aquests sistemes són crucials en aplicacions on el retard en la resposta pot tenir conseqüències greus, com en el control de processos industrials, sistemes de navegació aèria, aplicacions mèdiques, entre d'altres.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics dels sistemes en temps real.</li>
<li>Aprendre a utilitzar les capacitats d'Ada per a la programació en temps real.</li>
<li>Implementar tasques en temps real utilitzant Ada.</li>
</ul>
</div><h1>Conceptes Bàsics</h1>
<div class='content'></div><h2>Definició de Sistemes en Temps Real</h2>
<div class='content'><p>Un sistema en temps real és un sistema informàtic que ha de complir amb restriccions de temps estrictes. Aquests sistemes es classifiquen en dos tipus principals:</p>
<ul>
<li><strong>Sistemes en temps real durs</strong>: On el no compliment dels terminis pot resultar en una fallada catastròfica.</li>
<li><strong>Sistemes en temps real tous</strong>: On el no compliment dels terminis pot degradar el rendiment però no resulta en una fallada catastròfica.</li>
</ul>
</div><h2>Característiques dels Sistemes en Temps Real</h2>
<div class='content'><ul>
<li><strong>Determinisme</strong>: Capacitat de garantir que les operacions es compleixen dins dels terminis establerts.</li>
<li><strong>Previsibilitat</strong>: Capacitat de predir el comportament del sistema sota diferents condicions de càrrega.</li>
<li><strong>Fiabilitat</strong>: Capacitat de funcionar correctament durant períodes prolongats.</li>
</ul>
</div><h1>Programació en Temps Real amb Ada</h1>
<div class='content'><p>Ada és un llenguatge de programació especialment dissenyat per a sistemes en temps real i sistemes empotrats. Proporciona diverses característiques que faciliten la programació en temps real, com ara tasques, objectes protegits i sincronització.</p>
</div><h2>Tasques en Ada</h2>
<div class='content'><p>Les tasques en Ada són unitats de concurrència que poden executar-se en paral·lel. Cada tasca té el seu propi fil d'execució.</p>
<h4>Exemple de Tasca en Ada</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvY2VkdXJlIFJlYWxfVGltZV9UYXNrIGlzCiAgIHRhc2sgdHlwZSBTaW1wbGVfVGFzayBpcwogICAgICBlbnRyeSBTdGFydDsKICAgZW5kIFNpbXBsZV9UYXNrOwoKICAgdGFzayBib2R5IFNpbXBsZV9UYXNrIGlzCiAgIGJlZ2luCiAgICAgIGFjY2VwdCBTdGFydCBkbwogICAgICAgICBQdXRfTGluZSgiVGFzayBTdGFydGVkIik7CiAgICAgIGVuZCBTdGFydDsKICAgICAgLS0gU2ltdWxhY2nDsyBkZSB0cmViYWxsIGVuIHRlbXBzIHJlYWwKICAgICAgZGVsYXkgMS4wOwogICAgICBQdXRfTGluZSgiVGFzayBDb21wbGV0ZWQiKTsKICAgZW5kIFNpbXBsZV9UYXNrOwoKICAgVCA6IFNpbXBsZV9UYXNrOwpiZWdpbgogICBULlN0YXJ0OwplbmQgUmVhbF9UaW1lX1Rhc2s7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with Ada.Text_IO; use Ada.Text_IO;

procedure Real_Time_Task is
   task type Simple_Task is
      entry Start;
   end Simple_Task;

   task body Simple_Task is
   begin
      accept Start do
         Put_Line(&quot;Task Started&quot;);
      end Start;
      -- Simulaci&oacute; de treball en temps real
      delay 1.0;
      Put_Line(&quot;Task Completed&quot;);
   end Simple_Task;

   T : Simple_Task;
begin
   T.Start;
end Real_Time_Task;</pre></div><div class='content'><p><strong>Explicació del Codi:</strong></p>
<ul>
<li>Es defineix una tasca <code>Simple_Task</code> amb una entrada <code>Start</code>.</li>
<li>El cos de la tasca accepta l'entrada <code>Start</code>, imprimeix un missatge, simula treball amb un retard (<code>delay 1.0</code>), i després imprimeix un altre missatge.</li>
<li>La tasca es crea i es crida l'entrada <code>Start</code>.</li>
</ul>
</div><h2>Objectes Protegits</h2>
<div class='content'><p>Els objectes protegits en Ada s'utilitzen per a la sincronització i la comunicació segura entre tasques.</p>
<h4>Exemple d'Objecte Protegit</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvY2VkdXJlIFByb3RlY3RlZF9PYmplY3RfRXhhbXBsZSBpcwogICBwcm90ZWN0ZWQgdHlwZSBTaGFyZWRfRGF0YSBpcwogICAgICBwcm9jZWR1cmUgV3JpdGUgKFZhbHVlIDogSW50ZWdlcik7CiAgICAgIGZ1bmN0aW9uIFJlYWQgcmV0dXJuIEludGVnZXI7CiAgIHByaXZhdGUKICAgICAgRGF0YSA6IEludGVnZXIgOj0gMDsKICAgZW5kIFNoYXJlZF9EYXRhOwoKICAgcHJvdGVjdGVkIGJvZHkgU2hhcmVkX0RhdGEgaXMKICAgICAgcHJvY2VkdXJlIFdyaXRlIChWYWx1ZSA6IEludGVnZXIpIGlzCiAgICAgIGJlZ2luCiAgICAgICAgIERhdGEgOj0gVmFsdWU7CiAgICAgIGVuZCBXcml0ZTsKCiAgICAgIGZ1bmN0aW9uIFJlYWQgcmV0dXJuIEludGVnZXIgaXMKICAgICAgYmVnaW4KICAgICAgICAgcmV0dXJuIERhdGE7CiAgICAgIGVuZCBSZWFkOwogICBlbmQgU2hhcmVkX0RhdGE7CgogICBTaGFyZWQgOiBTaGFyZWRfRGF0YTsKYmVnaW4KICAgU2hhcmVkLldyaXRlKDEwKTsKICAgUHV0X0xpbmUoIlNoYXJlZCBEYXRhOiAiICYgSW50ZWdlcidJbWFnZShTaGFyZWQuUmVhZCkpOwplbmQgUHJvdGVjdGVkX09iamVjdF9FeGFtcGxlOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with Ada.Text_IO; use Ada.Text_IO;

procedure Protected_Object_Example is
   protected type Shared_Data is
      procedure Write (Value : Integer);
      function Read return Integer;
   private
      Data : Integer := 0;
   end Shared_Data;

   protected body Shared_Data is
      procedure Write (Value : Integer) is
      begin
         Data := Value;
      end Write;

      function Read return Integer is
      begin
         return Data;
      end Read;
   end Shared_Data;

   Shared : Shared_Data;
begin
   Shared.Write(10);
   Put_Line(&quot;Shared Data: &quot; &amp; Integer'Image(Shared.Read));
end Protected_Object_Example;</pre></div><div class='content'><p><strong>Explicació del Codi:</strong></p>
<ul>
<li>Es defineix un tipus protegit <code>Shared_Data</code> amb una variable privada <code>Data</code>.</li>
<li>Es defineixen una funció <code>Read</code> i una procedura <code>Write</code> per accedir i modificar <code>Data</code> de manera segura.</li>
<li>Es crea una instància de <code>Shared_Data</code> i es demostra l'ús de les operacions <code>Write</code> i <code>Read</code>.</li>
</ul>
</div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear una Tasca en Temps Real</h2>
<div class='content'><p>Crea una tasca que simuli un sensor de temperatura que llegeix dades cada 2 segons i imprimeix la temperatura llegida.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvY2VkdXJlIFRlbXBlcmF0dXJlX1NlbnNvciBpcwogICB0YXNrIHR5cGUgU2Vuc29yX1Rhc2sgaXMKICAgICAgZW50cnkgU3RhcnQ7CiAgIGVuZCBTZW5zb3JfVGFzazsKCiAgIHRhc2sgYm9keSBTZW5zb3JfVGFzayBpcwogICBiZWdpbgogICAgICBhY2NlcHQgU3RhcnQ7CiAgICAgIGxvb3AKICAgICAgICAgLS0gU2ltdWxhY2nDsyBkZSBsZWN0dXJhIGRlIHRlbXBlcmF0dXJhCiAgICAgICAgIFB1dF9MaW5lKCJUZW1wZXJhdHVyZTogIiAmIEludGVnZXInSW1hZ2UoMjUgKyBJbnRlZ2VyJ1JhbmRvbSkpOwogICAgICAgICBkZWxheSAyLjA7CiAgICAgIGVuZCBsb29wOwogICBlbmQgU2Vuc29yX1Rhc2s7CgogICBTZW5zb3IgOiBTZW5zb3JfVGFzazsKYmVnaW4KICAgU2Vuc29yLlN0YXJ0OwplbmQgVGVtcGVyYXR1cmVfU2Vuc29yOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with Ada.Text_IO; use Ada.Text_IO;

procedure Temperature_Sensor is
   task type Sensor_Task is
      entry Start;
   end Sensor_Task;

   task body Sensor_Task is
   begin
      accept Start;
      loop
         -- Simulaci&oacute; de lectura de temperatura
         Put_Line(&quot;Temperature: &quot; &amp; Integer'Image(25 + Integer'Random));
         delay 2.0;
      end loop;
   end Sensor_Task;

   Sensor : Sensor_Task;
begin
   Sensor.Start;
end Temperature_Sensor;</pre></div><div class='content'></div><h2>Exercici 2: Utilitzar un Objecte Protegit per Compartir Dades</h2>
<div class='content'><p>Crea un objecte protegit que emmagatzemi un comptador. Implementa tasques que incrementin i llegeixin el valor del comptador.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvY2VkdXJlIENvdW50ZXJfRXhhbXBsZSBpcwogICBwcm90ZWN0ZWQgdHlwZSBDb3VudGVyIGlzCiAgICAgIHByb2NlZHVyZSBJbmNyZW1lbnQ7CiAgICAgIGZ1bmN0aW9uIFZhbHVlIHJldHVybiBJbnRlZ2VyOwogICBwcml2YXRlCiAgICAgIENvdW50IDogSW50ZWdlciA6PSAwOwogICBlbmQgQ291bnRlcjsKCiAgIHByb3RlY3RlZCBib2R5IENvdW50ZXIgaXMKICAgICAgcHJvY2VkdXJlIEluY3JlbWVudCBpcwogICAgICBiZWdpbgogICAgICAgICBDb3VudCA6PSBDb3VudCArIDE7CiAgICAgIGVuZCBJbmNyZW1lbnQ7CgogICAgICBmdW5jdGlvbiBWYWx1ZSByZXR1cm4gSW50ZWdlciBpcwogICAgICBiZWdpbgogICAgICAgICByZXR1cm4gQ291bnQ7CiAgICAgIGVuZCBWYWx1ZTsKICAgZW5kIENvdW50ZXI7CgogICBTaGFyZWRfQ291bnRlciA6IENvdW50ZXI7CgogICB0YXNrIHR5cGUgSW5jcmVtZW50X1Rhc2sgaXMKICAgZW5kIEluY3JlbWVudF9UYXNrOwoKICAgdGFzayBib2R5IEluY3JlbWVudF9UYXNrIGlzCiAgIGJlZ2luCiAgICAgIGxvb3AKICAgICAgICAgU2hhcmVkX0NvdW50ZXIuSW5jcmVtZW50OwogICAgICAgICBkZWxheSAxLjA7CiAgICAgIGVuZCBsb29wOwogICBlbmQgSW5jcmVtZW50X1Rhc2s7CgogICB0YXNrIHR5cGUgUmVhZF9UYXNrIGlzCiAgIGVuZCBSZWFkX1Rhc2s7CgogICB0YXNrIGJvZHkgUmVhZF9UYXNrIGlzCiAgIGJlZ2luCiAgICAgIGxvb3AKICAgICAgICAgUHV0X0xpbmUoIkNvdW50ZXIgVmFsdWU6ICIgJiBJbnRlZ2VyJ0ltYWdlKFNoYXJlZF9Db3VudGVyLlZhbHVlKSk7CiAgICAgICAgIGRlbGF5IDIuMDsKICAgICAgZW5kIGxvb3A7CiAgIGVuZCBSZWFkX1Rhc2s7CgogICBJbmNyZW1lbnRlciA6IEluY3JlbWVudF9UYXNrOwogICBSZWFkZXIgOiBSZWFkX1Rhc2s7CmJlZ2luCiAgIG51bGw7CmVuZCBDb3VudGVyX0V4YW1wbGU7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with Ada.Text_IO; use Ada.Text_IO;

procedure Counter_Example is
   protected type Counter is
      procedure Increment;
      function Value return Integer;
   private
      Count : Integer := 0;
   end Counter;

   protected body Counter is
      procedure Increment is
      begin
         Count := Count + 1;
      end Increment;

      function Value return Integer is
      begin
         return Count;
      end Value;
   end Counter;

   Shared_Counter : Counter;

   task type Increment_Task is
   end Increment_Task;

   task body Increment_Task is
   begin
      loop
         Shared_Counter.Increment;
         delay 1.0;
      end loop;
   end Increment_Task;

   task type Read_Task is
   end Read_Task;

   task body Read_Task is
   begin
      loop
         Put_Line(&quot;Counter Value: &quot; &amp; Integer'Image(Shared_Counter.Value));
         delay 2.0;
      end loop;
   end Read_Task;

   Incrementer : Increment_Task;
   Reader : Read_Task;
begin
   null;
end Counter_Example;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat els conceptes bàsics dels sistemes en temps real i com Ada proporciona eines per implementar aquests sistemes. Hem après a crear tasques i objectes protegits per gestionar la concurrència i la sincronització. Els exercicis pràctics han reforçat aquests conceptes amb exemples concrets. En el següent tema, explorarem la sincronització i la comunicació en més detall.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-protected-objects' title="Objectes Protegits">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-synchronization-and-communication' title="Sincronització i Comunicació">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
