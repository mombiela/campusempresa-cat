<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves de Cap a Cap</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ionic/06-02-end-to-end-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ionic/06-02-end-to-end-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ionic/06-02-end-to-end-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/ionic/06-02-end-to-end-testing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/ionic/06-02-end-to-end-testing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-unit-testing' title="Proves Unitàries en Ionic">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves de Cap a Cap</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-building-production' title="Construint per a Producció">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les proves de cap a cap (E2E) són un tipus de prova que simula el comportament real de l'usuari per assegurar-se que totes les parts d'una aplicació funcionen correctament quan es combinen. Aquest tipus de proves són crucials per garantir que la teva aplicació Ionic funcioni com s'espera en un entorn real.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Entendre què són les proves de cap a cap.</li>
<li>Configurar l'entorn per a les proves E2E en una aplicació Ionic.</li>
<li>Escriure i executar proves E2E utilitzant Cypress.</li>
<li>Analitzar els resultats de les proves i solucionar problemes comuns.</li>
</ul>
</div><h1>Què són les Proves de Cap a Cap?</h1>
<div class='content'><p>Les proves de cap a cap verifiquen el funcionament de l'aplicació des del punt de vista de l'usuari final. Aquestes proves cobreixen tot el flux de treball de l'aplicació, des de la interfície d'usuari fins a la base de dades, assegurant-se que totes les parts interactuen correctament.</p>
</div><h2>Avantatges de les Proves E2E</h2>
<div class='content'><ul>
<li><strong>Cobertura Completa:</strong> Verifiquen el funcionament de l'aplicació en conjunt.</li>
<li><strong>Detecció de Problemes d'Integració:</strong> Identifiquen problemes que poden no ser evidents en proves unitàries o de components.</li>
<li><strong>Simulació Realista:</strong> Simulen el comportament real de l'usuari, proporcionant una visió més precisa de com es comportarà l'aplicació en producció.</li>
</ul>
</div><h1>Configuració de l'Entorn per a Proves E2E</h1>
<div class='content'><p>Per a aquest curs, utilitzarem Cypress, una eina popular per a proves E2E.</p>
</div><h2>Instal·lació de Cypress</h2>
<div class='content'><ol>
<li>
<p><strong>Instal·la Cypress com a dependència de desenvolupament:</strong></p>
<pre><code class="language-bash">npm install cypress --save-dev
</code></pre>
</li>
<li>
<p><strong>Afegeix un script per executar Cypress al teu <code>package.json</code>:</strong></p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;cypress:open&quot;: &quot;cypress open&quot;
}
</code></pre>
</li>
<li>
<p><strong>Executa Cypress per primera vegada:</strong></p>
<pre><code class="language-bash">npm run cypress:open
</code></pre>
<p>Això obrirà la interfície de Cypress i crearà una estructura de carpetes per a les proves.</p>
</li>
</ol>
</div><h1>Escriure i Executar Proves E2E</h1>
<div class='content'></div><h2>Exemple de Prova E2E</h2>
<div class='content'><p>Suposem que tenim una aplicació Ionic amb una pàgina de login. Escriurem una prova per verificar que un usuari pot iniciar sessió correctament.</p>
<ol>
<li>
<p><strong>Crea un fitxer de prova:</strong>
Crea un fitxer anomenat <code>login.spec.js</code> dins de la carpeta <code>cypress/integration</code>.</p>
</li>
<li>
<p><strong>Escriu la prova:</strong></p>
<pre><code class="language-javascript">describe('Login Page', () =&gt; {
  it('should log in successfully with valid credentials', () =&gt; {
    cy.visit('/login'); // Navega a la pàgina de login

    cy.get('input[name=&quot;email&quot;]').type('user@example.com'); // Introdueix l'email
    cy.get('input[name=&quot;password&quot;]').type('password123'); // Introdueix la contrasenya
    cy.get('button[type=&quot;submit&quot;]').click(); // Fes clic al botó de login

    // Verifica que l'usuari ha iniciat sessió correctament
    cy.url().should('include', '/dashboard');
    cy.get('.welcome-message').should('contain', 'Welcome, User!');
  });
});
</code></pre>
</li>
</ol>
</div><h2>Executar les Proves</h2>
<div class='content'><p>Per executar les proves, simplement obre Cypress amb el següent comandament:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHJ1biBjeXByZXNzOm9wZW4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm run cypress:open</pre></div><div class='content'><p>A la interfície de Cypress, selecciona el fitxer <code>login.spec.js</code> per executar la prova.</p>
</div><h1>Analitzar els Resultats de les Proves</h1>
<div class='content'><p>Després d'executar les proves, Cypress mostrarà els resultats a la seva interfície. Aquí podràs veure quines proves han passat i quines han fallat, juntament amb captures de pantalla i vídeos de les proves fallides.</p>
</div><h2>Solucionar Problemes Comuns</h2>
<div class='content'><ul>
<li><strong>Elements No Trobats:</strong> Assegura't que els selectors utilitzats a les proves són correctes i que els elements estan presents al DOM.</li>
<li><strong>Temps d'Espera:</strong> Utilitza comandes com <code>cy.wait()</code> o <code>cy.get().should('be.visible')</code> per gestionar els temps d'espera en cas que els elements triguin a carregar.</li>
<li><strong>Errors de Xarxa:</strong> Verifica que el servidor backend està funcionant correctament i que les peticions HTTP no estan fallant.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem après què són les proves de cap a cap i com configurar Cypress per escriure i executar aquestes proves en una aplicació Ionic. Les proves E2E són essencials per assegurar-se que la teva aplicació funciona correctament des del punt de vista de l'usuari final, cobrint tot el flux de treball de l'aplicació.</p>
<p>En el següent tema, explorarem com construir la teva aplicació per a producció, assegurant-nos que estigui optimitzada i llesta per ser desplegada a les botigues d'aplicacions.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-unit-testing' title="Proves Unitàries en Ionic">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-building-production' title="Construint per a Producció">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
