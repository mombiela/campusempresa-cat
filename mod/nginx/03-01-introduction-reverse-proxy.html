<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Introducció al proxy invers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nginx/03-01-introduction-reverse-proxy" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nginx/03-01-introduction-reverse-proxy" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nginx/03-01-introduction-reverse-proxy" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "tech-tools";
  		var MOD_NAME = "nginx";
  		var TEMA_NAME = "3-1";
  		var TYPE = "mod";
  		var PATH = "mod/nginx/03-01-introduction-reverse-proxy";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/nginx/03-01-introduction-reverse-proxy" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/nginx/03-01-introduction-reverse-proxy" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="nginx">
		<a  href="#" class="text-secondary d-none" data-read-mod="nginx" data-read-unit="3-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="nginx" data-unread-unit="3-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-04-logging-log-formats' title="Registre i formats de registre" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-04-logging-log-formats' title="Registre i formats de registre" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Introducció al proxy invers</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-02-configuring-reverse-proxy' title="Configurant un proxy invers" class="py-2 px-3 btn btn-primary"
				data-read-mod="nginx" data-read-unit="3-1">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-02-configuring-reverse-proxy' title="Configurant un proxy invers" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nginx" data-read-unit="3-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem què és un proxy invers, per què és útil i com NGINX pot ser configurat per actuar com a proxy invers. Un proxy invers és una eina poderosa que pot millorar la seguretat, el rendiment i la gestió del trànsit de les aplicacions web.</p>
</div><h1>Què és un proxy invers?</h1>
<div class='content'><p>Un proxy invers és un servidor que es troba entre els clients i els servidors d'aplicacions. Quan un client fa una sol·licitud, aquesta és rebuda pel proxy invers, que després la redirigeix al servidor d'aplicacions adequat. La resposta del servidor d'aplicacions és enviada de nou al proxy invers, que finalment la retorna al client.</p>
</div><h2>Beneficis d'un proxy invers</h2>
<div class='content'><ol>
<li><strong>Seguretat</strong>: Amaga els servidors d'aplicacions dels clients, protegint-los de possibles atacs directes.</li>
<li><strong>Balanceig de càrrega</strong>: Distribueix les sol·licituds entre diversos servidors d'aplicacions per evitar sobrecàrregues.</li>
<li><strong>Caché</strong>: Emmagatzema respostes de manera temporal per reduir la càrrega dels servidors d'aplicacions i millorar el temps de resposta.</li>
<li><strong>SSL/TLS</strong>: Gestiona la terminació SSL/TLS, descarregant aquesta tasca dels servidors d'aplicacions.</li>
<li><strong>Comprovacions de salut</strong>: Monitoritza l'estat dels servidors d'aplicacions i redirigeix el trànsit només als servidors que estan funcionant correctament.</li>
</ol>
</div><h1>Com funciona un proxy invers amb NGINX?</h1>
<div class='content'><p>NGINX és una eina molt popular per configurar un proxy invers gràcies a la seva eficiència i flexibilitat. A continuació, veurem un exemple bàsic de configuració de NGINX com a proxy invers.</p>
</div><h2>Exemple de configuració bàsica</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKCiAgICBzZXJ2ZXJfbmFtZSBleGFtcGxlLmNvbTsKCiAgICBsb2NhdGlvbiAvIHsKICAgICAgICBwcm94eV9wYXNzIGh0dHA6Ly9iYWNrZW5kX3NlcnZlcjsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIEhvc3QgJGhvc3Q7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLVJlYWwtSVAgJHJlbW90ZV9hZGRyOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgWC1Gb3J3YXJkZWQtRm9yICRwcm94eV9hZGRfeF9mb3J3YXJkZWRfZm9yOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgWC1Gb3J3YXJkZWQtUHJvdG8gJHNjaGVtZTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;

    server_name example.com;

    location / {
        proxy_pass http://backend_server;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</pre></div><div class='content'><h4>Explicació del codi</h4>
<ul>
<li><code>listen 80;</code>: Indica que el servidor escoltarà a la porta 80 (HTTP).</li>
<li><code>server_name example.com;</code>: Defineix el nom del servidor.</li>
<li><code>location / { ... }</code>: Defineix una ubicació que coincideix amb totes les sol·licituds.
<ul>
<li><code>proxy_pass http://backend_server;</code>: Redirigeix les sol·licituds al servidor d'aplicacions anomenat <code>backend_server</code>.</li>
<li><code>proxy_set_header Host $host;</code>: Configura l'encapçalament <code>Host</code> amb el nom del servidor.</li>
<li><code>proxy_set_header X-Real-IP $remote_addr;</code>: Afegeix l'adreça IP real del client a l'encapçalament <code>X-Real-IP</code>.</li>
<li><code>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code>: Afegeix l'adreça IP del client a l'encapçalament <code>X-Forwarded-For</code>.</li>
<li><code>proxy_set_header X-Forwarded-Proto $scheme;</code>: Afegeix el protocol utilitzat (HTTP o HTTPS) a l'encapçalament <code>X-Forwarded-Proto</code>.</li>
</ul>
</li>
</ul>
</div><h2>Exercici pràctic</h2>
<div class='content'><p><strong>Objectiu:</strong> Configurar NGINX com a proxy invers per a un servidor d'aplicacions local.</p>
<ol>
<li><strong>Instal·la NGINX</strong> si no ho has fet ja.</li>
<li><strong>Crea un fitxer de configuració</strong> per al teu servidor NGINX (per exemple, <code>/etc/nginx/conf.d/reverse_proxy.conf</code>).</li>
<li><strong>Afegeix la configuració següent</strong> al fitxer:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKCiAgICBzZXJ2ZXJfbmFtZSBsb2NhbGhvc3Q7CgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vMTI3LjAuMC4xOjgwODA7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBIb3N0ICRob3N0OwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgWC1SZWFsLUlQICRyZW1vdGVfYWRkcjsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtRm9yd2FyZGVkLUZvciAkcHJveHlfYWRkX3hfZm9yd2FyZGVkX2ZvcjsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtRm9yd2FyZGVkLVByb3RvICRzY2hlbWU7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;

    server_name localhost;

    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</pre></div><div class='content'><ol start="4">
<li><strong>Reinicia NGINX</strong> per aplicar els canvis:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBuZ2lueA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo systemctl restart nginx</pre></div><div class='content'><ol start="5">
<li><strong>Verifica la configuració</strong> accedint a <code>http://localhost</code> des del teu navegador. Hauries de veure la resposta del servidor d'aplicacions que escolta a la porta 8080.</li>
</ol>
</div><h2>Solució de problemes comuns</h2>
<div class='content'><ul>
<li><strong>Error 502 Bad Gateway</strong>: Això pot indicar que el servidor d'aplicacions no està disponible o que NGINX no pot connectar-s'hi. Verifica que el servidor d'aplicacions està en funcionament i que la configuració de <code>proxy_pass</code> és correcta.</li>
<li><strong>Error 404 Not Found</strong>: Assegura't que la ruta de la sol·licitud és correcta i que el servidor d'aplicacions pot gestionar-la.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après què és un proxy invers, els seus beneficis i com configurar NGINX per actuar com a proxy invers. Aquesta configuració és fonamental per millorar la seguretat, el rendiment i la gestió del trànsit de les aplicacions web. En el següent tema, aprofundirem en la configuració detallada d'un proxy invers amb NGINX.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-04-logging-log-formats' title="Registre i formats de registre" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-04-logging-log-formats' title="Registre i formats de registre" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-02-configuring-reverse-proxy' title="Configurant un proxy invers" class="py-2 px-3 btn btn-primary"
				data-read-mod="nginx" data-read-unit="3-1">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-02-configuring-reverse-proxy' title="Configurant un proxy invers" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nginx" data-read-unit="3-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de NGINX</h1>
<h2>Mòdul 1: Introducció a NGINX</h2>
<ul>
<li><a href="01-01-what-is-nginx">Què és NGINX?</a></li>
<li><a href="01-02-installing-nginx">Instal·lant NGINX</a></li>
<li><a href="01-03-basic-nginx-configuration">Configuració bàsica de NGINX</a></li>
<li><a href="01-04-starting-stopping-nginx">Iniciant i aturant NGINX</a></li>
</ul>
<h2>Mòdul 2: NGINX com a servidor web</h2>
<ul>
<li><a href="02-01-serving-static-content">Servint contingut estàtic</a></li>
<li><a href="02-02-directory-listings">Llistats de directoris</a></li>
<li><a href="02-03-custom-error-pages">Pàgines d'error personalitzades</a></li>
<li><a href="02-04-logging-log-formats">Registre i formats de registre</a></li>
</ul>
<h2>Mòdul 3: NGINX com a proxy invers</h2>
<ul>
<li><a href="03-01-introduction-reverse-proxy">Introducció al proxy invers</a></li>
<li><a href="03-02-configuring-reverse-proxy">Configurant un proxy invers</a></li>
<li><a href="03-03-load-balancing">Balanceig de càrrega</a></li>
<li><a href="03-04-health-checks">Comprovacions de salut</a></li>
</ul>
<h2>Mòdul 4: Seguretat i optimització</h2>
<ul>
<li><a href="04-01-basic-security-practices">Pràctiques bàsiques de seguretat</a></li>
<li><a href="04-02-rate-limiting">Limitació de velocitat</a></li>
<li><a href="04-03-ssl-tls-configuration">Configuració SSL/TLS</a></li>
<li><a href="04-04-caching">Caché</a></li>
</ul>
<h2>Mòdul 5: Funcions avançades de NGINX</h2>
<ul>
<li><a href="05-01-nginx-modules">Mòduls de NGINX</a></li>
<li><a href="05-02-using-nginx-docker">Utilitzant NGINX amb Docker</a></li>
<li><a href="05-03-nginx-http2">NGINX i HTTP/2</a></li>
<li><a href="05-04-nginx-grpc">NGINX i gRPC</a></li>
</ul>
<h2>Mòdul 6: Monitorització i resolució de problemes</h2>
<ul>
<li><a href="06-01-monitoring-nginx">Monitoritzant NGINX</a></li>
<li><a href="06-02-common-issues-solutions">Problemes comuns i solucions</a></li>
<li><a href="06-03-performance-tuning">Optimització del rendiment</a></li>
<li><a href="06-04-debugging-nginx">Depurant NGINX</a></li>
</ul>
<h2>Mòdul 7: NGINX Plus</h2>
<ul>
<li><a href="07-01-introduction-nginx-plus">Introducció a NGINX Plus</a></li>
<li><a href="07-02-advanced-load-balancing">Balanceig de càrrega avançat</a></li>
<li><a href="07-03-application-health-monitoring">Monitorització de la salut de l'aplicació</a></li>
<li><a href="07-04-dynamic-configuration">Configuració dinàmica</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
