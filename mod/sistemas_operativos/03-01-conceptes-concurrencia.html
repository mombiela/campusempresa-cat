<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conceptes de Concurrència</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sistemas_operativos/03-01-conceptos-concurrencia" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sistemas_operativos/03-01-conceptes-concurrencia" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sistemas_operativos/03-01-concepts-concurrency" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/sistemas_operativos/03-01-concepts-concurrency" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/sistemas_operativos/03-01-conceptos-concurrencia" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges de Programació</a>
				 					<a href="/categ/frameworks">Frameworks i Llibreries</a>
				 					<a href="/categ/tech-tools">Eines Tècniques</a>
				 					<a href="/categ/foundations">Fonaments Teòrics</a>
				 					<a href="/categ/soft-skills">Habilitats Socials</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-gestio-dispositius' title="Gestió de Dispositius">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Conceptes de Concurrència</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-fils-processos' title="Fils i Processos">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La concurrència és un concepte fonamental en els sistemes operatius moderns, ja que permet que múltiples tasques es realitzin simultàniament, millorant així l'eficiència i la utilització dels recursos del sistema. En aquesta secció, explorarem els conceptes bàsics de la concurrència, les seves aplicacions i els desafiaments associats.</p>
</div><h1><ol>
<li>Què és la Concurrència?</li>
</ol>
</h1>
<div class='content'><p>La concurrència es refereix a la capacitat d'un sistema per gestionar múltiples tasques al mateix temps. Això no significa necessàriament que les tasques s'executin exactament al mateix temps (com en el cas del paral·lelisme), sinó que el sistema pot alternar entre tasques de manera que semblin estar executant-se simultàniament.</p>
</div><h2><p>1.1. Diferència entre Concurrència i Paral·lelisme</p>
</h2>
<div class='content'><ul>
<li><strong>Concurrència</strong>: Es refereix a la gestió de múltiples tasques que poden estar en progrés al mateix temps. No implica necessàriament que les tasques s'executin simultàniament, sinó que poden estar intercalades.</li>
<li><strong>Paral·lelisme</strong>: Es refereix a l'execució simultània de múltiples tasques en diferents processadors o nuclis de processament.</li>
</ul>
<table>
<thead>
<tr>
<th>Concepte</th>
<th>Descripció</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td>Concurrència</td>
<td>Gestió de múltiples tasques al mateix temps, alternant entre elles.</td>
<td>Un sistema operatiu que alterna entre processos.</td>
</tr>
<tr>
<td>Paral·lelisme</td>
<td>Execució simultània de múltiples tasques en diferents processadors.</td>
<td>Un sistema amb múltiples nuclis executant diferents fils al mateix temps.</td>
</tr>
</tbody>
</table>
</div><h1><ol start="2">
<li>Avantatges de la Concurrència</li>
</ol>
</h1>
<div class='content'><ul>
<li><strong>Millor Utilització dels Recursos</strong>: Permet que els recursos del sistema (CPU, memòria, etc.) siguin utilitzats de manera més eficient.</li>
<li><strong>Major Rendiment</strong>: Pot millorar el rendiment global del sistema, especialment en sistemes amb múltiples processadors.</li>
<li><strong>Millor Resposta</strong>: Pot millorar la resposta del sistema, ja que les tasques poden ser ateses de manera més ràpida.</li>
</ul>
</div><h1><ol start="3">
<li>Desafiaments de la Concurrència</li>
</ol>
</h1>
<div class='content'><ul>
<li><strong>Condicions de Cursa</strong>: Situacions en què el resultat de l'execució depèn de l'ordre en què s'executen les instruccions.</li>
<li><strong>Interbloquejos (Deadlocks)</strong>: Situacions en què dos o més tasques es bloquegen mútuament esperant recursos que l'altra tasca té.</li>
<li><strong>Inanició (Starvation)</strong>: Situació en què una tasca no rep els recursos necessaris per executar-se perquè altres tasques acaparen els recursos.</li>
</ul>
</div><h1><ol start="4">
<li>Models de Concurrència</li>
</ol>
</h1>
<div class='content'></div><h2><p>4.1. Fils (Threads)</p>
</h2>
<div class='content'><p>Els fils són unitats d'execució dins d'un procés. Un procés pot tenir múltiples fils que comparteixen el mateix espai d'adreces, però s'executen de manera concurrent.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp2b2lkKiBwcmludF9tZXNzYWdlKHZvaWQqIHB0cikgewogICAgY2hhciogbWVzc2FnZSA9IChjaGFyKikgcHRyOwogICAgcHJpbnRmKCIlc1xuIiwgbWVzc2FnZSk7CiAgICByZXR1cm4gTlVMTDsKfQoKaW50IG1haW4oKSB7CiAgICBwdGhyZWFkX3QgdGhyZWFkMSwgdGhyZWFkMjsKICAgIGNoYXIqIG1lc3NhZ2UxID0gIkZpbHMgZW4gZXhlY3VjacOzIjsKICAgIGNoYXIqIG1lc3NhZ2UyID0gIkNvbmN1cnLDqG5jaWEgZW4gYWNjacOzIjsKCiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMSwgTlVMTCwgcHJpbnRfbWVzc2FnZSwgKHZvaWQqKSBtZXNzYWdlMSk7CiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMiwgTlVMTCwgcHJpbnRfbWVzc2FnZSwgKHZvaWQqKSBtZXNzYWdlMik7CgogICAgcHRocmVhZF9qb2luKHRocmVhZDEsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKHRocmVhZDIsIE5VTEwpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;

void* print_message(void* ptr) {
    char* message = (char*) ptr;
    printf(&quot;%s\n&quot;, message);
    return NULL;
}

int main() {
    pthread_t thread1, thread2;
    char* message1 = &quot;Fils en execuci&oacute;&quot;;
    char* message2 = &quot;Concurr&egrave;ncia en acci&oacute;&quot;;

    pthread_create(&amp;thread1, NULL, print_message, (void*) message1);
    pthread_create(&amp;thread2, NULL, print_message, (void*) message2);

    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);

    return 0;
}</pre></div><div class='content'></div><h2><p>4.2. Processos</p>
</h2>
<div class='content'><p>Els processos són programes en execució que tenen el seu propi espai d'adreces. La concurrència entre processos es gestiona a través del sistema operatiu.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDx1bmlzdGQuaD4KCmludCBtYWluKCkgewogICAgcGlkX3QgcGlkID0gZm9yaygpOwoKICAgIGlmIChwaWQgPT0gMCkgewogICAgICAgIC8vIENvZGkgZGVsIHByb2PDqXMgZmlsbAogICAgICAgIHByaW50ZigiUHJvY8OpcyBmaWxsXG4iKTsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gQ29kaSBkZWwgcHJvY8OpcyBwYXJlCiAgICAgICAgcHJpbnRmKCJQcm9jw6lzIHBhcmVcbiIpOwogICAgfQoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;

int main() {
    pid_t pid = fork();

    if (pid == 0) {
        // Codi del proc&eacute;s fill
        printf(&quot;Proc&eacute;s fill\n&quot;);
    } else {
        // Codi del proc&eacute;s pare
        printf(&quot;Proc&eacute;s pare\n&quot;);
    }

    return 0;
}</pre></div><div class='content'></div><h1><ol start="5">
<li>Exercicis Pràctics</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear i Gestionar Fils</p>
</h2>
<div class='content'><p><strong>Objectiu</strong>: Escriu un programa en C que creï tres fils. Cada fil ha de imprimir un missatge diferent.</p>
<p><strong>Solució</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp2b2lkKiBwcmludF9tZXNzYWdlKHZvaWQqIHB0cikgewogICAgY2hhciogbWVzc2FnZSA9IChjaGFyKikgcHRyOwogICAgcHJpbnRmKCIlc1xuIiwgbWVzc2FnZSk7CiAgICByZXR1cm4gTlVMTDsKfQoKaW50IG1haW4oKSB7CiAgICBwdGhyZWFkX3QgdGhyZWFkMSwgdGhyZWFkMiwgdGhyZWFkMzsKICAgIGNoYXIqIG1lc3NhZ2UxID0gIkZpbCAxIGVuIGV4ZWN1Y2nDsyI7CiAgICBjaGFyKiBtZXNzYWdlMiA9ICJGaWwgMiBlbiBleGVjdWNpw7MiOwogICAgY2hhciogbWVzc2FnZTMgPSAiRmlsIDMgZW4gZXhlY3VjacOzIjsKCiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMSwgTlVMTCwgcHJpbnRfbWVzc2FnZSwgKHZvaWQqKSBtZXNzYWdlMSk7CiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMiwgTlVMTCwgcHJpbnRfbWVzc2FnZSwgKHZvaWQqKSBtZXNzYWdlMik7CiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMywgTlVMTCwgcHJpbnRfbWVzc2FnZSwgKHZvaWQqKSBtZXNzYWdlMyk7CgogICAgcHRocmVhZF9qb2luKHRocmVhZDEsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKHRocmVhZDIsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKHRocmVhZDMsIE5VTEwpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;

void* print_message(void* ptr) {
    char* message = (char*) ptr;
    printf(&quot;%s\n&quot;, message);
    return NULL;
}

int main() {
    pthread_t thread1, thread2, thread3;
    char* message1 = &quot;Fil 1 en execuci&oacute;&quot;;
    char* message2 = &quot;Fil 2 en execuci&oacute;&quot;;
    char* message3 = &quot;Fil 3 en execuci&oacute;&quot;;

    pthread_create(&amp;thread1, NULL, print_message, (void*) message1);
    pthread_create(&amp;thread2, NULL, print_message, (void*) message2);
    pthread_create(&amp;thread3, NULL, print_message, (void*) message3);

    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);
    pthread_join(thread3, NULL);

    return 0;
}</pre></div><div class='content'></div><h2><p>Exercici 2: Evitar Condicions de Cursa</p>
</h2>
<div class='content'><p><strong>Objectiu</strong>: Escriu un programa en C que creï dos fils que incrementin una variable global. Utilitza mecanismes de sincronització per evitar condicions de cursa.</p>
<p><strong>Solució</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+CgppbnQgY291bnRlciA9IDA7CnB0aHJlYWRfbXV0ZXhfdCBsb2NrOwoKdm9pZCogaW5jcmVtZW50X2NvdW50ZXIodm9pZCogcHRyKSB7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDAwMDsgaSsrKSB7CiAgICAgICAgcHRocmVhZF9tdXRleF9sb2NrKCZsb2NrKTsKICAgICAgICBjb3VudGVyKys7CiAgICAgICAgcHRocmVhZF9tdXRleF91bmxvY2soJmxvY2spOwogICAgfQogICAgcmV0dXJuIE5VTEw7Cn0KCmludCBtYWluKCkgewogICAgcHRocmVhZF90IHRocmVhZDEsIHRocmVhZDI7CgogICAgcHRocmVhZF9tdXRleF9pbml0KCZsb2NrLCBOVUxMKTsKCiAgICBwdGhyZWFkX2NyZWF0ZSgmdGhyZWFkMSwgTlVMTCwgaW5jcmVtZW50X2NvdW50ZXIsIE5VTEwpOwogICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZDIsIE5VTEwsIGluY3JlbWVudF9jb3VudGVyLCBOVUxMKTsKCiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMSwgTlVMTCk7CiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMiwgTlVMTCk7CgogICAgcHRocmVhZF9tdXRleF9kZXN0cm95KCZsb2NrKTsKCiAgICBwcmludGYoIkNvdW50ZXI6ICVkXG4iLCBjb3VudGVyKTsKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;

int counter = 0;
pthread_mutex_t lock;

void* increment_counter(void* ptr) {
    for (int i = 0; i &lt; 100000; i++) {
        pthread_mutex_lock(&amp;lock);
        counter++;
        pthread_mutex_unlock(&amp;lock);
    }
    return NULL;
}

int main() {
    pthread_t thread1, thread2;

    pthread_mutex_init(&amp;lock, NULL);

    pthread_create(&amp;thread1, NULL, increment_counter, NULL);
    pthread_create(&amp;thread2, NULL, increment_counter, NULL);

    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);

    pthread_mutex_destroy(&amp;lock);

    printf(&quot;Counter: %d\n&quot;, counter);
    return 0;
}</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem explorat els conceptes bàsics de la concurrència, incloent-hi la diferència entre concurrència i paral·lelisme, els avantatges i desafiaments de la concurrència, i els models de concurrència com els fils i els processos. També hem proporcionat exercicis pràctics per reforçar els conceptes apresos. En la següent secció, aprofundirem en els fils i processos, incloent-hi la seva creació i gestió.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-gestio-dispositius' title="Gestió de Dispositius">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-fils-processos' title="Fils i Processos">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
