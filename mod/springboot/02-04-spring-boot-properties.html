<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propietats de Spring Boot</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/02-04-spring-boot-properties" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/02-04-spring-boot-properties" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/02-04-spring-boot-properties" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/springboot/02-04-spring-boot-properties" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/springboot/02-04-spring-boot-properties" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-spring-boot-configuration' title="Configuració de Spring Boot">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Propietats de Spring Boot</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-introduction-restful-web-services' title="Introducció als serveis web RESTful">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les propietats de Spring Boot, que són una part fonamental per configurar i personalitzar les aplicacions. Les propietats permeten ajustar el comportament de l'aplicació sense necessitat de modificar el codi font. A continuació, veurem com definir i utilitzar aquestes propietats.</p>
</div><h1>1. Introducció a les propietats de Spring Boot</h1>
<div class='content'><p>Spring Boot proporciona un mecanisme senzill per gestionar la configuració de l'aplicació mitjançant fitxers de propietats. Els fitxers de propietats més comuns són <code>application.properties</code> i <code>application.yml</code>.</p>
</div><h2>Fitxer `application.properties`</h2>
<div class='content'><p>Aquest fitxer utilitza una sintaxi de clau-valor per definir les propietats:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MQpzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2L215ZGIKc3ByaW5nLmRhdGFzb3VyY2UudXNlcm5hbWU9cm9vdApzcHJpbmcuZGF0YXNvdXJjZS5wYXNzd29yZD1zZWNyZXQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8081
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret</pre></div><div class='content'></div><h2>Fitxer `application.yml`</h2>
<div class='content'><p>Aquest fitxer utilitza una sintaxi YAML, que és més llegible i estructurada:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyOgogIHBvcnQ6IDgwODEKCnNwcmluZzoKICBkYXRhc291cmNlOgogICAgdXJsOiBqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvbXlkYgogICAgdXNlcm5hbWU6IHJvb3QKICAgIHBhc3N3b3JkOiBzZWNyZXQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server:
  port: 8081

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: secret</pre></div><div class='content'></div><h1>2. Tipus de propietats</h1>
<div class='content'></div><h2>Propietats de configuració del servidor</h2>
<div class='content'><p>Aquestes propietats configuren el servidor integrat de Spring Boot, com el port i el context path:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MQpzZXJ2ZXIuc2VydmxldC5jb250ZXh0LXBhdGg9L215YXBw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8081
server.servlet.context-path=/myapp</pre></div><div class='content'></div><h2>Propietats de configuració de la base de dades</h2>
<div class='content'><p>Aquestes propietats configuren la connexió a la base de dades:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLmRhdGFzb3VyY2UudXJsPWpkYmM6bXlzcWw6Ly9sb2NhbGhvc3Q6MzMwNi9teWRiCnNwcmluZy5kYXRhc291cmNlLnVzZXJuYW1lPXJvb3QKc3ByaW5nLmRhdGFzb3VyY2UucGFzc3dvcmQ9c2VjcmV0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret</pre></div><div class='content'></div><h2>Propietats personalitzades</h2>
<div class='content'><p>Pots definir propietats personalitzades per a la teva aplicació:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXlhcHAuZmVhdHVyZS5lbmFibGVkPXRydWUKbXlhcHAuYXBpLmtleT0xMjM0NQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>myapp.feature.enabled=true
myapp.api.key=12345</pre></div><div class='content'></div><h1>3. Accedint a les propietats en el codi</h1>
<div class='content'></div><h2>Utilitzant l'anotació `@Value`</h2>
<div class='content'><p>L'anotació <code>@Value</code> permet injectar el valor d'una propietat en una variable de classe:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLlZhbHVlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLkNvbXBvbmVudDsKCkBDb21wb25lbnQKcHVibGljIGNsYXNzIE15Q29tcG9uZW50IHsKCiAgICBAVmFsdWUoIiR7bXlhcHAuZmVhdHVyZS5lbmFibGVkfSIpCiAgICBwcml2YXRlIGJvb2xlYW4gZmVhdHVyZUVuYWJsZWQ7CgogICAgQFZhbHVlKCIke215YXBwLmFwaS5rZXl9IikKICAgIHByaXZhdGUgU3RyaW5nIGFwaUtleTsKCiAgICAvLyBNw6h0b2RlcyBkZSBsYSBjbGFzc2UKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component
public class MyComponent {

    @Value(&quot;${myapp.feature.enabled}&quot;)
    private boolean featureEnabled;

    @Value(&quot;${myapp.api.key}&quot;)
    private String apiKey;

    // M&egrave;todes de la classe
}</pre></div><div class='content'></div><h2>Utilitzant la classe `@ConfigurationProperties`</h2>
<div class='content'><p>L'anotació <code>@ConfigurationProperties</code> permet mapar un grup de propietats a una classe Java:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5jb250ZXh0LnByb3BlcnRpZXMuQ29uZmlndXJhdGlvblByb3BlcnRpZXM7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29tcG9uZW50OwoKQENvbXBvbmVudApAQ29uZmlndXJhdGlvblByb3BlcnRpZXMocHJlZml4ID0gIm15YXBwIikKcHVibGljIGNsYXNzIE15QXBwUHJvcGVydGllcyB7CgogICAgcHJpdmF0ZSBib29sZWFuIGZlYXR1cmVFbmFibGVkOwogICAgcHJpdmF0ZSBTdHJpbmcgYXBpS2V5OwoKICAgIC8vIEdldHRlcnMgaSBzZXR0ZXJzCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = &quot;myapp&quot;)
public class MyAppProperties {

    private boolean featureEnabled;
    private String apiKey;

    // Getters i setters
}</pre></div><div class='content'><p>I en el fitxer de configuració:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXlhcHAuZmVhdHVyZS5lbmFibGVkPXRydWUKbXlhcHAuYXBpLmtleT0xMjM0NQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>myapp.feature.enabled=true
myapp.api.key=12345</pre></div><div class='content'></div><h1>4. Perfils de Spring Boot</h1>
<div class='content'><p>Els perfils permeten definir diferents conjunts de propietats per a diferents entorns (per exemple, desenvolupament, prova, producció).</p>
</div><h2>Definint perfils</h2>
<div class='content'><p>Pots definir perfils en fitxers de propietats específics per a cada perfil:</p>
<ul>
<li><code>application-dev.properties</code></li>
<li><code>application-prod.properties</code></li>
</ul>
</div><h2>Activant perfils</h2>
<div class='content'><p>Pots activar un perfil mitjançant la propietat <code>spring.profiles.active</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLnByb2ZpbGVzLmFjdGl2ZT1kZXY="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.profiles.active=dev</pre></div><div class='content'></div><h1>Exercici pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Configurar una aplicació Spring Boot per utilitzar diferents propietats segons l'entorn (desenvolupament i producció).</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>Crea els fitxers <code>application-dev.properties</code> i <code>application-prod.properties</code>.</li>
<li>Defineix propietats diferents en cada fitxer.</li>
<li>Crea una classe Java per accedir a aquestes propietats.</li>
<li>Activa el perfil de desenvolupament i comprova que les propietats es carreguen correctament.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><h4>Fitxer <code>application-dev.properties</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MQpteWFwcC5mZWF0dXJlLmVuYWJsZWQ9dHJ1ZQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8081
myapp.feature.enabled=true</pre></div><div class='content'><h4>Fitxer <code>application-prod.properties</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MApteWFwcC5mZWF0dXJlLmVuYWJsZWQ9ZmFsc2U="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8080
myapp.feature.enabled=false</pre></div><div class='content'><h4>Classe Java</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLlZhbHVlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLkNvbXBvbmVudDsKCkBDb21wb25lbnQKcHVibGljIGNsYXNzIE15Q29tcG9uZW50IHsKCiAgICBAVmFsdWUoIiR7c2VydmVyLnBvcnR9IikKICAgIHByaXZhdGUgaW50IHNlcnZlclBvcnQ7CgogICAgQFZhbHVlKCIke215YXBwLmZlYXR1cmUuZW5hYmxlZH0iKQogICAgcHJpdmF0ZSBib29sZWFuIGZlYXR1cmVFbmFibGVkOwoKICAgIC8vIE3DqHRvZGVzIGRlIGxhIGNsYXNzZQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component
public class MyComponent {

    @Value(&quot;${server.port}&quot;)
    private int serverPort;

    @Value(&quot;${myapp.feature.enabled}&quot;)
    private boolean featureEnabled;

    // M&egrave;todes de la classe
}</pre></div><div class='content'><h4>Activant el perfil de desenvolupament</h4>
<p>En el fitxer <code>application.properties</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLnByb2ZpbGVzLmFjdGl2ZT1kZXY="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.profiles.active=dev</pre></div><div class='content'></div><h2>Verificació</h2>
<div class='content'><p>Executa l'aplicació i comprova que el port del servidor és 8081 i que la funcionalitat està habilitada.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Les propietats de Spring Boot són una eina poderosa per configurar i personalitzar les aplicacions. Hem vist com definir propietats en fitxers de configuració, com accedir-hi des del codi i com utilitzar perfils per gestionar diferents entorns. Amb aquesta base, pots ajustar fàcilment la configuració de la teva aplicació segons les necessitats específiques de cada entorn.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-spring-boot-configuration' title="Configuració de Spring Boot">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-introduction-restful-web-services' title="Introducció als serveis web RESTful">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
