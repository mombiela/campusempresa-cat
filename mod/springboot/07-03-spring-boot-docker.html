<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot amb Docker</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/07-03-spring-boot-docker" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/07-03-spring-boot-docker" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/07-03-spring-boot-docker" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/springboot/07-03-spring-boot-docker" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/springboot/07-03-spring-boot-docker" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-spring-boot-profiles' title="Perfils de Spring Boot">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Spring Boot amb Docker</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-spring-boot-microservices' title="Spring Boot i microserveis">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com contenitzar una aplicació Spring Boot utilitzant Docker. Docker és una eina que permet empaquetar una aplicació i les seves dependències en un contenidor, assegurant que l'aplicació s'executi de manera consistent en qualsevol entorn.</p>
</div><h1><p>Objectius del tema</p>
</h1>
<div class='content'><ul>
<li>Entendre què és Docker i per què és útil.</li>
<li>Aprendre a crear un Dockerfile per a una aplicació Spring Boot.</li>
<li>Construir i executar una imatge Docker de l'aplicació Spring Boot.</li>
<li>Gestionar contenidors Docker.</li>
</ul>
</div><h1><p>Què és Docker?</p>
</h1>
<div class='content'><p>Docker és una plataforma de contenidors que permet als desenvolupadors empaquetar aplicacions juntament amb totes les seves dependències en una unitat estàndard de programari anomenada contenidor. Els contenidors són lleugers, portables i asseguren que l'aplicació s'executi de manera consistent en qualsevol entorn.</p>
</div><h2><p>Beneficis de Docker</p>
</h2>
<div class='content'><ul>
<li><strong>Portabilitat:</strong> Els contenidors poden executar-se en qualsevol màquina que tingui Docker instal·lat.</li>
<li><strong>Aïllament:</strong> Cada contenidor s'executa de manera aïllada, evitant conflictes entre aplicacions.</li>
<li><strong>Escalabilitat:</strong> Facilita l'escalabilitat horitzontal de les aplicacions.</li>
</ul>
</div><h1><p>Creant un Dockerfile per a una aplicació Spring Boot</p>
</h1>
<div class='content'><p>Un Dockerfile és un fitxer de text que conté les instruccions per construir una imatge Docker. A continuació, veurem com crear un Dockerfile per a una aplicació Spring Boot.</p>
</div><h2><p>Exemple de Dockerfile</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVdGlsaXR6YSB1bmEgaW1hdGdlIGJhc2UgZGUgSmF2YQpGUk9NIG9wZW5qZGs6MTEtanJlLXNsaW0KCiMgRXN0YWJsZWl4IGVsIGRpcmVjdG9yaSBkZSB0cmViYWxsIGRpbnMgZGVsIGNvbnRlbmlkb3IKV09SS0RJUiAvYXBwCgojIENvcGlhIGVsIGZpdHhlciBKQVIgZGUgbCdhcGxpY2FjacOzIGFsIGRpcmVjdG9yaSBkZSB0cmViYWxsCkNPUFkgdGFyZ2V0L215LXNwcmluZy1ib290LWFwcC5qYXIgL2FwcC9teS1zcHJpbmctYm9vdC1hcHAuamFyCgojIEV4cG9zYSBlbCBwb3J0IGVuIGVsIHF1YWwgbCdhcGxpY2FjacOzIHMnZXhlY3V0YXLDoApFWFBPU0UgODA4MAoKIyBEZWZpbmVpeCBsYSBjb21hbmRhIHBlciBleGVjdXRhciBsJ2FwbGljYWNpw7MKRU5UUllQT0lOVCBbImphdmEiLCAiLWphciIsICJteS1zcHJpbmctYm9vdC1hcHAuamFyIl0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Utilitza una imatge base de Java
FROM openjdk:11-jre-slim

# Estableix el directori de treball dins del contenidor
WORKDIR /app

# Copia el fitxer JAR de l'aplicaci&oacute; al directori de treball
COPY target/my-spring-boot-app.jar /app/my-spring-boot-app.jar

# Exposa el port en el qual l'aplicaci&oacute; s'executar&agrave;
EXPOSE 8080

# Defineix la comanda per executar l'aplicaci&oacute;
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;my-spring-boot-app.jar&quot;]</pre></div><div class='content'></div><h2><p>Explicació del Dockerfile</p>
</h2>
<div class='content'><ul>
<li><code>FROM openjdk:11-jre-slim</code>: Utilitza una imatge base de Java 11 JRE.</li>
<li><code>WORKDIR /app</code>: Estableix <code>/app</code> com a directori de treball dins del contenidor.</li>
<li><code>COPY target/my-spring-boot-app.jar /app/my-spring-boot-app.jar</code>: Copia el fitxer JAR de l'aplicació al directori de treball.</li>
<li><code>EXPOSE 8080</code>: Exposa el port 8080 perquè l'aplicació sigui accessible.</li>
<li><code>ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;my-spring-boot-app.jar&quot;]</code>: Defineix la comanda per executar l'aplicació.</li>
</ul>
</div><h1><p>Construint i executant la imatge Docker</p>
</h1>
<div class='content'></div><h2><p>Construir la imatge Docker</p>
</h2>
<div class='content'><p>Per construir la imatge Docker, utilitza la comanda següent en el directori on es troba el Dockerfile:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGJ1aWxkIC10IG15LXNwcmluZy1ib290LWFwcCAu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker build -t my-spring-boot-app .</pre></div><div class='content'><p>Aquesta comanda crea una imatge Docker amb el nom <code>my-spring-boot-app</code>.</p>
</div><h2><p>Executar la imatge Docker</p>
</h2>
<div class='content'><p>Per executar la imatge Docker, utilitza la comanda següent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHJ1biAtcCA4MDgwOjgwODAgbXktc3ByaW5nLWJvb3QtYXBw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker run -p 8080:8080 my-spring-boot-app</pre></div><div class='content'><p>Aquesta comanda executa la imatge i mapeja el port 8080 del contenidor al port 8080 de la màquina host.</p>
</div><h1><p>Gestionant contenidors Docker</p>
</h1>
<div class='content'></div><h2><p>Llistar contenidors en execució</p>
</h2>
<div class='content'><p>Per veure els contenidors en execució, utilitza la comanda següent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHBz"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker ps</pre></div><div class='content'></div><h2><p>Aturar un contenidor</p>
</h2>
<div class='content'><p>Per aturar un contenidor, utilitza la comanda següent, substituint <code>&lt;container_id&gt;</code> pel ID del contenidor:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHN0b3AgPGNvbnRhaW5lcl9pZD4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker stop &lt;container_id&gt;</pre></div><div class='content'></div><h2><p>Eliminar un contenidor</p>
</h2>
<div class='content'><p>Per eliminar un contenidor, utilitza la comanda següent, substituint <code>&lt;container_id&gt;</code> pel ID del contenidor:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHJtIDxjb250YWluZXJfaWQ+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker rm &lt;container_id&gt;</pre></div><div class='content'></div><h1><p>Exercici pràctic</p>
</h1>
<div class='content'></div><h2><p>Objectiu</p>
</h2>
<div class='content'><p>Contenitzar una aplicació Spring Boot i executar-la en un contenidor Docker.</p>
</div><h2><p>Passos</p>
</h2>
<div class='content'><ol>
<li>Crea un Dockerfile per a la teva aplicació Spring Boot seguint l'exemple proporcionat.</li>
<li>Construeix la imatge Docker utilitzant la comanda <code>docker build</code>.</li>
<li>Executa la imatge Docker utilitzant la comanda <code>docker run</code>.</li>
<li>Verifica que l'aplicació s'executa correctament accedint a <code>http://localhost:8080</code>.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'><ol>
<li>
<p>Crea un fitxer anomenat <code>Dockerfile</code> en el directori arrel del teu projecte Spring Boot amb el següent contingut:</p>
<pre><code class="language-dockerfile">FROM openjdk:11-jre-slim
WORKDIR /app
COPY target/my-spring-boot-app.jar /app/my-spring-boot-app.jar
EXPOSE 8080
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;my-spring-boot-app.jar&quot;]
</code></pre>
</li>
<li>
<p>Construeix la imatge Docker:</p>
<pre><code class="language-sh">docker build -t my-spring-boot-app .
</code></pre>
</li>
<li>
<p>Executa la imatge Docker:</p>
<pre><code class="language-sh">docker run -p 8080:8080 my-spring-boot-app
</code></pre>
</li>
<li>
<p>Accedeix a <code>http://localhost:8080</code> per verificar que l'aplicació s'executa correctament.</p>
</li>
</ol>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem après com contenitzar una aplicació Spring Boot utilitzant Docker. Hem vist com crear un Dockerfile, construir una imatge Docker i executar-la en un contenidor. A més, hem après a gestionar contenidors Docker. Aquest coneixement és essencial per desplegar aplicacions de manera consistent i escalable en diferents entorns.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-spring-boot-profiles' title="Perfils de Spring Boot">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-spring-boot-microservices' title="Spring Boot i microserveis">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
