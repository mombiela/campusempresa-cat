<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millors pràctiques de Spring Boot</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/10-01-spring-boot-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/10-01-spring-boot-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/10-01-spring-boot-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/springboot/10-01-spring-boot-best-practices" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/springboot/10-01-spring-boot-best-practices" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-04-logging-log-management' title="Gestió de registres i logs">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Millors pràctiques de Spring Boot</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-02-common-pitfalls' title="Errors comuns i com evitar-los">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les millors pràctiques per desenvolupar aplicacions amb Spring Boot. Aquestes pràctiques t'ajudaran a escriure codi més net, mantenible i eficient, així com a evitar problemes comuns que poden sorgir durant el desenvolupament.</p>
</div><h1>1. Estructura del Projecte</h1>
<div class='content'></div><h2>1.1. Segueix una estructura de projecte clara</h2>
<div class='content'><ul>
<li><strong>Organitza el codi per capes</strong>: Separa les capes de controladors, serveis i repositoris.</li>
<li><strong>Utilitza paquets significatius</strong>: Agrupa les classes en paquets que reflecteixin la seva funcionalitat.</li>
</ul>
</div><h2>Exemple d'estructura de projecte:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3JjCuKUlOKUgOKUgCBtYWluCiAgICDilJzilIDilIAgamF2YQogICAg4pSCICAg4pSU4pSA4pSAIGNvbQogICAg4pSCICAgICAgIOKUlOKUgOKUgCBleGVtcGxlCiAgICDilIIgICAgICAgICAgIOKUnOKUgOKUgCBjb250cm9sbGVyCiAgICDilIIgICAgICAgICAgIOKUnOKUgOKUgCBzZXJ2aWNlCiAgICDilIIgICAgICAgICAgIOKUnOKUgOKUgCByZXBvc2l0b3J5CiAgICDilIIgICAgICAgICAgIOKUlOKUgOKUgCBtb2RlbAogICAg4pSU4pSA4pSAIHJlc291cmNlcwogICAgICAgIOKUnOKUgOKUgCBzdGF0aWMKICAgICAgICDilJzilIDilIAgdGVtcGxhdGVzCiAgICAgICAg4pSU4pSA4pSAIGFwcGxpY2F0aW9uLnByb3BlcnRpZXM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>src
└── main
    ├── java
    │   └── com
    │       └── exemple
    │           ├── controller
    │           ├── service
    │           ├── repository
    │           └── model
    └── resources
        ├── static
        ├── templates
        └── application.properties</pre></div><div class='content'></div><h1>2. Configuració</h1>
<div class='content'></div><h2>2.1. Utilitza fitxers de configuració externs</h2>
<div class='content'><ul>
<li><strong>application.properties o application.yml</strong>: Emmagatzema la configuració de l'aplicació en aquests fitxers per facilitar la gestió i el canvi de configuracions sense recompilar el codi.</li>
</ul>
</div><h2>Exemple de `application.properties`:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MApzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2L215ZGIKc3ByaW5nLmRhdGFzb3VyY2UudXNlcm5hbWU9cm9vdApzcHJpbmcuZGF0YXNvdXJjZS5wYXNzd29yZD1zZWNyZXQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8080
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret</pre></div><div class='content'></div><h2>2.2. Utilitza perfils de configuració</h2>
<div class='content'><ul>
<li><strong>Perfils</strong>: Defineix diferents perfils per a entorns de desenvolupament, proves i producció.</li>
</ul>
</div><h2>Exemple de perfils:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHBsaWNhdGlvbi1kZXYucHJvcGVydGllcwpzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2L2RldmRiCgojIGFwcGxpY2F0aW9uLXByb2QucHJvcGVydGllcwpzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2L3Byb2RkYg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># application-dev.properties
spring.datasource.url=jdbc:mysql://localhost:3306/devdb

# application-prod.properties
spring.datasource.url=jdbc:mysql://localhost:3306/proddb</pre></div><div class='content'></div><h1>3. Gestió de Dependències</h1>
<div class='content'></div><h2>3.1. Utilitza dependències mínimes</h2>
<div class='content'><ul>
<li><strong>Evita dependències innecessàries</strong>: Inclou només les dependències que realment necessites per evitar inflar l'aplicació i possibles conflictes.</li>
</ul>
</div><h2>Exemple de `pom.xml`:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KICAgICAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXdlYjwvYXJ0aWZhY3RJZD4KICAgIDwvZGVwZW5kZW5jeT4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4KICAgICAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWRhdGEtanBhPC9hcnRpZmFjdElkPgogICAgPC9kZXBlbmRlbmN5PgogICAgPCEtLSBBbHRyZXMgZGVwZW5kw6huY2llcyBuZWNlc3PDoHJpZXMgLS0+CjwvZGVwZW5kZW5jaWVzPg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;!-- Altres depend&egrave;ncies necess&agrave;ries --&gt;
&lt;/dependencies&gt;</pre></div><div class='content'></div><h1>4. Injecció de Dependències</h1>
<div class='content'></div><h2>4.1. Utilitza la injecció de dependències constructor</h2>
<div class='content'><ul>
<li><strong>Constructor</strong>: Prefereix la injecció de dependències a través del constructor per facilitar les proves i la immutabilitat.</li>
</ul>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNlcnZpY2UKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlIHsKICAgIHByaXZhdGUgZmluYWwgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CgogICAgQEF1dG93aXJlZAogICAgcHVibGljIFVzZXJTZXJ2aWNlKFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5KSB7CiAgICAgICAgdGhpcy51c2VyUmVwb3NpdG9yeSA9IHVzZXJSZXBvc2l0b3J5OwogICAgfQoKICAgIC8vIE3DqHRvZGVzIGRlbCBzZXJ2ZWkKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Service
public class UserService {
    private final UserRepository userRepository;

    @Autowired
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }

    // M&egrave;todes del servei
}</pre></div><div class='content'></div><h1>5. Gestió d'Errors</h1>
<div class='content'></div><h2>5.1. Gestiona les excepcions de manera centralitzada</h2>
<div class='content'><ul>
<li><strong>Controladors d'excepcions</strong>: Utilitza <code>@ControllerAdvice</code> per gestionar les excepcions de manera centralitzada.</li>
</ul>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QENvbnRyb2xsZXJBZHZpY2UKcHVibGljIGNsYXNzIEdsb2JhbEV4Y2VwdGlvbkhhbmRsZXIgewogICAgQEV4Y2VwdGlvbkhhbmRsZXIoUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5jbGFzcykKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxTdHJpbmc+IGhhbmRsZVJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleCkgewogICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VFbnRpdHk8PihleC5nZXRNZXNzYWdlKCksIEh0dHBTdGF0dXMuTk9UX0ZPVU5EKTsKICAgIH0KCiAgICAvLyBBbHRyZXMgZ2VzdG9ycyBkJ2V4Y2VwY2lvbnMKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@ControllerAdvice
public class GlobalExceptionHandler {
    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity&lt;String&gt; handleResourceNotFoundException(ResourceNotFoundException ex) {
        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.NOT_FOUND);
    }

    // Altres gestors d'excepcions
}</pre></div><div class='content'></div><h1>6. Proves</h1>
<div class='content'></div><h2>6.1. Escriu proves unitàries i d'integració</h2>
<div class='content'><ul>
<li><strong>JUnit i Mockito</strong>: Utilitza aquestes eines per escriure proves unitàries i d'integració per assegurar-te que el teu codi funciona correctament.</li>
</ul>
</div><h2>Exemple de prova unitària:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3QKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlVGVzdCB7CiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlOwoKICAgIEBNb2NrQmVhbgogICAgcHJpdmF0ZSBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEZpbmRVc2VyQnlJZCgpIHsKICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigxTCwgIkpvaG4gRG9lIik7CiAgICAgICAgTW9ja2l0by53aGVuKHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKDFMKSkudGhlblJldHVybihPcHRpb25hbC5vZih1c2VyKSk7CgogICAgICAgIFVzZXIgZm91bmQgPSB1c2VyU2VydmljZS5maW5kVXNlckJ5SWQoMUwpOwogICAgICAgIGFzc2VydEVxdWFscygiSm9obiBEb2UiLCBmb3VuZC5nZXROYW1lKCkpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RunWith(SpringRunner.class)
@SpringBootTest
public class UserServiceTest {
    @Autowired
    private UserService userService;

    @MockBean
    private UserRepository userRepository;

    @Test
    public void testFindUserById() {
        User user = new User(1L, &quot;John Doe&quot;);
        Mockito.when(userRepository.findById(1L)).thenReturn(Optional.of(user));

        User found = userService.findUserById(1L);
        assertEquals(&quot;John Doe&quot;, found.getName());
    }
}</pre></div><div class='content'></div><h1>7. Documentació</h1>
<div class='content'></div><h2>7.1. Documenta el teu codi</h2>
<div class='content'><ul>
<li><strong>Comentaris i JavaDocs</strong>: Escriu comentaris i documentació JavaDoc per explicar la funcionalitat del teu codi.</li>
</ul>
</div><h2>Exemple de JavaDoc:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyoqCiAqIFNlcnZlaSBwZXIgZ2VzdGlvbmFyIGVscyB1c3VhcmlzLgogKi8KQFNlcnZpY2UKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlIHsKICAgIC8vIENvZGkgZGVsIHNlcnZlaQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/**
 * Servei per gestionar els usuaris.
 */
@Service
public class UserService {
    // Codi del servei
}</pre></div><div class='content'></div><h1>8. Rendiment</h1>
<div class='content'></div><h2>8.1. Optimitza el rendiment</h2>
<div class='content'><ul>
<li><strong>Actuator</strong>: Utilitza Spring Boot Actuator per monitoritzar i optimitzar el rendiment de l'aplicació.</li>
</ul>
</div><h2>Exemple de dependència Actuator:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWFjdHVhdG9yPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Seguint aquestes millors pràctiques, podràs desenvolupar aplicacions Spring Boot més robustes, mantenibles i eficients. Recorda que la clau és mantenir el codi net, ben estructurat i fàcil de gestionar. A mesura que avancis en el desenvolupament, continua aplicant aquestes pràctiques per assegurar-te que el teu projecte es manté en bon estat.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-04-logging-log-management' title="Gestió de registres i logs">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-02-common-pitfalls' title="Errors comuns i com evitar-los">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
