<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/09-02-unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/09-02-unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/09-02-unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/objective_c/09-02-unit-testing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/objective_c/09-02-unit-testing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges de Programació</a>
				 					<a href="/categ/frameworks">Frameworks i Llibreries</a>
				 					<a href="/categ/tech-tools">Eines Tècniques</a>
				 					<a href="/categ/foundations">Fonaments Teòrics</a>
				 					<a href="/categ/soft-skills">Habilitats Socials</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-01-debugging-techniques' title="Tècniques de Depuració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves Unitàries</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-03-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Les proves unitàries són una part fonamental del desenvolupament de programari, ja que permeten verificar que les diferents parts del codi funcionen correctament de manera independent. En aquest tema, aprendrem com crear i executar proves unitàries en Objective-C utilitzant el framework XCTest.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Entendre la importància de les proves unitàries.</li>
<li>Configurar un projecte per a les proves unitàries.</li>
<li>Escriure i executar proves unitàries amb XCTest.</li>
<li>Analitzar els resultats de les proves i corregir errors.</li>
</ul>
</div><h1><p>Importància de les Proves Unitàries</p>
</h1>
<div class='content'><p>Les proves unitàries ofereixen diversos avantatges:</p>
<ul>
<li><strong>Detecció Primerenca d'Errors:</strong> Permeten identificar errors en el codi abans que es converteixin en problemes més grans.</li>
<li><strong>Facilitat de Manteniment:</strong> Faciliten la refactorització del codi, ja que les proves asseguren que els canvis no introdueixin nous errors.</li>
<li><strong>Documentació:</strong> Les proves unitàries poden servir com a documentació del comportament esperat del codi.</li>
</ul>
</div><h1><p>Configuració del Projecte per a les Proves Unitàries</p>
</h1>
<div class='content'><p>Abans de començar a escriure proves unitàries, hem de configurar el nostre projecte per suportar-les.</p>
</div><h2><p>Passos per Configurar el Projecte</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Nou Projecte:</strong></p>
<ul>
<li>Obre Xcode i crea un nou projecte.</li>
<li>Assegura't de seleccionar l'opció &quot;Include Unit Tests&quot; durant la creació del projecte.</li>
</ul>
</li>
<li>
<p><strong>Estructura del Projecte:</strong></p>
<ul>
<li>Xcode crearà automàticament una carpeta per a les proves unitàries amb un fitxer de prova inicial.</li>
</ul>
</li>
</ol>
</div><h1><p>Escriure Proves Unitàries amb XCTest</p>
</h1>
<div class='content'><p>XCTest és el framework de proves unitàries d'Apple per a Objective-C i Swift. Proporciona una sèrie de classes i mètodes per crear i executar proves.</p>
</div><h2><p>Exemple de Prova Unitària</p>
</h2>
<div class='content'><p>A continuació, es mostra un exemple de com escriure una prova unitària bàsica.</p>
<h4>Classe a Provar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvci5oCiNpbXBvcnQgPEZvdW5kYXRpb24vRm91bmRhdGlvbi5oPgoKQGludGVyZmFjZSBDYWxjdWxhdG9yIDogTlNPYmplY3QKCi0gKE5TSW50ZWdlcilhZGQ6KE5TSW50ZWdlcilhIHRvOihOU0ludGVnZXIpYjsKLSAoTlNJbnRlZ2VyKXN1YnRyYWN0OihOU0ludGVnZXIpYSBmcm9tOihOU0ludGVnZXIpYjsKCkBlbmQKCi8vIENhbGN1bGF0b3IubQojaW1wb3J0ICJDYWxjdWxhdG9yLmgiCgpAaW1wbGVtZW50YXRpb24gQ2FsY3VsYXRvcgoKLSAoTlNJbnRlZ2VyKWFkZDooTlNJbnRlZ2VyKWEgdG86KE5TSW50ZWdlciliIHsKICAgIHJldHVybiBhICsgYjsKfQoKLSAoTlNJbnRlZ2VyKXN1YnRyYWN0OihOU0ludGVnZXIpYSBmcm9tOihOU0ludGVnZXIpYiB7CiAgICByZXR1cm4gYiAtIGE7Cn0KCkBlbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calculator.h
#import &lt;Foundation/Foundation.h&gt;

@interface Calculator : NSObject

- (NSInteger)add:(NSInteger)a to:(NSInteger)b;
- (NSInteger)subtract:(NSInteger)a from:(NSInteger)b;

@end

// Calculator.m
#import &quot;Calculator.h&quot;

@implementation Calculator

- (NSInteger)add:(NSInteger)a to:(NSInteger)b {
    return a + b;
}

- (NSInteger)subtract:(NSInteger)a from:(NSInteger)b {
    return b - a;
}

@end</pre></div><div class='content'><h4>Prova Unitària</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvclRlc3RzLm0KI2ltcG9ydCA8WENUZXN0L1hDVGVzdC5oPgojaW1wb3J0ICJDYWxjdWxhdG9yLmgiCgpAaW50ZXJmYWNlIENhbGN1bGF0b3JUZXN0cyA6IFhDVGVzdENhc2UKCkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIENhbGN1bGF0b3IgKmNhbGN1bGF0b3I7CgpAZW5kCgpAaW1wbGVtZW50YXRpb24gQ2FsY3VsYXRvclRlc3RzCgotICh2b2lkKXNldFVwIHsKICAgIFtzdXBlciBzZXRVcF07CiAgICBzZWxmLmNhbGN1bGF0b3IgPSBbW0NhbGN1bGF0b3IgYWxsb2NdIGluaXRdOwp9CgotICh2b2lkKXRlYXJEb3duIHsKICAgIHNlbGYuY2FsY3VsYXRvciA9IG5pbDsKICAgIFtzdXBlciB0ZWFyRG93bl07Cn0KCi0gKHZvaWQpdGVzdEFkZGl0aW9uIHsKICAgIE5TSW50ZWdlciByZXN1bHQgPSBbc2VsZi5jYWxjdWxhdG9yIGFkZDoyIHRvOjNdOwogICAgWENUQXNzZXJ0RXF1YWwocmVzdWx0LCA1LCBAIkV4cGVjdGVkIDIgKyAzIHRvIGVxdWFsIDUiKTsKfQoKLSAodm9pZCl0ZXN0U3VidHJhY3Rpb24gewogICAgTlNJbnRlZ2VyIHJlc3VsdCA9IFtzZWxmLmNhbGN1bGF0b3Igc3VidHJhY3Q6MiBmcm9tOjVdOwogICAgWENUQXNzZXJ0RXF1YWwocmVzdWx0LCAzLCBAIkV4cGVjdGVkIDUgLSAyIHRvIGVxdWFsIDMiKTsKfQoKQGVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// CalculatorTests.m
#import &lt;XCTest/XCTest.h&gt;
#import &quot;Calculator.h&quot;

@interface CalculatorTests : XCTestCase

@property (nonatomic, strong) Calculator *calculator;

@end

@implementation CalculatorTests

- (void)setUp {
    [super setUp];
    self.calculator = [[Calculator alloc] init];
}

- (void)tearDown {
    self.calculator = nil;
    [super tearDown];
}

- (void)testAddition {
    NSInteger result = [self.calculator add:2 to:3];
    XCTAssertEqual(result, 5, @&quot;Expected 2 + 3 to equal 5&quot;);
}

- (void)testSubtraction {
    NSInteger result = [self.calculator subtract:2 from:5];
    XCTAssertEqual(result, 3, @&quot;Expected 5 - 2 to equal 3&quot;);
}

@end</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ul>
<li><strong>setUp:</strong> Aquest mètode s'executa abans de cada prova. Aquí inicialitzem l'objecte <code>Calculator</code>.</li>
<li><strong>tearDown:</strong> Aquest mètode s'executa després de cada prova. Aquí alliberem l'objecte <code>Calculator</code>.</li>
<li><strong>testAddition:</strong> Aquesta prova verifica que el mètode <code>add:to:</code> funciona correctament.</li>
<li><strong>testSubtraction:</strong> Aquesta prova verifica que el mètode <code>subtract:from:</code> funciona correctament.</li>
</ul>
</div><h1><p>Executar les Proves Unitàries</p>
</h1>
<div class='content'><p>Per executar les proves unitàries:</p>
<ol>
<li>Selecciona el menú &quot;Product&quot; a Xcode.</li>
<li>Fes clic a &quot;Test&quot; o utilitza la drecera de teclat <code>Cmd + U</code>.</li>
</ol>
<p>Xcode executarà totes les proves i mostrarà els resultats a la consola.</p>
</div><h1><p>Analitzar els Resultats de les Proves</p>
</h1>
<div class='content'><p>Després d'executar les proves, Xcode mostrarà els resultats:</p>
<ul>
<li><strong>Proves Passades:</strong> Les proves que han passat es mostren amb una marca verda.</li>
<li><strong>Proves Fallides:</strong> Les proves que han fallat es mostren amb una marca vermella i un missatge d'error.</li>
</ul>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<h2><p>Exercici 1: Prova de Multiplicació</p>
</h2>
<div class='content'><p>Crea una nova funció <code>multiply:by:</code> a la classe <code>Calculator</code> i escriu una prova unitària per verificar el seu funcionament.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvci5tCi0gKE5TSW50ZWdlciltdWx0aXBseTooTlNJbnRlZ2VyKWEgYnk6KE5TSW50ZWdlciliIHsKICAgIHJldHVybiBhICogYjsKfQoKLy8gQ2FsY3VsYXRvclRlc3RzLm0KLSAodm9pZCl0ZXN0TXVsdGlwbGljYXRpb24gewogICAgTlNJbnRlZ2VyIHJlc3VsdCA9IFtzZWxmLmNhbGN1bGF0b3IgbXVsdGlwbHk6MiBieTozXTsKICAgIFhDVEFzc2VydEVxdWFsKHJlc3VsdCwgNiwgQCJFeHBlY3RlZCAyICogMyB0byBlcXVhbCA2Iik7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calculator.m
- (NSInteger)multiply:(NSInteger)a by:(NSInteger)b {
    return a * b;
}

// CalculatorTests.m
- (void)testMultiplication {
    NSInteger result = [self.calculator multiply:2 by:3];
    XCTAssertEqual(result, 6, @&quot;Expected 2 * 3 to equal 6&quot;);
}</pre></div><div class='content'></div><h2><p>Exercici 2: Prova de Divisió</p>
</h2>
<div class='content'><p>Crea una nova funció <code>divide:by:</code> a la classe <code>Calculator</code> i escriu una prova unitària per verificar el seu funcionament. Assegura't de gestionar la divisió per zero.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvci5tCi0gKE5TSW50ZWdlcilkaXZpZGU6KE5TSW50ZWdlcilhIGJ5OihOU0ludGVnZXIpYiB7CiAgICBpZiAoYiA9PSAwKSB7CiAgICAgICAgcmV0dXJuIE5TTm90Rm91bmQ7IC8vIE8gcXVhbHNldm9sIGFsdHJlIHZhbG9yIHF1ZSBpbmRpcXVpIGVycm9yCiAgICB9CiAgICByZXR1cm4gYSAvIGI7Cn0KCi8vIENhbGN1bGF0b3JUZXN0cy5tCi0gKHZvaWQpdGVzdERpdmlzaW9uIHsKICAgIE5TSW50ZWdlciByZXN1bHQgPSBbc2VsZi5jYWxjdWxhdG9yIGRpdmlkZTo2IGJ5OjNdOwogICAgWENUQXNzZXJ0RXF1YWwocmVzdWx0LCAyLCBAIkV4cGVjdGVkIDYgLyAzIHRvIGVxdWFsIDIiKTsKICAgIAogICAgcmVzdWx0ID0gW3NlbGYuY2FsY3VsYXRvciBkaXZpZGU6NiBieTowXTsKICAgIFhDVEFzc2VydEVxdWFsKHJlc3VsdCwgTlNOb3RGb3VuZCwgQCJFeHBlY3RlZCBkaXZpc2lvbiBieSB6ZXJvIHRvIHJldHVybiBOU05vdEZvdW5kIik7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calculator.m
- (NSInteger)divide:(NSInteger)a by:(NSInteger)b {
    if (b == 0) {
        return NSNotFound; // O qualsevol altre valor que indiqui error
    }
    return a / b;
}

// CalculatorTests.m
- (void)testDivision {
    NSInteger result = [self.calculator divide:6 by:3];
    XCTAssertEqual(result, 2, @&quot;Expected 6 / 3 to equal 2&quot;);
    
    result = [self.calculator divide:6 by:0];
    XCTAssertEqual(result, NSNotFound, @&quot;Expected division by zero to return NSNotFound&quot;);
}</pre></div><div class='content'></div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem après la importància de les proves unitàries i com configurar un projecte per a les proves unitàries en Objective-C. Hem escrit i executat proves unitàries utilitzant XCTest i hem analitzat els resultats de les proves. També hem realitzat exercicis pràctics per reforçar els conceptes apresos. Les proves unitàries són una eina essencial per assegurar la qualitat i la robustesa del nostre codi.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-01-debugging-techniques' title="Tècniques de Depuració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-03-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
