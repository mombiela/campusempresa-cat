<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories i Extensions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/06-02-categories-and-extensions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/06-02-categories-and-extensions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/06-02-categories-and-extensions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/objective_c/06-02-categories-and-extensions" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/objective_c/06-02-categories-and-extensions" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-protocols-and-delegates' title="Protocols i Delegats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Categories i Extensions</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-blocks-and-closures' title="Blocs i Clausures">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les categories i extensions en Objective-C, dues eines poderoses que permeten afegir funcionalitat a les classes existents sense necessitat de modificar el seu codi original. Aquestes tècniques són especialment útils per a la modularitat i la reutilització del codi.</p>
</div><h1>Categories</h1>
<div class='content'></div><h2>Què són les Categories?</h2>
<div class='content'><p>Les categories en Objective-C permeten afegir mètodes a una classe existent sense la necessitat de crear una subclasse. Això és útil per estendre la funcionalitat de les classes de les quals no tenim el codi font o per organitzar el codi en mòduls més manejables.</p>
</div><h2>Sintaxi de les Categories</h2>
<div class='content'><p>Per definir una categoria, utilitzem la següent sintaxi:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRml0eGVyIC5oCkBpbnRlcmZhY2UgQ2xhc3NOYW1lIChDYXRlZ29yeU5hbWUpCi0gKHZvaWQpbmV3TWV0aG9kOwpAZW5kCgovLyBGaXR4ZXIgLm0KQGltcGxlbWVudGF0aW9uIENsYXNzTmFtZSAoQ2F0ZWdvcnlOYW1lKQotICh2b2lkKW5ld01ldGhvZCB7CiAgICAvLyBJbXBsZW1lbnRhY2nDsyBkZWwgbcOodG9kZQp9CkBlbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Fitxer .h
@interface ClassName (CategoryName)
- (void)newMethod;
@end

// Fitxer .m
@implementation ClassName (CategoryName)
- (void)newMethod {
    // Implementaci&oacute; del m&egrave;tode
}
@end</pre></div><div class='content'></div><h2>Exemple Pràctic</h2>
<div class='content'><p>Suposem que volem afegir un mètode a la classe <code>NSString</code> per invertir una cadena de text:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTlNTdHJpbmcrUmV2ZXJzZS5oCiNpbXBvcnQgPEZvdW5kYXRpb24vRm91bmRhdGlvbi5oPgoKQGludGVyZmFjZSBOU1N0cmluZyAoUmV2ZXJzZSkKLSAoTlNTdHJpbmcgKilyZXZlcnNlU3RyaW5nOwpAZW5kCgovLyBOU1N0cmluZytSZXZlcnNlLm0KI2ltcG9ydCAiTlNTdHJpbmcrUmV2ZXJzZS5oIgoKQGltcGxlbWVudGF0aW9uIE5TU3RyaW5nIChSZXZlcnNlKQotIChOU1N0cmluZyAqKXJldmVyc2VTdHJpbmcgewogICAgTlNVSW50ZWdlciBsZW5ndGggPSBbc2VsZiBsZW5ndGhdOwogICAgTlNNdXRhYmxlU3RyaW5nICpyZXZlcnNlZFN0cmluZyA9IFtOU011dGFibGVTdHJpbmcgc3RyaW5nV2l0aENhcGFjaXR5Omxlbmd0aF07CiAgICAKICAgIGZvciAoTlNJbnRlZ2VyIGkgPSBsZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIFtyZXZlcnNlZFN0cmluZyBhcHBlbmRGb3JtYXQ6QCIlQyIsIFtzZWxmIGNoYXJhY3RlckF0SW5kZXg6aV1dOwogICAgfQogICAgCiAgICByZXR1cm4gcmV2ZXJzZWRTdHJpbmc7Cn0KQGVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// NSString+Reverse.h
#import &lt;Foundation/Foundation.h&gt;

@interface NSString (Reverse)
- (NSString *)reverseString;
@end

// NSString+Reverse.m
#import &quot;NSString+Reverse.h&quot;

@implementation NSString (Reverse)
- (NSString *)reverseString {
    NSUInteger length = [self length];
    NSMutableString *reversedString = [NSMutableString stringWithCapacity:length];
    
    for (NSInteger i = length - 1; i &gt;= 0; i--) {
        [reversedString appendFormat:@&quot;%C&quot;, [self characterAtIndex:i]];
    }
    
    return reversedString;
}
@end</pre></div><div class='content'></div><h2>Ús de la Categoria</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCAiTlNTdHJpbmcrUmV2ZXJzZS5oIgoKTlNTdHJpbmcgKm9yaWdpbmFsU3RyaW5nID0gQCJIZWxsbywgV29ybGQhIjsKTlNTdHJpbmcgKnJldmVyc2VkU3RyaW5nID0gW29yaWdpbmFsU3RyaW5nIHJldmVyc2VTdHJpbmddOwpOU0xvZyhAIk9yaWdpbmFsOiAlQCwgUmV2ZXJzZWQ6ICVAIiwgb3JpZ2luYWxTdHJpbmcsIHJldmVyc2VkU3RyaW5nKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &quot;NSString+Reverse.h&quot;

NSString *originalString = @&quot;Hello, World!&quot;;
NSString *reversedString = [originalString reverseString];
NSLog(@&quot;Original: %@, Reversed: %@&quot;, originalString, reversedString);</pre></div><div class='content'></div><h1>Extensions</h1>
<div class='content'></div><h2>Què són les Extensions?</h2>
<div class='content'><p>Les extensions són una forma especial de categories que permeten afegir mètodes privats i propietats a una classe. A diferència de les categories, les extensions es declaren dins del fitxer d'implementació (.m) i no es poden utilitzar per afegir mètodes públics.</p>
</div><h2>Sintaxi de les Extensions</h2>
<div class='content'><p>Per definir una extensió, utilitzem la següent sintaxi:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRml0eGVyIC5tCkBpbnRlcmZhY2UgQ2xhc3NOYW1lICgpCi0gKHZvaWQpcHJpdmF0ZU1ldGhvZDsKQHByb3BlcnR5IChub25hdG9taWMsIHN0cm9uZykgaWQgcHJpdmF0ZVByb3BlcnR5OwpAZW5kCgpAaW1wbGVtZW50YXRpb24gQ2xhc3NOYW1lCi0gKHZvaWQpcHJpdmF0ZU1ldGhvZCB7CiAgICAvLyBJbXBsZW1lbnRhY2nDsyBkZWwgbcOodG9kZQp9CkBlbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Fitxer .m
@interface ClassName ()
- (void)privateMethod;
@property (nonatomic, strong) id privateProperty;
@end

@implementation ClassName
- (void)privateMethod {
    // Implementaci&oacute; del m&egrave;tode
}
@end</pre></div><div class='content'></div><h2>Exemple Pràctic</h2>
<div class='content'><p>Suposem que tenim una classe <code>Person</code> i volem afegir una propietat privada <code>age</code> i un mètode privat <code>calculateAge</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUGVyc29uLmgKI2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwotICh2b2lkKXByaW50RGV0YWlsczsKQGVuZAoKLy8gUGVyc29uLm0KI2ltcG9ydCAiUGVyc29uLmgiCgpAaW50ZXJmYWNlIFBlcnNvbiAoKQpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwotICh2b2lkKWNhbGN1bGF0ZUFnZTsKQGVuZAoKQGltcGxlbWVudGF0aW9uIFBlcnNvbgoKLSAodm9pZCljYWxjdWxhdGVBZ2UgewogICAgLy8gQ8OgbGN1bCBkZSBsJ2VkYXQgKGV4ZW1wbGUgZmljdGljaSkKICAgIHNlbGYuYWdlID0gMzA7Cn0KCi0gKHZvaWQpcHJpbnREZXRhaWxzIHsKICAgIFtzZWxmIGNhbGN1bGF0ZUFnZV07CiAgICBOU0xvZyhAIk5hbWU6ICVALCBBZ2U6ICVsZCIsIHNlbGYubmFtZSwgKGxvbmcpc2VsZi5hZ2UpOwp9CgpAZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Person.h
#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
- (void)printDetails;
@end

// Person.m
#import &quot;Person.h&quot;

@interface Person ()
@property (nonatomic, assign) NSInteger age;
- (void)calculateAge;
@end

@implementation Person

- (void)calculateAge {
    // C&agrave;lcul de l'edat (exemple fictici)
    self.age = 30;
}

- (void)printDetails {
    [self calculateAge];
    NSLog(@&quot;Name: %@, Age: %ld&quot;, self.name, (long)self.age);
}

@end</pre></div><div class='content'></div><h2>Ús de l'Extensió</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UGVyc29uICpwZXJzb24gPSBbW1BlcnNvbiBhbGxvY10gaW5pdF07CnBlcnNvbi5uYW1lID0gQCJKb2huIERvZSI7CltwZXJzb24gcHJpbnREZXRhaWxzXTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Person *person = [[Person alloc] init];
person.name = @&quot;John Doe&quot;;
[person printDetails];</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Afegir una Categoria</h2>
<div class='content'><p>Crea una categoria per la classe <code>NSArray</code> que afegeixi un mètode per obtenir l'element del mig de l'array.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTlNBcnJheStNaWRkbGVFbGVtZW50LmgKI2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIE5TQXJyYXkgKE1pZGRsZUVsZW1lbnQpCi0gKGlkKW1pZGRsZUVsZW1lbnQ7CkBlbmQKCi8vIE5TQXJyYXkrTWlkZGxlRWxlbWVudC5tCiNpbXBvcnQgIk5TQXJyYXkrTWlkZGxlRWxlbWVudC5oIgoKQGltcGxlbWVudGF0aW9uIE5TQXJyYXkgKE1pZGRsZUVsZW1lbnQpCi0gKGlkKW1pZGRsZUVsZW1lbnQgewogICAgaWYgKFtzZWxmIGNvdW50XSA9PSAwKSByZXR1cm4gbmlsOwogICAgcmV0dXJuIFtzZWxmIG9iamVjdEF0SW5kZXg6W3NlbGYgY291bnRdIC8gMl07Cn0KQGVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// NSArray+MiddleElement.h
#import &lt;Foundation/Foundation.h&gt;

@interface NSArray (MiddleElement)
- (id)middleElement;
@end

// NSArray+MiddleElement.m
#import &quot;NSArray+MiddleElement.h&quot;

@implementation NSArray (MiddleElement)
- (id)middleElement {
    if ([self count] == 0) return nil;
    return [self objectAtIndex:[self count] / 2];
}
@end</pre></div><div class='content'></div><h2>Exercici 2: Afegir una Extensió</h2>
<div class='content'><p>Afegeix una extensió a la classe <code>Car</code> que afegeixi una propietat privada <code>engineStatus</code> i un mètode privat <code>startEngine</code>.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FyLmgKI2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIENhciA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICptb2RlbDsKLSAodm9pZClkcml2ZTsKQGVuZAoKLy8gQ2FyLm0KI2ltcG9ydCAiQ2FyLmgiCgpAaW50ZXJmYWNlIENhciAoKQpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBCT09MIGVuZ2luZVN0YXR1czsKLSAodm9pZClzdGFydEVuZ2luZTsKQGVuZAoKQGltcGxlbWVudGF0aW9uIENhcgoKLSAodm9pZClzdGFydEVuZ2luZSB7CiAgICBzZWxmLmVuZ2luZVN0YXR1cyA9IFlFUzsKICAgIE5TTG9nKEAiRW5naW5lIHN0YXJ0ZWQiKTsKfQoKLSAodm9pZClkcml2ZSB7CiAgICBbc2VsZiBzdGFydEVuZ2luZV07CiAgICBpZiAoc2VsZi5lbmdpbmVTdGF0dXMpIHsKICAgICAgICBOU0xvZyhAIkRyaXZpbmcgdGhlIGNhciIpOwogICAgfQp9CgpAZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Car.h
#import &lt;Foundation/Foundation.h&gt;

@interface Car : NSObject
@property (nonatomic, strong) NSString *model;
- (void)drive;
@end

// Car.m
#import &quot;Car.h&quot;

@interface Car ()
@property (nonatomic, assign) BOOL engineStatus;
- (void)startEngine;
@end

@implementation Car

- (void)startEngine {
    self.engineStatus = YES;
    NSLog(@&quot;Engine started&quot;);
}

- (void)drive {
    [self startEngine];
    if (self.engineStatus) {
        NSLog(@&quot;Driving the car&quot;);
    }
}

@end</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les categories i extensions són eines poderoses en Objective-C que permeten afegir funcionalitat a les classes existents de manera modular i organitzada. Les categories són útils per afegir mètodes públics, mentre que les extensions són ideals per afegir mètodes i propietats privades. Amb aquests coneixements, podràs escriure codi més net i mantenible.</p>
<p>En el següent tema, explorarem els blocs i clausures, una altra característica avançada d'Objective-C que permet escriure codi més concís i expressiu.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-protocols-and-delegates' title="Protocols i Delegats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-blocks-and-closures' title="Blocs i Clausures">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
