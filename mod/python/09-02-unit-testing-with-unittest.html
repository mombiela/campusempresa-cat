<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries amb unittest</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/09-02-unit-testing-with-unittest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/09-02-unit-testing-with-unittest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/09-02-unit-testing-with-unittest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/python/09-02-unit-testing-with-unittest" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/python/09-02-unit-testing-with-unittest" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introducció a les Proves">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves Unitàries amb unittest</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-test-driven-development' title="Desenvolupament Guiat per Proves">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les proves unitàries són una part fonamental del desenvolupament de programari, ja que permeten verificar que les diferents parts del codi funcionen correctament de manera independent. En Python, el mòdul <code>unittest</code> proporciona una infraestructura robusta per crear i executar proves unitàries.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><a href="#introducció-a-unittest">Introducció a unittest</a></li>
<li><a href="#creació-duna-prova-unitària">Creació d'una Prova Unitària</a></li>
<li><a href="#execució-de-proves">Execució de Proves</a></li>
<li><a href="#assert-methods">Assert Methods</a></li>
<li><a href="#configuració-i-desconfiguració">Configuració i Desconfiguració</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
<li><a href="#conclusió">Conclusió</a></li>
</ol>
</div><h1>Introducció a unittest</h1>
<div class='content'><p>El mòdul <code>unittest</code> és una biblioteca estàndard de Python que proporciona eines per crear i executar proves unitàries. Aquest mòdul està inspirat en el framework de proves JUnit per a Java i és compatible amb altres frameworks de proves unitàries.</p>
</div><h2>Característiques Principals</h2>
<div class='content'><ul>
<li><strong>Organització de proves en classes</strong>: Les proves es poden organitzar en classes que hereten de <code>unittest.TestCase</code>.</li>
<li><strong>Mètodes d'assert</strong>: Proporciona una varietat de mètodes per verificar condicions.</li>
<li><strong>Configuració i desconfiguració</strong>: Permet definir mètodes que s'executen abans i després de cada prova.</li>
</ul>
</div><h1>Creació d'una Prova Unitària</h1>
<div class='content'><p>Per crear una prova unitària, segueix aquests passos:</p>
<ol>
<li><strong>Importa el mòdul unittest</strong>.</li>
<li><strong>Crea una classe de prova</strong> que hereti de <code>unittest.TestCase</code>.</li>
<li><strong>Defineix mètodes de prova</strong> dins de la classe. Els noms dels mètodes de prova han de començar amb <code>test</code>.</li>
</ol>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHVuaXR0ZXN0CgpkZWYgc3VtYShhLCBiKToKICAgIHJldHVybiBhICsgYgoKY2xhc3MgVGVzdFN1bWEodW5pdHRlc3QuVGVzdENhc2UpOgoKICAgIGRlZiB0ZXN0X3N1bWFfcG9zaXRpdXMoc2VsZik6CiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChzdW1hKDEsIDIpLCAzKQoKICAgIGRlZiB0ZXN0X3N1bWFfbmVnYXRpdXMoc2VsZik6CiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChzdW1hKC0xLCAtMSksIC0yKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHVuaXR0ZXN0Lm1haW4oKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import unittest

def suma(a, b):
    return a + b

class TestSuma(unittest.TestCase):

    def test_suma_positius(self):
        self.assertEqual(suma(1, 2), 3)

    def test_suma_negatius(self):
        self.assertEqual(suma(-1, -1), -2)

if __name__ == '__main__':
    unittest.main()</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>Importació</strong>: <code>import unittest</code> importa el mòdul <code>unittest</code>.</li>
<li><strong>Funció a provar</strong>: <code>suma(a, b)</code> és la funció que volem provar.</li>
<li><strong>Classe de prova</strong>: <code>TestSuma</code> hereta de <code>unittest.TestCase</code>.</li>
<li><strong>Mètodes de prova</strong>: <code>test_suma_positius</code> i <code>test_suma_negatius</code> són mètodes de prova que utilitzen <code>self.assertEqual</code> per verificar que la funció <code>suma</code> retorna els resultats esperats.</li>
</ul>
</div><h1>Execució de Proves</h1>
<div class='content'><p>Les proves es poden executar de diverses maneres:</p>
<ul>
<li><strong>Directament des del fitxer</strong>: Si el fitxer de prova es pot executar com a script, <code>unittest.main()</code> s'encarregarà d'executar totes les proves.</li>
<li><strong>Utilitzant la línia de comandes</strong>: Pots executar les proves amb <code>python -m unittest nom_del_fitxer.py</code>.</li>
<li><strong>Integració amb IDEs</strong>: Molts entorns de desenvolupament integrats (IDEs) com PyCharm o Visual Studio Code tenen suport integrat per executar proves unitàries.</li>
</ul>
</div><h1>Assert Methods</h1>
<div class='content'><p><code>unittest</code> proporciona una varietat de mètodes d'assert per verificar diferents condicions:</p>
<table>
<thead>
<tr>
<th>Mètode</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>assertEqual(a, b)</code></td>
<td>Verifica que <code>a</code> és igual a <code>b</code>.</td>
</tr>
<tr>
<td><code>assertNotEqual(a, b)</code></td>
<td>Verifica que <code>a</code> no és igual a <code>b</code>.</td>
</tr>
<tr>
<td><code>assertTrue(x)</code></td>
<td>Verifica que <code>x</code> és <code>True</code>.</td>
</tr>
<tr>
<td><code>assertFalse(x)</code></td>
<td>Verifica que <code>x</code> és <code>False</code>.</td>
</tr>
<tr>
<td><code>assertIs(a, b)</code></td>
<td>Verifica que <code>a</code> és <code>b</code> (identitat).</td>
</tr>
<tr>
<td><code>assertIsNot(a, b)</code></td>
<td>Verifica que <code>a</code> no és <code>b</code> (identitat).</td>
</tr>
<tr>
<td><code>assertIsNone(x)</code></td>
<td>Verifica que <code>x</code> és <code>None</code>.</td>
</tr>
<tr>
<td><code>assertIsNotNone(x)</code></td>
<td>Verifica que <code>x</code> no és <code>None</code>.</td>
</tr>
<tr>
<td><code>assertIn(a, b)</code></td>
<td>Verifica que <code>a</code> està en <code>b</code>.</td>
</tr>
<tr>
<td><code>assertNotIn(a, b)</code></td>
<td>Verifica que <code>a</code> no està en <code>b</code>.</td>
</tr>
<tr>
<td><code>assertIsInstance(a, b)</code></td>
<td>Verifica que <code>a</code> és instància de <code>b</code>.</td>
</tr>
<tr>
<td><code>assertNotIsInstance(a, b)</code></td>
<td>Verifica que <code>a</code> no és instància de <code>b</code>.</td>
</tr>
</tbody>
</table>
</div><h2>Exemple d'ús</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGVzX3BhcmVsbChudW0pOgogICAgcmV0dXJuIG51bSAlIDIgPT0gMAoKY2xhc3MgVGVzdEVzUGFyZWxsKHVuaXR0ZXN0LlRlc3RDYXNlKToKCiAgICBkZWYgdGVzdF9wYXJlbGwoc2VsZik6CiAgICAgICAgc2VsZi5hc3NlcnRUcnVlKGVzX3BhcmVsbCg0KSkKCiAgICBkZWYgdGVzdF9pbXBhcmVsbChzZWxmKToKICAgICAgICBzZWxmLmFzc2VydEZhbHNlKGVzX3BhcmVsbCg1KSk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def es_parell(num):
    return num % 2 == 0

class TestEsParell(unittest.TestCase):

    def test_parell(self):
        self.assertTrue(es_parell(4))

    def test_imparell(self):
        self.assertFalse(es_parell(5))</pre></div><div class='content'></div><h1>Configuració i Desconfiguració</h1>
<div class='content'><p><code>unittest</code> permet definir mètodes que s'executen abans i després de cada prova, així com abans i després de totes les proves de la classe.</p>
</div><h2>Mètodes Principals</h2>
<div class='content'><ul>
<li><strong><code>setUp</code></strong>: S'executa abans de cada prova.</li>
<li><strong><code>tearDown</code></strong>: S'executa després de cada prova.</li>
<li><strong><code>setUpClass</code></strong>: S'executa una vegada abans de totes les proves de la classe.</li>
<li><strong><code>tearDownClass</code></strong>: S'executa una vegada després de totes les proves de la classe.</li>
</ul>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVGVzdEFtYkNvbmZpZ3VyYWNpbyh1bml0dGVzdC5UZXN0Q2FzZSk6CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgc2V0VXBDbGFzcyhjbHMpOgogICAgICAgIHByaW50KCJDb25maWd1cmFjacOzIGluaWNpYWwgZGUgbGEgY2xhc3NlIikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiB0ZWFyRG93bkNsYXNzKGNscyk6CiAgICAgICAgcHJpbnQoIkRlc2NvbmZpZ3VyYWNpw7MgZmluYWwgZGUgbGEgY2xhc3NlIikKCiAgICBkZWYgc2V0VXAoc2VsZik6CiAgICAgICAgcHJpbnQoIkNvbmZpZ3VyYWNpw7MgYWJhbnMgZGUgY2FkYSBwcm92YSIpCgogICAgZGVmIHRlYXJEb3duKHNlbGYpOgogICAgICAgIHByaW50KCJEZXNjb25maWd1cmFjacOzIGRlc3Byw6lzIGRlIGNhZGEgcHJvdmEiKQoKICAgIGRlZiB0ZXN0X2V4ZW1wbGUoc2VsZik6CiAgICAgICAgc2VsZi5hc3NlcnRUcnVlKFRydWUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class TestAmbConfiguracio(unittest.TestCase):

    @classmethod
    def setUpClass(cls):
        print(&quot;Configuraci&oacute; inicial de la classe&quot;)

    @classmethod
    def tearDownClass(cls):
        print(&quot;Desconfiguraci&oacute; final de la classe&quot;)

    def setUp(self):
        print(&quot;Configuraci&oacute; abans de cada prova&quot;)

    def tearDown(self):
        print(&quot;Desconfiguraci&oacute; despr&eacute;s de cada prova&quot;)

    def test_exemple(self):
        self.assertTrue(True)</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Provar una Funció de Multiplicació</h2>
<div class='content'><p>Crea una funció <code>multiplica(a, b)</code> i escriu proves unitàries per verificar que la funció funciona correctament amb nombres positius, negatius i zero.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIG11bHRpcGxpY2EoYSwgYik6CiAgICByZXR1cm4gYSAqIGIKCmNsYXNzIFRlc3RNdWx0aXBsaWNhKHVuaXR0ZXN0LlRlc3RDYXNlKToKCiAgICBkZWYgdGVzdF9tdWx0aXBsaWNhX3Bvc2l0aXVzKHNlbGYpOgogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwobXVsdGlwbGljYSgyLCAzKSwgNikKCiAgICBkZWYgdGVzdF9tdWx0aXBsaWNhX25lZ2F0aXVzKHNlbGYpOgogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwobXVsdGlwbGljYSgtMiwgLTMpLCA2KQoKICAgIGRlZiB0ZXN0X211bHRpcGxpY2FfemVybyhzZWxmKToKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKG11bHRpcGxpY2EoMCwgNSksIDAp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def multiplica(a, b):
    return a * b

class TestMultiplica(unittest.TestCase):

    def test_multiplica_positius(self):
        self.assertEqual(multiplica(2, 3), 6)

    def test_multiplica_negatius(self):
        self.assertEqual(multiplica(-2, -3), 6)

    def test_multiplica_zero(self):
        self.assertEqual(multiplica(0, 5), 0)</pre></div><div class='content'></div><h2>Exercici 2: Provar una Funció de Divisió</h2>
<div class='content'><p>Crea una funció <code>divideix(a, b)</code> que retorni la divisió de <code>a</code> per <code>b</code>. Escriu proves unitàries per verificar que la funció funciona correctament i gestiona l'error de divisió per zero.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRpdmlkZWl4KGEsIGIpOgogICAgaWYgYiA9PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk5vIGVzIHBvdCBkaXZpZGlyIHBlciB6ZXJvIikKICAgIHJldHVybiBhIC8gYgoKY2xhc3MgVGVzdERpdmlkZWl4KHVuaXR0ZXN0LlRlc3RDYXNlKToKCiAgICBkZWYgdGVzdF9kaXZpZGVpeF9wb3NpdGl1cyhzZWxmKToKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKGRpdmlkZWl4KDEwLCAyKSwgNSkKCiAgICBkZWYgdGVzdF9kaXZpZGVpeF9uZWdhdGl1cyhzZWxmKToKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKGRpdmlkZWl4KC0xMCwgLTIpLCA1KQoKICAgIGRlZiB0ZXN0X2RpdmlkZWl4X3plcm8oc2VsZik6CiAgICAgICAgd2l0aCBzZWxmLmFzc2VydFJhaXNlcyhWYWx1ZUVycm9yKToKICAgICAgICAgICAgZGl2aWRlaXgoMTAsIDAp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def divideix(a, b):
    if b == 0:
        raise ValueError(&quot;No es pot dividir per zero&quot;)
    return a / b

class TestDivideix(unittest.TestCase):

    def test_divideix_positius(self):
        self.assertEqual(divideix(10, 2), 5)

    def test_divideix_negatius(self):
        self.assertEqual(divideix(-10, -2), 5)

    def test_divideix_zero(self):
        with self.assertRaises(ValueError):
            divideix(10, 0)</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries són una eina essencial per garantir la qualitat del codi. El mòdul <code>unittest</code> de Python proporciona una infraestructura completa per crear i executar proves unitàries de manera eficient. Amb les eines i els conceptes presentats en aquesta secció, estaràs preparat per començar a escriure les teves pròpies proves unitàries i assegurar-te que el teu codi funcioni correctament en tot moment.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introducció a les Proves">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-test-driven-development' title="Desenvolupament Guiat per Proves">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
