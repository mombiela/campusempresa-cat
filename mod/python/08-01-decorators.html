<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Decoradors</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/08-01-decorators" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/08-01-decorators" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/08-01-decorators" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/python/08-01-decorators" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/python/08-01-decorators" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-custom-exceptions' title="Excepcions Personalitzades">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Decoradors</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-02-generators' title="Generadors">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Els decoradors en Python són una característica poderosa que permet modificar el comportament de funcions o mètodes de manera elegant i reutilitzable. Són una forma de &quot;meta-programació&quot;, ja que permeten definir funcions que poden modificar altres funcions.</p>
</div><h1><p>Continguts</p>
</h1>
<div class='content'><ol>
<li><a href="#què-és-un-decorador">Què és un Decorador?</a></li>
<li><a href="#sintaxi-dels-decoradors">Sintaxi dels Decoradors</a></li>
<li><a href="#decoradors-simples">Decoradors Simples</a></li>
<li><a href="#decoradors-amb-arguments">Decoradors amb Arguments</a></li>
<li><a href="#decoradors-multiples">Decoradors Multiples</a></li>
<li><a href="#decoradors-de-classe">Decoradors de Classe</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
<li><a href="#conclusió">Conclusió</a></li>
</ol>
</div><h1><p>Què és un Decorador?</p>
</h1>
<div class='content'><p>Un decorador és una funció que pren una altra funció com a argument i retorna una nova funció amb funcionalitat afegida. Els decoradors són molt útils per afegir comportaments comuns a múltiples funcions sense duplicar codi.</p>
</div><h1><p>Sintaxi dels Decoradors</p>
</h1>
<div class='content'><p>La sintaxi bàsica d'un decorador és la següent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QGRlY29yYXRvcl9mdW5jdGlvbgpkZWYgdGFyZ2V0X2Z1bmN0aW9uKCk6CiAgICBwYXNz"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@decorator_function
def target_function():
    pass</pre></div><div class='content'><p>Això és equivalent a:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHRhcmdldF9mdW5jdGlvbigpOgogICAgcGFzcwoKdGFyZ2V0X2Z1bmN0aW9uID0gZGVjb3JhdG9yX2Z1bmN0aW9uKHRhcmdldF9mdW5jdGlvbik="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def target_function():
    pass

target_function = decorator_function(target_function)</pre></div><div class='content'></div><h1><p>Decoradors Simples</p>
</h1>
<div class='content'><p>Vegem un exemple senzill d'un decorador que imprimeix un missatge abans i després de l'execució d'una funció.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHNpbXBsZV9kZWNvcmF0b3IoZnVuYyk6CiAgICBkZWYgd3JhcHBlcigpOgogICAgICAgIHByaW50KCJBYmFucyBkZSBsYSBmdW5jacOzIikKICAgICAgICBmdW5jKCkKICAgICAgICBwcmludCgiRGVzcHLDqXMgZGUgbGEgZnVuY2nDsyIpCiAgICByZXR1cm4gd3JhcHBlcgoKQHNpbXBsZV9kZWNvcmF0b3IKZGVmIHNheV9oZWxsbygpOgogICAgcHJpbnQoIkhvbGEhIikKCnNheV9oZWxsbygp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def simple_decorator(func):
    def wrapper():
        print(&quot;Abans de la funci&oacute;&quot;)
        func()
        print(&quot;Despr&eacute;s de la funci&oacute;&quot;)
    return wrapper

@simple_decorator
def say_hello():
    print(&quot;Hola!&quot;)

say_hello()</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><code>simple_decorator</code> és el decorador que pren una funció <code>func</code> com a argument.</li>
<li><code>wrapper</code> és la funció interna que afegeix funcionalitat abans i després de cridar <code>func</code>.</li>
<li><code>@simple_decorator</code> aplica el decorador a la funció <code>say_hello</code>.</li>
</ol>
</div><h1><p>Decoradors amb Arguments</p>
</h1>
<div class='content'><p>Els decoradors també poden acceptar arguments. Per fer-ho, cal definir una funció que retorni el decorador.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlY29yYXRvcl93aXRoX2FyZ3MoYXJnMSwgYXJnMik6CiAgICBkZWYgZGVjb3JhdG9yKGZ1bmMpOgogICAgICAgIGRlZiB3cmFwcGVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIHByaW50KGYiQXJndW1lbnRzIGRlbCBkZWNvcmFkb3I6IHthcmcxfSwge2FyZzJ9IikKICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgICAgIHJldHVybiB3cmFwcGVyCiAgICByZXR1cm4gZGVjb3JhdG9yCgpAZGVjb3JhdG9yX3dpdGhfYXJncygiSG9sYSIsICJNw7NuIikKZGVmIGdyZWV0KG5hbWUpOgogICAgcHJpbnQoZiJIb2xhLCB7bmFtZX0hIikKCmdyZWV0KCJQeXRob24iKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def decorator_with_args(arg1, arg2):
    def decorator(func):
        def wrapper(*args, **kwargs):
            print(f&quot;Arguments del decorador: {arg1}, {arg2}&quot;)
            return func(*args, **kwargs)
        return wrapper
    return decorator

@decorator_with_args(&quot;Hola&quot;, &quot;M&oacute;n&quot;)
def greet(name):
    print(f&quot;Hola, {name}!&quot;)

greet(&quot;Python&quot;)</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><code>decorator_with_args</code> és una funció que pren arguments i retorna un decorador.</li>
<li><code>decorator</code> és el decorador que pren la funció <code>func</code> com a argument.</li>
<li><code>wrapper</code> és la funció interna que afegeix funcionalitat abans de cridar <code>func</code>.</li>
</ol>
</div><h1><p>Decoradors Multiples</p>
</h1>
<div class='content'><p>És possible aplicar múltiples decoradors a una sola funció. Els decoradors s'apliquen de dalt a baix.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlY29yYXRvcjEoZnVuYyk6CiAgICBkZWYgd3JhcHBlcigpOgogICAgICAgIHByaW50KCJEZWNvcmFkb3IgMSIpCiAgICAgICAgZnVuYygpCiAgICByZXR1cm4gd3JhcHBlcgoKZGVmIGRlY29yYXRvcjIoZnVuYyk6CiAgICBkZWYgd3JhcHBlcigpOgogICAgICAgIHByaW50KCJEZWNvcmFkb3IgMiIpCiAgICAgICAgZnVuYygpCiAgICByZXR1cm4gd3JhcHBlcgoKQGRlY29yYXRvcjEKQGRlY29yYXRvcjIKZGVmIHNheV9oZWxsbygpOgogICAgcHJpbnQoIkhvbGEhIikKCnNheV9oZWxsbygp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def decorator1(func):
    def wrapper():
        print(&quot;Decorador 1&quot;)
        func()
    return wrapper

def decorator2(func):
    def wrapper():
        print(&quot;Decorador 2&quot;)
        func()
    return wrapper

@decorator1
@decorator2
def say_hello():
    print(&quot;Hola!&quot;)

say_hello()</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><code>@decorator2</code> s'aplica primer a <code>say_hello</code>.</li>
<li><code>@decorator1</code> s'aplica després a la funció resultant de <code>@decorator2</code>.</li>
</ol>
</div><h1><p>Decoradors de Classe</p>
</h1>
<div class='content'><p>Els decoradors també poden ser aplicats a mètodes dins de classes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIG1ldGhvZF9kZWNvcmF0b3IoZnVuYyk6CiAgICBkZWYgd3JhcHBlcihzZWxmLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIHByaW50KCJBYmFucyBkZWwgbcOodG9kZSIpCiAgICAgICAgcmVzdWx0ID0gZnVuYyhzZWxmLCAqYXJncywgKiprd2FyZ3MpCiAgICAgICAgcHJpbnQoIkRlc3Byw6lzIGRlbCBtw6h0b2RlIikKICAgICAgICByZXR1cm4gcmVzdWx0CiAgICByZXR1cm4gd3JhcHBlcgoKY2xhc3MgTXlDbGFzczoKICAgIEBtZXRob2RfZGVjb3JhdG9yCiAgICBkZWYgZGlzcGxheShzZWxmKToKICAgICAgICBwcmludCgiTcOodG9kZSBkZSBsYSBjbGFzc2UiKQoKb2JqID0gTXlDbGFzcygpCm9iai5kaXNwbGF5KCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def method_decorator(func):
    def wrapper(self, *args, **kwargs):
        print(&quot;Abans del m&egrave;tode&quot;)
        result = func(self, *args, **kwargs)
        print(&quot;Despr&eacute;s del m&egrave;tode&quot;)
        return result
    return wrapper

class MyClass:
    @method_decorator
    def display(self):
        print(&quot;M&egrave;tode de la classe&quot;)

obj = MyClass()
obj.display()</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ol>
<li><code>method_decorator</code> és un decorador que pren un mètode de classe <code>func</code> com a argument.</li>
<li><code>wrapper</code> afegeix funcionalitat abans i després de cridar <code>func</code>.</li>
</ol>
</div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Decorador de Temps d'Execució</p>
</h2>
<div class='content'><p>Crea un decorador que mesuri el temps d'execució d'una funció.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRpbWUKCmRlZiB0aW1lX2RlY29yYXRvcihmdW5jKToKICAgIGRlZiB3cmFwcGVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgc3RhcnRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgcmVzdWx0ID0gZnVuYygqYXJncywgKiprd2FyZ3MpCiAgICAgICAgZW5kX3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHByaW50KGYiVGVtcHMgZCdleGVjdWNpw7M6IHtlbmRfdGltZSAtIHN0YXJ0X3RpbWV9IHNlZ29ucyIpCiAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgcmV0dXJuIHdyYXBwZXIKCkB0aW1lX2RlY29yYXRvcgpkZWYgc2xvd19mdW5jdGlvbigpOgogICAgdGltZS5zbGVlcCgyKQogICAgcHJpbnQoIkZ1bmNpw7MgbGVudGEiKQoKc2xvd19mdW5jdGlvbigp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import time

def time_decorator(func):
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f&quot;Temps d'execuci&oacute;: {end_time - start_time} segons&quot;)
        return result
    return wrapper

@time_decorator
def slow_function():
    time.sleep(2)
    print(&quot;Funci&oacute; lenta&quot;)

slow_function()</pre></div><div class='content'></div><h2><p>Exercici 2: Decorador de Comptador de Crides</p>
</h2>
<div class='content'><p>Crea un decorador que compti el nombre de vegades que una funció és cridada.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGNhbGxfY291bnRlcihmdW5jKToKICAgIGRlZiB3cmFwcGVyKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgd3JhcHBlci5jYWxscyArPSAxCiAgICAgICAgcHJpbnQoZiJDcmlkZXM6IHt3cmFwcGVyLmNhbGxzfSIpCiAgICAgICAgcmV0dXJuIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgd3JhcHBlci5jYWxscyA9IDAKICAgIHJldHVybiB3cmFwcGVyCgpAY2FsbF9jb3VudGVyCmRlZiBncmVldChuYW1lKToKICAgIHByaW50KGYiSG9sYSwge25hbWV9ISIpCgpncmVldCgiUHl0aG9uIikKZ3JlZXQoIldvcmxkIik="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def call_counter(func):
    def wrapper(*args, **kwargs):
        wrapper.calls += 1
        print(f&quot;Crides: {wrapper.calls}&quot;)
        return func(*args, **kwargs)
    wrapper.calls = 0
    return wrapper

@call_counter
def greet(name):
    print(f&quot;Hola, {name}!&quot;)

greet(&quot;Python&quot;)
greet(&quot;World&quot;)</pre></div><div class='content'></div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>Els decoradors són una eina poderosa en Python que permeten modificar el comportament de funcions i mètodes de manera elegant i reutilitzable. Hem vist com crear decoradors simples, amb arguments, múltiples decoradors i decoradors de classe. També hem practicat amb alguns exercicis per reforçar els conceptes apresos.</p>
<p>En el següent tema, explorarem els generadors, una altra característica avançada de Python que permet treballar amb seqüències de dades de manera eficient.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-custom-exceptions' title="Excepcions Personalitzades">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-02-generators' title="Generadors">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
