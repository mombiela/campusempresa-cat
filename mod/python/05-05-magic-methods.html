<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mètodes Màgics</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/05-05-magic-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/05-05-magic-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/05-05-magic-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/python/05-05-magic-methods" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/python/05-05-magic-methods" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-encapsulation' title="Encapsulació">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mètodes Màgics</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-reading-and-writing-files' title="Lectura i Escriptura de Fitxers">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Els mètodes màgics en Python, també coneguts com a mètodes especials o dunder methods (per &quot;double underscore&quot;), són mètodes que tenen noms especials envoltats per dobles guions baixos, com <code>__init__</code>, <code>__str__</code>, <code>__repr__</code>, entre d'altres. Aquests mètodes permeten definir comportaments especials per a les instàncies de les classes, com la inicialització d'objectes, la representació en forma de cadena, la comparació, i molt més.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ol>
<li>
<p><strong>Mètodes d'Inicialització i Representació</strong></p>
<ul>
<li><code>__init__(self, ...)</code>: Inicialitza una nova instància de la classe.</li>
<li><code>__str__(self)</code>: Retorna una representació en forma de cadena llegible per a humans.</li>
<li><code>__repr__(self)</code>: Retorna una representació en forma de cadena que hauria de ser una expressió vàlida de Python que recrea l'objecte.</li>
</ul>
</li>
<li>
<p><strong>Mètodes d'Operadors</strong></p>
<ul>
<li><code>__add__(self, other)</code>: Defineix el comportament de l'operador <code>+</code>.</li>
<li><code>__sub__(self, other)</code>: Defineix el comportament de l'operador <code>-</code>.</li>
<li><code>__mul__(self, other)</code>: Defineix el comportament de l'operador <code>*</code>.</li>
<li><code>__truediv__(self, other)</code>: Defineix el comportament de l'operador <code>/</code>.</li>
</ul>
</li>
<li>
<p><strong>Mètodes de Comparació</strong></p>
<ul>
<li><code>__eq__(self, other)</code>: Defineix el comportament de l'operador <code>==</code>.</li>
<li><code>__ne__(self, other)</code>: Defineix el comportament de l'operador <code>!=</code>.</li>
<li><code>__lt__(self, other)</code>: Defineix el comportament de l'operador <code>&lt;</code>.</li>
<li><code>__le__(self, other)</code>: Defineix el comportament de l'operador <code>&lt;=</code>.</li>
<li><code>__gt__(self, other)</code>: Defineix el comportament de l'operador <code>&gt;</code>.</li>
<li><code>__ge__(self, other)</code>: Defineix el comportament de l'operador <code>&gt;=</code>.</li>
</ul>
</li>
<li>
<p><strong>Altres Mètodes Màgics</strong></p>
<ul>
<li><code>__len__(self)</code>: Retorna la longitud de l'objecte.</li>
<li><code>__getitem__(self, key)</code>: Permet accedir a elements utilitzant la notació de clau.</li>
<li><code>__setitem__(self, key, value)</code>: Permet assignar valors a elements utilitzant la notació de clau.</li>
<li><code>__delitem__(self, key)</code>: Permet eliminar elements utilitzant la notació de clau.</li>
</ul>
</li>
</ol>
</div><h1>Exemples Pràctics</h1>
<div class='content'></div><h2>Exemple 1: `__init__`, `__str__`, i `__repr__`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uYToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBub20sIGVkYXQpOgogICAgICAgIHNlbGYubm9tID0gbm9tCiAgICAgICAgc2VsZi5lZGF0ID0gZWRhdAoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ3tzZWxmLm5vbX0sIHtzZWxmLmVkYXR9IGFueXMnCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ1BlcnNvbmEobm9tPXtzZWxmLm5vbSFyfSwgZWRhdD17c2VsZi5lZGF0IXJ9KScKCiMgQ3JlYWNpw7MgZCd1bmEgaW5zdMOgbmNpYQpwZXJzb25hID0gUGVyc29uYSgnSm9hbicsIDMwKQoKIyDDmnMgZGUgX19zdHJfXwpwcmludChwZXJzb25hKSAgIyBTb3J0aWRhOiBKb2FuLCAzMCBhbnlzCgojIMOacyBkZSBfX3JlcHJfXwpwcmludChyZXByKHBlcnNvbmEpKSAgIyBTb3J0aWRhOiBQZXJzb25hKG5vbT0nSm9hbicsIGVkYXQ9MzAp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Persona:
    def __init__(self, nom, edat):
        self.nom = nom
        self.edat = edat

    def __str__(self):
        return f'{self.nom}, {self.edat} anys'

    def __repr__(self):
        return f'Persona(nom={self.nom!r}, edat={self.edat!r})'

# Creaci&oacute; d'una inst&agrave;ncia
persona = Persona('Joan', 30)

# &Uacute;s de __str__
print(persona)  # Sortida: Joan, 30 anys

# &Uacute;s de __repr__
print(repr(persona))  # Sortida: Persona(nom='Joan', edat=30)</pre></div><div class='content'></div><h2>Exemple 2: Mètodes d'Operadors</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVmVjdG9yOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHgsIHkpOgogICAgICAgIHNlbGYueCA9IHgKICAgICAgICBzZWxmLnkgPSB5CgogICAgZGVmIF9fYWRkX18oc2VsZiwgYWx0cmUpOgogICAgICAgIHJldHVybiBWZWN0b3Ioc2VsZi54ICsgYWx0cmUueCwgc2VsZi55ICsgYWx0cmUueSkKCiAgICBkZWYgX19zdWJfXyhzZWxmLCBhbHRyZSk6CiAgICAgICAgcmV0dXJuIFZlY3RvcihzZWxmLnggLSBhbHRyZS54LCBzZWxmLnkgLSBhbHRyZS55KQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZidWZWN0b3Ioe3NlbGYueH0sIHtzZWxmLnl9KScKCiMgQ3JlYWNpw7MgZGUgdmVjdG9ycwp2MSA9IFZlY3RvcigyLCAzKQp2MiA9IFZlY3Rvcig0LCA1KQoKIyDDmnMgZGUgX19hZGRfXwp2MyA9IHYxICsgdjIKcHJpbnQodjMpICAjIFNvcnRpZGE6IFZlY3Rvcig2LCA4KQoKIyDDmnMgZGUgX19zdWJfXwp2NCA9IHYxIC0gdjIKcHJpbnQodjQpICAjIFNvcnRpZGE6IFZlY3RvcigtMiwgLTIp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __add__(self, altre):
        return Vector(self.x + altre.x, self.y + altre.y)

    def __sub__(self, altre):
        return Vector(self.x - altre.x, self.y - altre.y)

    def __repr__(self):
        return f'Vector({self.x}, {self.y})'

# Creaci&oacute; de vectors
v1 = Vector(2, 3)
v2 = Vector(4, 5)

# &Uacute;s de __add__
v3 = v1 + v2
print(v3)  # Sortida: Vector(6, 8)

# &Uacute;s de __sub__
v4 = v1 - v2
print(v4)  # Sortida: Vector(-2, -2)</pre></div><div class='content'></div><h2>Exemple 3: Mètodes de Comparació</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uYToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBub20sIGVkYXQpOgogICAgICAgIHNlbGYubm9tID0gbm9tCiAgICAgICAgc2VsZi5lZGF0ID0gZWRhdAoKICAgIGRlZiBfX2VxX18oc2VsZiwgYWx0cmUpOgogICAgICAgIHJldHVybiBzZWxmLmVkYXQgPT0gYWx0cmUuZWRhdAoKICAgIGRlZiBfX2x0X18oc2VsZiwgYWx0cmUpOgogICAgICAgIHJldHVybiBzZWxmLmVkYXQgPCBhbHRyZS5lZGF0CgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ1BlcnNvbmEobm9tPXtzZWxmLm5vbSFyfSwgZWRhdD17c2VsZi5lZGF0IXJ9KScKCiMgQ3JlYWNpw7MgZGUgcGVyc29uZXMKcDEgPSBQZXJzb25hKCdKb2FuJywgMzApCnAyID0gUGVyc29uYSgnTWFyaWEnLCAyNSkKcDMgPSBQZXJzb25hKCdBbm5hJywgMzApCgojIMOacyBkZSBfX2VxX18KcHJpbnQocDEgPT0gcDMpICAjIFNvcnRpZGE6IFRydWUKCiMgw5pzIGRlIF9fbHRfXwpwcmludChwMiA8IHAxKSAgIyBTb3J0aWRhOiBUcnVl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Persona:
    def __init__(self, nom, edat):
        self.nom = nom
        self.edat = edat

    def __eq__(self, altre):
        return self.edat == altre.edat

    def __lt__(self, altre):
        return self.edat &lt; altre.edat

    def __repr__(self):
        return f'Persona(nom={self.nom!r}, edat={self.edat!r})'

# Creaci&oacute; de persones
p1 = Persona('Joan', 30)
p2 = Persona('Maria', 25)
p3 = Persona('Anna', 30)

# &Uacute;s de __eq__
print(p1 == p3)  # Sortida: True

# &Uacute;s de __lt__
print(p2 &lt; p1)  # Sortida: True</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Implementar `__len__` i `__getitem__`</h2>
<div class='content'><p>Implementa una classe <code>Llibre</code> que tingui una llista de capítols. Defineix els mètodes <code>__len__</code> per retornar el nombre de capítols i <code>__getitem__</code> per accedir a un capítol específic per índex.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTGxpYnJlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRpdG9sLCBjYXBpdG9scyk6CiAgICAgICAgc2VsZi50aXRvbCA9IHRpdG9sCiAgICAgICAgc2VsZi5jYXBpdG9scyA9IGNhcGl0b2xzCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmNhcGl0b2xzKQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpbmRleCk6CiAgICAgICAgcmV0dXJuIHNlbGYuY2FwaXRvbHNbaW5kZXhdCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ0xsaWJyZSh0aXRvbD17c2VsZi50aXRvbCFyfSwgY2FwaXRvbHM9e3NlbGYuY2FwaXRvbHMhcn0pJwoKIyBDcmVhY2nDsyBkJ3VuIGxsaWJyZQpsbGlicmUgPSBMbGlicmUoJ1B5dGhvbiBwZXIgYSBUb3Rob20nLCBbJ0ludHJvZHVjY2nDsycsICdWYXJpYWJsZXMnLCAnRXN0cnVjdHVyZXMgZGUgQ29udHJvbCddKQoKIyDDmnMgZGUgX19sZW5fXwpwcmludChsZW4obGxpYnJlKSkgICMgU29ydGlkYTogMwoKIyDDmnMgZGUgX19nZXRpdGVtX18KcHJpbnQobGxpYnJlWzFdKSAgIyBTb3J0aWRhOiBWYXJpYWJsZXM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Llibre:
    def __init__(self, titol, capitols):
        self.titol = titol
        self.capitols = capitols

    def __len__(self):
        return len(self.capitols)

    def __getitem__(self, index):
        return self.capitols[index]

    def __repr__(self):
        return f'Llibre(titol={self.titol!r}, capitols={self.capitols!r})'

# Creaci&oacute; d'un llibre
llibre = Llibre('Python per a Tothom', ['Introducci&oacute;', 'Variables', 'Estructures de Control'])

# &Uacute;s de __len__
print(len(llibre))  # Sortida: 3

# &Uacute;s de __getitem__
print(llibre[1])  # Sortida: Variables</pre></div><div class='content'></div><h2>Exercici 2: Implementar `__eq__` i `__lt__` per a una Classe `Producte`</h2>
<div class='content'><p>Implementa una classe <code>Producte</code> que tingui atributs <code>nom</code> i <code>preu</code>. Defineix els mètodes <code>__eq__</code> per comparar productes pel seu preu i <code>__lt__</code> per determinar si un producte és més barat que un altre.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUHJvZHVjdGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbm9tLCBwcmV1KToKICAgICAgICBzZWxmLm5vbSA9IG5vbQogICAgICAgIHNlbGYucHJldSA9IHByZXUKCiAgICBkZWYgX19lcV9fKHNlbGYsIGFsdHJlKToKICAgICAgICByZXR1cm4gc2VsZi5wcmV1ID09IGFsdHJlLnByZXUKCiAgICBkZWYgX19sdF9fKHNlbGYsIGFsdHJlKToKICAgICAgICByZXR1cm4gc2VsZi5wcmV1IDwgYWx0cmUucHJldQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZidQcm9kdWN0ZShub209e3NlbGYubm9tIXJ9LCBwcmV1PXtzZWxmLnByZXUhcn0pJwoKIyBDcmVhY2nDsyBkZSBwcm9kdWN0ZXMKcDEgPSBQcm9kdWN0ZSgnTGxpYnJlJywgMjApCnAyID0gUHJvZHVjdGUoJ0xsYXBpcycsIDEpCnAzID0gUHJvZHVjdGUoJ0xsaWJyZXRhJywgNSkKCiMgw5pzIGRlIF9fZXFfXwpwcmludChwMSA9PSBwMykgICMgU29ydGlkYTogRmFsc2UKCiMgw5pzIGRlIF9fbHRfXwpwcmludChwMiA8IHAzKSAgIyBTb3J0aWRhOiBUcnVl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Producte:
    def __init__(self, nom, preu):
        self.nom = nom
        self.preu = preu

    def __eq__(self, altre):
        return self.preu == altre.preu

    def __lt__(self, altre):
        return self.preu &lt; altre.preu

    def __repr__(self):
        return f'Producte(nom={self.nom!r}, preu={self.preu!r})'

# Creaci&oacute; de productes
p1 = Producte('Llibre', 20)
p2 = Producte('Llapis', 1)
p3 = Producte('Llibreta', 5)

# &Uacute;s de __eq__
print(p1 == p3)  # Sortida: False

# &Uacute;s de __lt__
print(p2 &lt; p3)  # Sortida: True</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els mètodes màgics són una eina poderosa en Python que permeten personalitzar el comportament de les classes de manera molt flexible. Aquests mètodes permeten definir com les instàncies de les classes es comporten en diverses situacions, com la inicialització, la representació en forma de cadena, les operacions amb operadors, i molt més. La comprensió i l'ús adequat dels mètodes màgics poden fer que el teu codi sigui més intuïtiu i fàcil de mantenir.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-encapsulation' title="Encapsulació">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-reading-and-writing-files' title="Lectura i Escriptura de Fitxers">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
