<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integració contínua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/07-03-continuous-integration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/07-03-continuous-integration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/07-03-continuous-integration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/graphql/07-03-continuous-integration" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/graphql/07-03-continuous-integration" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-integration-testing' title="Proves d'integració">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integració contínua</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-deploying-graphql-servers' title="Desplegament de servidors GraphQL">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La integració contínua (CI) és una pràctica de desenvolupament de programari on els desenvolupadors integren el seu codi en un repositori compartit diverses vegades al dia. Cada integració és verificada per una construcció automàtica (incloent proves) per detectar errors tan aviat com sigui possible. En aquest tema, aprendrem com implementar CI per a un projecte GraphQL.</p>
</div><h1><p>Objectius del tema</p>
</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics de la integració contínua.</li>
<li>Configurar un pipeline de CI per a un projecte GraphQL.</li>
<li>Automatitzar proves i desplegaments.</li>
</ul>
</div><h1><p>Conceptes bàsics de la integració contínua</p>
</h1>
<div class='content'></div><h2><p>Beneficis de la integració contínua</p>
</h2>
<div class='content'><ul>
<li><strong>Detecció primerenca d'errors:</strong> Les proves automàtiques ajuden a identificar errors immediatament després de cada integració.</li>
<li><strong>Millora de la qualitat del codi:</strong> La integració contínua fomenta la pràctica de proves freqüents, millorant la qualitat del codi.</li>
<li><strong>Desplegament més ràpid:</strong> Amb un pipeline de CI ben configurat, el codi es pot desplegar de manera més ràpida i segura.</li>
</ul>
</div><h2><p>Components clau de la integració contínua</p>
</h2>
<div class='content'><ul>
<li><strong>Repositori de codi:</strong> Un sistema de control de versions (com Git) on es guarda el codi.</li>
<li><strong>Servidor de CI:</strong> Una eina que automatitza la construcció i les proves del codi (com Jenkins, Travis CI, CircleCI).</li>
<li><strong>Scripts de construcció i proves:</strong> Scripts que defineixen com construir i provar el projecte.</li>
</ul>
</div><h1><p>Configuració d'un pipeline de CI per a un projecte GraphQL</p>
</h1>
<div class='content'></div><h2><p>Pas 1: Configuració del repositori de codi</p>
</h2>
<div class='content'><p>Assegura't que el teu projecte GraphQL estigui en un repositori de codi, com GitHub, GitLab o Bitbucket.</p>
</div><h2><p>Pas 2: Elecció d'una eina de CI</p>
</h2>
<div class='content'><p>Hi ha diverses eines de CI disponibles. En aquest exemple, utilitzarem <strong>GitHub Actions</strong> per la seva integració directa amb GitHub.</p>
</div><h2><p>Pas 3: Creació del workflow de GitHub Actions</p>
</h2>
<div class='content'><p>Crea un fitxer <code>.github/workflows/ci.yml</code> al teu repositori amb el següent contingut:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCiAgcHVsbF9yZXF1ZXN0OgogICAgYnJhbmNoZXM6CiAgICAgIC0gbWFpbgoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKCiAgICBzdGVwczoKICAgIC0gbmFtZTogQ2hlY2tvdXQgY29kZQogICAgICB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCgogICAgLSBuYW1lOiBTZXQgdXAgTm9kZS5qcwogICAgICB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjIKICAgICAgd2l0aDoKICAgICAgICBub2RlLXZlcnNpb246ICcxNCcKCiAgICAtIG5hbWU6IEluc3RhbGwgZGVwZW5kZW5jaWVzCiAgICAgIHJ1bjogbnBtIGluc3RhbGwKCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBydW46IG5wbSB0ZXN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI Pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: Install dependencies
      run: npm install

    - name: Run tests
      run: npm test</pre></div><div class='content'></div><h2><p>Explicació del workflow</p>
</h2>
<div class='content'><ul>
<li><strong>on:</strong> Defineix quan s'executarà el workflow (en aquest cas, en cada push o pull request a la branca <code>main</code>).</li>
<li><strong>jobs:</strong> Defineix els treballs que es realitzaran.
<ul>
<li><strong>build:</strong> El nom del treball.
<ul>
<li><strong>runs-on:</strong> Defineix el sistema operatiu en el qual s'executarà el treball (en aquest cas, <code>ubuntu-latest</code>).</li>
<li><strong>steps:</strong> Defineix els passos del treball.
<ul>
<li><strong>Checkout code:</strong> Utilitza l'acció <code>actions/checkout</code> per obtenir el codi del repositori.</li>
<li><strong>Set up Node.js:</strong> Configura Node.js a la versió especificada.</li>
<li><strong>Install dependencies:</strong> Instal·la les dependències del projecte.</li>
<li><strong>Run tests:</strong> Executa les proves definides en el projecte.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1><p>Automatització de proves i desplegaments</p>
</h1>
<div class='content'></div><h2><p>Proves automàtiques</p>
</h2>
<div class='content'><p>Les proves automàtiques són essencials per a la integració contínua. Assegura't de tenir un bon conjunt de proves unitàries i d'integració per al teu projecte GraphQL.</p>
</div><h2><p>Desplegament automàtic</p>
</h2>
<div class='content'><p>Després de passar totes les proves, pots configurar el pipeline de CI per desplegar automàticament el teu servidor GraphQL. Aquí tens un exemple de com afegir un pas de desplegament al workflow de GitHub Actions:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LSBuYW1lOiBEZXBsb3kgdG8gSGVyb2t1CiAgZW52OgogICAgSEVST0tVX0FQSV9LRVk6ICR7eyBzZWNyZXRzLkhFUk9LVV9BUElfS0VZIH19CiAgcnVuOiB8CiAgICBnaXQgcmVtb3RlIGFkZCBoZXJva3UgaHR0cHM6Ly9naXQuaGVyb2t1LmNvbS88eW91ci1hcHAtbmFtZT4uZ2l0CiAgICBnaXQgcHVzaCBoZXJva3UgbWFpbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>- name: Deploy to Heroku
  env:
    HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
  run: |
    git remote add heroku https://git.heroku.com/&lt;your-app-name&gt;.git
    git push heroku main</pre></div><div class='content'></div><h2><p>Explicació del pas de desplegament</p>
</h2>
<div class='content'><ul>
<li><strong>Deploy to Heroku:</strong> El nom del pas.</li>
<li><strong>env:</strong> Defineix les variables d'entorn necessàries per al desplegament (en aquest cas, la clau API de Heroku).</li>
<li><strong>run:</strong> Defineix els comandos per desplegar l'aplicació a Heroku.</li>
</ul>
</div><h1><p>Exercici pràctic</p>
</h1>
<div class='content'></div><h2><p>Objectiu</p>
</h2>
<div class='content'><p>Configurar un pipeline de CI per a un projecte GraphQL utilitzant GitHub Actions.</p>
</div><h2><p>Passos</p>
</h2>
<div class='content'><ol>
<li>Crea un repositori de codi per al teu projecte GraphQL.</li>
<li>Configura el workflow de GitHub Actions seguint els passos descrits anteriorment.</li>
<li>Afegeix proves unitàries al teu projecte.</li>
<li>Configura el desplegament automàtic a una plataforma com Heroku.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'><p>La solució a aquest exercici es troba en el codi del workflow de GitHub Actions proporcionat anteriorment. Assegura't de substituir <code>&lt;your-app-name&gt;</code> pel nom de la teva aplicació a Heroku.</p>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem après els conceptes bàsics de la integració contínua i com configurar un pipeline de CI per a un projecte GraphQL utilitzant GitHub Actions. Hem vist com automatitzar proves i desplegaments per millorar la qualitat del codi i accelerar el procés de desenvolupament. Amb aquests coneixements, estàs preparat per implementar CI en els teus projectes GraphQL i beneficiar-te dels seus avantatges.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-integration-testing' title="Proves d'integració">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-deploying-graphql-servers' title="Desplegament de servidors GraphQL">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
