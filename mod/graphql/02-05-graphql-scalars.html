<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Escalars de GraphQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/02-05-graphql-scalars" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/02-05-graphql-scalars" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/02-05-graphql-scalars" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/graphql/02-05-graphql-scalars" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/graphql/02-05-graphql-scalars" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-graphql-types' title="Tipus de GraphQL">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Escalars de GraphQL</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-interfaces' title="Interfícies">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Els escalars són els tipus de dades més bàsics en GraphQL. Representen valors atòmics que no es poden descompondre en altres tipus. Els escalars són essencials per definir els tipus de dades que les nostres consultes i mutacions poden retornar o acceptar com a arguments.</p>
</div><h1>Tipus d'Escalars Predefinits</h1>
<div class='content'><p>GraphQL ve amb una sèrie de tipus d'escalars predefinits que cobreixen les necessitats més comunes:</p>
<ol>
<li><strong>Int</strong>: Un enter de 32 bits.</li>
<li><strong>Float</strong>: Un nombre de coma flotant de precisió doble.</li>
<li><strong>String</strong>: Una cadena de text UTF-8.</li>
<li><strong>Boolean</strong>: Un valor que pot ser <code>true</code> o <code>false</code>.</li>
<li><strong>ID</strong>: Un identificador únic, sovint utilitzat per identificar objectes de manera única.</li>
</ol>
</div><h2>Exemple d'ús dels escalars predefinits</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBVc2VyIHsKICBpZDogSUQhCiAgbmFtZTogU3RyaW5nIQogIGFnZTogSW50CiAgaXNBY3RpdmU6IEJvb2xlYW4hCiAgYmFsYW5jZTogRmxvYXQKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type User {
  id: ID!
  name: String!
  age: Int
  isActive: Boolean!
  balance: Float
}</pre></div><div class='content'><p>En aquest exemple, el tipus <code>User</code> utilitza diversos escalars predefinits per definir les seves propietats.</p>
</div><h1>Creació d'Escalars Personalitzats</h1>
<div class='content'><p>A més dels escalars predefinits, GraphQL permet la creació d'escalars personalitzats per a casos d'ús específics. Per exemple, podríem necessitar un tipus <code>Date</code> per representar dates.</p>
</div><h2>Definició d'un escalar personalitzat</h2>
<div class='content'><ol>
<li><strong>Definició en l'esquema</strong>: Primer, definim el nou tipus d'escalar en el nostre esquema GraphQL.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NhbGFyIERhdGU="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>scalar Date</pre></div><div class='content'><ol start="2">
<li><strong>Implementació del resolutor</strong>: Després, implementem el resolutor per al nostre escalar personalitzat. Això inclou la serialització, deserialització i validació dels valors.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBHcmFwaFFMU2NhbGFyVHlwZSwgS2luZCB9ID0gcmVxdWlyZSgnZ3JhcGhxbCcpOwoKY29uc3QgRGF0ZVNjYWxhciA9IG5ldyBHcmFwaFFMU2NhbGFyVHlwZSh7CiAgbmFtZTogJ0RhdGUnLAogIGRlc2NyaXB0aW9uOiAnQSBjdXN0b20gc2NhbGFyIHR5cGUgZm9yIGRhdGVzJywKICBzZXJpYWxpemUodmFsdWUpIHsKICAgIC8vIENvbnZlcnQgdGhlIERhdGUgb2JqZWN0IHRvIGFuIElTTyBzdHJpbmcgZm9yIHRoZSBjbGllbnQKICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpOwogIH0sCiAgcGFyc2VWYWx1ZSh2YWx1ZSkgewogICAgLy8gQ29udmVydCB0aGUgSVNPIHN0cmluZyBmcm9tIHRoZSBjbGllbnQgdG8gYSBEYXRlIG9iamVjdAogICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTsKICB9LAogIHBhcnNlTGl0ZXJhbChhc3QpIHsKICAgIGlmIChhc3Qua2luZCA9PT0gS2luZC5TVFJJTkcpIHsKICAgICAgLy8gQ29udmVydCB0aGUgQVNUIHN0cmluZyBsaXRlcmFsIHRvIGEgRGF0ZSBvYmplY3QKICAgICAgcmV0dXJuIG5ldyBEYXRlKGFzdC52YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { GraphQLScalarType, Kind } = require('graphql');

const DateScalar = new GraphQLScalarType({
  name: 'Date',
  description: 'A custom scalar type for dates',
  serialize(value) {
    // Convert the Date object to an ISO string for the client
    return value.toISOString();
  },
  parseValue(value) {
    // Convert the ISO string from the client to a Date object
    return new Date(value);
  },
  parseLiteral(ast) {
    if (ast.kind === Kind.STRING) {
      // Convert the AST string literal to a Date object
      return new Date(ast.value);
    }
    return null;
  }
});</pre></div><div class='content'><ol start="3">
<li><strong>Incorporació en l'esquema</strong>: Finalment, incorporem el resolutor en el nostre esquema GraphQL.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBtYWtlRXhlY3V0YWJsZVNjaGVtYSB9ID0gcmVxdWlyZSgnQGdyYXBocWwtdG9vbHMvc2NoZW1hJyk7Cgpjb25zdCB0eXBlRGVmcyA9IGAKICBzY2FsYXIgRGF0ZQoKICB0eXBlIEV2ZW50IHsKICAgIGlkOiBJRCEKICAgIG5hbWU6IFN0cmluZyEKICAgIGRhdGU6IERhdGUhCiAgfQoKICB0eXBlIFF1ZXJ5IHsKICAgIGV2ZW50czogW0V2ZW50XQogIH0KYDsKCmNvbnN0IHJlc29sdmVycyA9IHsKICBEYXRlOiBEYXRlU2NhbGFyLAogIFF1ZXJ5OiB7CiAgICBldmVudHM6ICgpID0+IFsKICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQ29uZmVyZW5jZScsIGRhdGU6IG5ldyBEYXRlKCkgfSwKICAgICAgeyBpZDogJzInLCBuYW1lOiAnTWVldHVwJywgZGF0ZTogbmV3IERhdGUoKSB9CiAgICBdCiAgfQp9OwoKY29uc3Qgc2NoZW1hID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoeyB0eXBlRGVmcywgcmVzb2x2ZXJzIH0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { makeExecutableSchema } = require('@graphql-tools/schema');

const typeDefs = `
  scalar Date

  type Event {
    id: ID!
    name: String!
    date: Date!
  }

  type Query {
    events: [Event]
  }
`;

const resolvers = {
  Date: DateScalar,
  Query: {
    events: () =&gt; [
      { id: '1', name: 'Conference', date: new Date() },
      { id: '2', name: 'Meetup', date: new Date() }
    ]
  }
};

const schema = makeExecutableSchema({ typeDefs, resolvers });</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear un escalar personalitzat per a correus electrònics</h2>
<div class='content'><ol>
<li><strong>Definició en l'esquema</strong>: Defineix un nou tipus d'escalar <code>Email</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NhbGFyIEVtYWls"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>scalar Email</pre></div><div class='content'><ol start="2">
<li><strong>Implementació del resolutor</strong>: Implementa el resolutor per al tipus <code>Email</code> que valida que el valor sigui un correu electrònic vàlid.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgRW1haWxTY2FsYXIgPSBuZXcgR3JhcGhRTFNjYWxhclR5cGUoewogIG5hbWU6ICdFbWFpbCcsCiAgZGVzY3JpcHRpb246ICdBIGN1c3RvbSBzY2FsYXIgdHlwZSBmb3IgZW1haWwgYWRkcmVzc2VzJywKICBzZXJpYWxpemUodmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZTsKICB9LAogIHBhcnNlVmFsdWUodmFsdWUpIHsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8ICF2YWx1ZS5pbmNsdWRlcygnQCcpKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7CiAgICB9CiAgICByZXR1cm4gdmFsdWU7CiAgfSwKICBwYXJzZUxpdGVyYWwoYXN0KSB7CiAgICBpZiAoYXN0LmtpbmQgPT09IEtpbmQuU1RSSU5HICYmIGFzdC52YWx1ZS5pbmNsdWRlcygnQCcpKSB7CiAgICAgIHJldHVybiBhc3QudmFsdWU7CiAgICB9CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpOwogIH0KfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const EmailScalar = new GraphQLScalarType({
  name: 'Email',
  description: 'A custom scalar type for email addresses',
  serialize(value) {
    return value;
  },
  parseValue(value) {
    if (typeof value !== 'string' || !value.includes('@')) {
      throw new Error('Invalid email address');
    }
    return value;
  },
  parseLiteral(ast) {
    if (ast.kind === Kind.STRING &amp;&amp; ast.value.includes('@')) {
      return ast.value;
    }
    throw new Error('Invalid email address');
  }
});</pre></div><div class='content'><ol start="3">
<li><strong>Incorporació en l'esquema</strong>: Incorpora el resolutor en el teu esquema GraphQL.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgdHlwZURlZnMgPSBgCiAgc2NhbGFyIEVtYWlsCgogIHR5cGUgVXNlciB7CiAgICBpZDogSUQhCiAgICBlbWFpbDogRW1haWwhCiAgfQoKICB0eXBlIFF1ZXJ5IHsKICAgIHVzZXJzOiBbVXNlcl0KICB9CmA7Cgpjb25zdCByZXNvbHZlcnMgPSB7CiAgRW1haWw6IEVtYWlsU2NhbGFyLAogIFF1ZXJ5OiB7CiAgICB1c2VyczogKCkgPT4gWwogICAgICB7IGlkOiAnMScsIGVtYWlsOiAndXNlcjFAZXhhbXBsZS5jb20nIH0sCiAgICAgIHsgaWQ6ICcyJywgZW1haWw6ICd1c2VyMkBleGFtcGxlLmNvbScgfQogICAgXQogIH0KfTsKCmNvbnN0IHNjaGVtYSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHsgdHlwZURlZnMsIHJlc29sdmVycyB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const typeDefs = `
  scalar Email

  type User {
    id: ID!
    email: Email!
  }

  type Query {
    users: [User]
  }
`;

const resolvers = {
  Email: EmailScalar,
  Query: {
    users: () =&gt; [
      { id: '1', email: 'user1@example.com' },
      { id: '2', email: 'user2@example.com' }
    ]
  }
};

const schema = makeExecutableSchema({ typeDefs, resolvers });</pre></div><div class='content'></div><h2>Solució de l'Exercici 1</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBHcmFwaFFMU2NhbGFyVHlwZSwgS2luZCB9ID0gcmVxdWlyZSgnZ3JhcGhxbCcpOwpjb25zdCB7IG1ha2VFeGVjdXRhYmxlU2NoZW1hIH0gPSByZXF1aXJlKCdAZ3JhcGhxbC10b29scy9zY2hlbWEnKTsKCmNvbnN0IEVtYWlsU2NhbGFyID0gbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHsKICBuYW1lOiAnRW1haWwnLAogIGRlc2NyaXB0aW9uOiAnQSBjdXN0b20gc2NhbGFyIHR5cGUgZm9yIGVtYWlsIGFkZHJlc3NlcycsCiAgc2VyaWFsaXplKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWU7CiAgfSwKICBwYXJzZVZhbHVlKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fCAhdmFsdWUuaW5jbHVkZXMoJ0AnKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpOwogICAgfQogICAgcmV0dXJuIHZhbHVlOwogIH0sCiAgcGFyc2VMaXRlcmFsKGFzdCkgewogICAgaWYgKGFzdC5raW5kID09PSBLaW5kLlNUUklORyAmJiBhc3QudmFsdWUuaW5jbHVkZXMoJ0AnKSkgewogICAgICByZXR1cm4gYXN0LnZhbHVlOwogICAgfQogICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKTsKICB9Cn0pOwoKY29uc3QgdHlwZURlZnMgPSBgCiAgc2NhbGFyIEVtYWlsCgogIHR5cGUgVXNlciB7CiAgICBpZDogSUQhCiAgICBlbWFpbDogRW1haWwhCiAgfQoKICB0eXBlIFF1ZXJ5IHsKICAgIHVzZXJzOiBbVXNlcl0KICB9CmA7Cgpjb25zdCByZXNvbHZlcnMgPSB7CiAgRW1haWw6IEVtYWlsU2NhbGFyLAogIFF1ZXJ5OiB7CiAgICB1c2VyczogKCkgPT4gWwogICAgICB7IGlkOiAnMScsIGVtYWlsOiAndXNlcjFAZXhhbXBsZS5jb20nIH0sCiAgICAgIHsgaWQ6ICcyJywgZW1haWw6ICd1c2VyMkBleGFtcGxlLmNvbScgfQogICAgXQogIH0KfTsKCmNvbnN0IHNjaGVtYSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHsgdHlwZURlZnMsIHJlc29sdmVycyB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { GraphQLScalarType, Kind } = require('graphql');
const { makeExecutableSchema } = require('@graphql-tools/schema');

const EmailScalar = new GraphQLScalarType({
  name: 'Email',
  description: 'A custom scalar type for email addresses',
  serialize(value) {
    return value;
  },
  parseValue(value) {
    if (typeof value !== 'string' || !value.includes('@')) {
      throw new Error('Invalid email address');
    }
    return value;
  },
  parseLiteral(ast) {
    if (ast.kind === Kind.STRING &amp;&amp; ast.value.includes('@')) {
      return ast.value;
    }
    throw new Error('Invalid email address');
  }
});

const typeDefs = `
  scalar Email

  type User {
    id: ID!
    email: Email!
  }

  type Query {
    users: [User]
  }
`;

const resolvers = {
  Email: EmailScalar,
  Query: {
    users: () =&gt; [
      { id: '1', email: 'user1@example.com' },
      { id: '2', email: 'user2@example.com' }
    ]
  }
};

const schema = makeExecutableSchema({ typeDefs, resolvers });</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els escalars són una part fonamental de GraphQL, proporcionant els blocs de construcció bàsics per als nostres esquemes. A més dels escalars predefinits, podem crear escalars personalitzats per adaptar-nos a les necessitats específiques de la nostra aplicació. Amb la pràctica, la creació i l'ús d'escalars personalitzats esdevindrà una eina poderosa en el teu arsenal de desenvolupament GraphQL.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-graphql-types' title="Tipus de GraphQL">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-interfaces' title="Interfícies">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
