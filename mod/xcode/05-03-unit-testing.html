<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries</title>

    <link rel="alternate" href="https://campusempresa.com/mod/xcode/05-03-unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/xcode/05-03-unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/xcode/05-03-unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/xcode/05-03-unit-testing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/xcode/05-03-unit-testing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-using-breakpoints' title="Utilitzant Breakpoints">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves Unitàries</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-ui-testing' title="Proves d'Interfície d'Usuari">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les proves unitàries són una part essencial del desenvolupament de programari, ja que permeten verificar que les diferents parts del codi funcionen correctament de manera independent. En aquest tema, aprendrem com crear i executar proves unitàries a Xcode utilitzant el framework XCTest.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Entendre què són les proves unitàries i per què són importants.</li>
<li>Aprendre a configurar un projecte Xcode per a proves unitàries.</li>
<li>Escriure i executar proves unitàries bàsiques.</li>
<li>Utilitzar assertions per validar el comportament del codi.</li>
<li>Conèixer les millors pràctiques per escriure proves unitàries efectives.</li>
</ul>
</div><h1>Què són les Proves Unitàries?</h1>
<div class='content'><p>Les proves unitàries són tests automàtics que verifiquen el funcionament d'una unitat de codi, com ara una funció o un mètode. Aquestes proves ajuden a assegurar que el codi compleix amb les especificacions i que els canvis futurs no introdueixen errors.</p>
</div><h2>Beneficis de les Proves Unitàries</h2>
<div class='content'><ul>
<li><strong>Detecció Primerenca d'Errors:</strong> Identifiquen errors en fases inicials del desenvolupament.</li>
<li><strong>Facilitat de Refactorització:</strong> Permeten canviar el codi amb confiança, sabent que les proves validaran el comportament.</li>
<li><strong>Documentació del Codi:</strong> Les proves poden servir com a documentació viva del comportament esperat del codi.</li>
</ul>
</div><h1>Configurant un Projecte Xcode per a Proves Unitàries</h1>
<div class='content'><p>Quan crees un nou projecte a Xcode, pots incloure un target de proves unitàries. Si no ho vas fer inicialment, pots afegir-lo més tard.</p>
</div><h2>Passos per Afegir un Target de Proves Unitàries</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Nou Projecte amb Proves Unitàries:</strong></p>
<ul>
<li>A l'assistent de creació de projectes, assegura't de seleccionar l'opció &quot;Include Unit Tests&quot;.</li>
</ul>
</li>
<li>
<p><strong>Afegir un Target de Proves Unitàries a un Projecte Existents:</strong></p>
<ul>
<li>Ves a <code>File &gt; New &gt; Target</code>.</li>
<li>Selecciona <code>iOS Unit Testing Bundle</code> o <code>macOS Unit Testing Bundle</code> segons el teu projecte.</li>
<li>Fes clic a <code>Next</code> i segueix les instruccions per afegir el target.</li>
</ul>
</li>
</ol>
</div><h1>Escriure i Executar Proves Unitàries</h1>
<div class='content'></div><h2>Exemple de Prova Unitària</h2>
<div class='content'><p>Suposem que tenim una funció que suma dos números:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBhZGQoXyBhOiBJbnQsIF8gYjogSW50KSAtPiBJbnQgewogICAgcmV0dXJuIGEgKyBiCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func add(_ a: Int, _ b: Int) -&gt; Int {
    return a + b
}</pre></div><div class='content'><p>Podem escriure una prova unitària per verificar que aquesta funció funciona correctament.</p>
</div><h2>Creant una Prova Unitària</h2>
<div class='content'><ol>
<li>
<p><strong>Crear una Nova Classe de Proves:</strong></p>
<ul>
<li>A la carpeta de proves del teu projecte, crea un nou fitxer Swift i anomena'l <code>MathTests.swift</code>.</li>
</ul>
</li>
<li>
<p><strong>Importar XCTest i Definir la Classe de Proves:</strong></p>
<pre><code class="language-swift">import XCTest
@testable import ElTeuProjecte

class MathTests: XCTestCase {
    func testAdd() {
        let result = add(2, 3)
        XCTAssertEqual(result, 5, &quot;La funció add hauria de retornar 5 per a 2 + 3&quot;)
    }
}
</code></pre>
</li>
<li>
<p><strong>Executar les Proves:</strong></p>
<ul>
<li>Selecciona <code>Product &gt; Test</code> o utilitza la drecera de teclat <code>Cmd + U</code>.</li>
</ul>
</li>
</ol>
</div><h2>Assertions</h2>
<div class='content'><p>Les assertions són expressions que verifiquen que una condició és certa. Si la condició és falsa, la prova falla.</p>
<h4>Assertions Comunes</h4>
<ul>
<li><code>XCTAssertEqual</code>: Verifica que dos valors són iguals.</li>
<li><code>XCTAssertTrue</code>: Verifica que una condició és certa.</li>
<li><code>XCTAssertFalse</code>: Verifica que una condició és falsa.</li>
<li><code>XCTAssertNil</code>: Verifica que un valor és nil.</li>
<li><code>XCTAssertNotNil</code>: Verifica que un valor no és nil.</li>
</ul>
</div><h2>Exemple d'Assertions</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyB0ZXN0QXNzZXJ0aW9ucygpIHsKICAgIGxldCB2YWx1ZSA9IDEwCiAgICBYQ1RBc3NlcnRFcXVhbCh2YWx1ZSwgMTAsICJFbCB2YWxvciBoYXVyaWEgZGUgc2VyIDEwIikKICAgIFhDVEFzc2VydFRydWUodmFsdWUgPiA1LCAiRWwgdmFsb3IgaGF1cmlhIGRlIHNlciBtYWpvciBxdWUgNSIpCiAgICBYQ1RBc3NlcnRGYWxzZSh2YWx1ZSA8IDUsICJFbCB2YWxvciBubyBoYXVyaWEgZGUgc2VyIG1lbm9yIHF1ZSA1IikKICAgIFhDVEFzc2VydE5vdE5pbCh2YWx1ZSwgIkVsIHZhbG9yIG5vIGhhdXJpYSBkZSBzZXIgbmlsIikKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func testAssertions() {
    let value = 10
    XCTAssertEqual(value, 10, &quot;El valor hauria de ser 10&quot;)
    XCTAssertTrue(value &gt; 5, &quot;El valor hauria de ser major que 5&quot;)
    XCTAssertFalse(value &lt; 5, &quot;El valor no hauria de ser menor que 5&quot;)
    XCTAssertNotNil(value, &quot;El valor no hauria de ser nil&quot;)
}</pre></div><div class='content'></div><h1>Millors Pràctiques per Escriure Proves Unitàries</h1>
<div class='content'><ul>
<li><strong>Només Provar una Unitat de Codi:</strong> Cada prova hauria de verificar una única funcionalitat.</li>
<li><strong>Utilitzar Noms Descriptius:</strong> Els noms de les proves haurien de descriure clarament què estan provant.</li>
<li><strong>Evitar la Dependència entre Proves:</strong> Les proves haurien de ser independents entre elles.</li>
<li><strong>Mantenir les Proves Simples i Curtes:</strong> Les proves haurien de ser fàcils de llegir i entendre.</li>
</ul>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Exercici</h2>
<div class='content'><p>Escriu una funció que calculi el factorial d'un nombre i crea una prova unitària per verificar el seu funcionament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBmYWN0b3JpYWwoXyBuOiBJbnQpIC0+IEludCB7CiAgICBpZiBuID09IDAgewogICAgICAgIHJldHVybiAxCiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuICogZmFjdG9yaWFsKG4gLSAxKQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func factorial(_ n: Int) -&gt; Int {
    if n == 0 {
        return 1
    } else {
        return n * factorial(n - 1)
    }
}</pre></div><div class='content'></div><h2>Prova Unitària</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTWF0aFRlc3RzOiBYQ1Rlc3RDYXNlIHsKICAgIGZ1bmMgdGVzdEZhY3RvcmlhbCgpIHsKICAgICAgICBYQ1RBc3NlcnRFcXVhbChmYWN0b3JpYWwoMCksIDEsICJFbCBmYWN0b3JpYWwgZGUgMCBoYXVyaWEgZGUgc2VyIDEiKQogICAgICAgIFhDVEFzc2VydEVxdWFsKGZhY3RvcmlhbCgxKSwgMSwgIkVsIGZhY3RvcmlhbCBkZSAxIGhhdXJpYSBkZSBzZXIgMSIpCiAgICAgICAgWENUQXNzZXJ0RXF1YWwoZmFjdG9yaWFsKDUpLCAxMjAsICJFbCBmYWN0b3JpYWwgZGUgNSBoYXVyaWEgZGUgc2VyIDEyMCIpCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MathTests: XCTestCase {
    func testFactorial() {
        XCTAssertEqual(factorial(0), 1, &quot;El factorial de 0 hauria de ser 1&quot;)
        XCTAssertEqual(factorial(1), 1, &quot;El factorial de 1 hauria de ser 1&quot;)
        XCTAssertEqual(factorial(5), 120, &quot;El factorial de 5 hauria de ser 120&quot;)
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries són una eina poderosa per assegurar la qualitat del codi. En aquest tema, hem après a configurar un projecte Xcode per a proves unitàries, escriure i executar proves bàsiques, i utilitzar assertions per validar el comportament del codi. També hem vist algunes millors pràctiques per escriure proves unitàries efectives. Amb aquestes habilitats, estaràs millor preparat per desenvolupar aplicacions robustes i fiables.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-using-breakpoints' title="Utilitzant Breakpoints">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-ui-testing' title="Proves d'Interfície d'Usuari">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
