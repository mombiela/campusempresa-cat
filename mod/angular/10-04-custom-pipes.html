<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tubs personalitzats</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular/10-04-custom-pipes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular/10-04-custom-pipes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular/10-04-custom-pipes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/angular/10-04-custom-pipes" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/angular/10-04-custom-pipes" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-03-internationalization' title="Internacionalització (i18n)">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tubs personalitzats</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-05-angular-animations' title="Animacions d'Angular">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Els tubs (pipes) a Angular són una manera senzilla de transformar dades en les plantilles. Angular proporciona diversos tubs integrats, com ara <code>DatePipe</code>, <code>UpperCasePipe</code>, <code>LowerCasePipe</code>, <code>CurrencyPipe</code>, entre d'altres. No obstant això, en moltes situacions, és possible que necessitis crear tubs personalitzats per satisfer necessitats específiques de la teva aplicació.</p>
</div><h1><p>Què és un tub personalitzat?</p>
</h1>
<div class='content'><p>Un tub personalitzat és una classe que implementa la interfície <code>PipeTransform</code> i defineix un mètode <code>transform</code> que conté la lògica de transformació de dades. Els tubs personalitzats es poden utilitzar en plantilles Angular de la mateixa manera que els tubs integrats.</p>
</div><h1><p>Crear un tub personalitzat</p>
</h1>
<div class='content'></div><h2><p>Pas 1: Crear la classe del tub</p>
</h2>
<div class='content'><p>Primer, crea un fitxer nou per al teu tub. Per exemple, <code>custom.pipe.ts</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQFBpcGUoewogIG5hbWU6ICdjdXN0b20nCn0pCmV4cG9ydCBjbGFzcyBDdXN0b21QaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7CiAgdHJhbnNmb3JtKHZhbHVlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55IHsKICAgIC8vIEzDsmdpY2EgZGUgdHJhbnNmb3JtYWNpw7MKICAgIHJldHVybiB2YWx1ZTsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'custom'
})
export class CustomPipe implements PipeTransform {
  transform(value: any, ...args: any[]): any {
    // L&ograve;gica de transformaci&oacute;
    return value;
  }
}</pre></div><div class='content'></div><h2><p>Pas 2: Implementar la lògica de transformació</p>
</h2>
<div class='content'><p>Suposem que volem crear un tub que inverteixi una cadena de text. Implementem la lògica dins del mètode <code>transform</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQFBpcGUoewogIG5hbWU6ICdyZXZlcnNlJwp9KQpleHBvcnQgY2xhc3MgUmV2ZXJzZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHsKICB0cmFuc2Zvcm0odmFsdWU6IHN0cmluZyk6IHN0cmluZyB7CiAgICBpZiAoIXZhbHVlKSByZXR1cm4gJyc7CiAgICByZXR1cm4gdmFsdWUuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'reverse'
})
export class ReversePipe implements PipeTransform {
  transform(value: string): string {
    if (!value) return '';
    return value.split('').reverse().join('');
  }
}</pre></div><div class='content'></div><h2><p>Pas 3: Registrar el tub en un mòdul</p>
</h2>
<div class='content'><p>Per utilitzar el tub en les plantilles, cal registrar-lo en un mòdul. Normalment, es fa en el mòdul principal o en un mòdul compartit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJzsKaW1wb3J0IHsgUmV2ZXJzZVBpcGUgfSBmcm9tICcuL3JldmVyc2UucGlwZSc7CgpATmdNb2R1bGUoewogIGRlY2xhcmF0aW9uczogW1JldmVyc2VQaXBlXSwKICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSwKICBleHBvcnRzOiBbUmV2ZXJzZVBpcGVdCn0pCmV4cG9ydCBjbGFzcyBTaGFyZWRNb2R1bGUgeyB9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReversePipe } from './reverse.pipe';

@NgModule({
  declarations: [ReversePipe],
  imports: [CommonModule],
  exports: [ReversePipe]
})
export class SharedModule { }</pre></div><div class='content'></div><h2><p>Pas 4: Utilitzar el tub en una plantilla</p>
</h2>
<div class='content'><p>Ara pots utilitzar el tub en qualsevol plantilla de la teva aplicació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHA+e3sgJ0hlbGxvIEFuZ3VsYXInIHwgcmV2ZXJzZSB9fTwvcD4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;p&gt;{{ 'Hello Angular' | reverse }}&lt;/p&gt;</pre></div><div class='content'><p>Aquest codi mostrarà: <code>ralugnA olleH</code>.</p>
</div><h1><p>Exercicis pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear un tub per capitalitzar paraules</p>
</h2>
<div class='content'><p>Crea un tub que capitalitzi la primera lletra de cada paraula en una cadena de text.</p>
<h4>Solució</h4>
<ol>
<li>Crea el fitxer <code>capitalize.pipe.ts</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQFBpcGUoewogIG5hbWU6ICdjYXBpdGFsaXplJwp9KQpleHBvcnQgY2xhc3MgQ2FwaXRhbGl6ZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHsKICB0cmFuc2Zvcm0odmFsdWU6IHN0cmluZyk6IHN0cmluZyB7CiAgICBpZiAoIXZhbHVlKSByZXR1cm4gJyc7CiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXGJcdy9nLCBmaXJzdCA9PiBmaXJzdC50b0xvY2FsZVVwcGVyQ2FzZSgpKTsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'capitalize'
})
export class CapitalizePipe implements PipeTransform {
  transform(value: string): string {
    if (!value) return '';
    return value.replace(/\b\w/g, first =&gt; first.toLocaleUpperCase());
  }
}</pre></div><div class='content'><ol start="2">
<li>Registra el tub en un mòdul.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJzsKaW1wb3J0IHsgQ2FwaXRhbGl6ZVBpcGUgfSBmcm9tICcuL2NhcGl0YWxpemUucGlwZSc7CgpATmdNb2R1bGUoewogIGRlY2xhcmF0aW9uczogW0NhcGl0YWxpemVQaXBlXSwKICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSwKICBleHBvcnRzOiBbQ2FwaXRhbGl6ZVBpcGVdCn0pCmV4cG9ydCBjbGFzcyBTaGFyZWRNb2R1bGUgeyB9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { CapitalizePipe } from './capitalize.pipe';

@NgModule({
  declarations: [CapitalizePipe],
  imports: [CommonModule],
  exports: [CapitalizePipe]
})
export class SharedModule { }</pre></div><div class='content'><ol start="3">
<li>Utilitza el tub en una plantilla.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHA+e3sgJ2hlbGxvIGFuZ3VsYXIgd29ybGQnIHwgY2FwaXRhbGl6ZSB9fTwvcD4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;p&gt;{{ 'hello angular world' | capitalize }}&lt;/p&gt;</pre></div><div class='content'><p>Aquest codi mostrarà: <code>Hello Angular World</code>.</p>
</div><h2><p>Exercici 2: Crear un tub per truncar text</p>
</h2>
<div class='content'><p>Crea un tub que truncarà una cadena de text a una longitud específica i afegirà &quot;...&quot; al final si la cadena és més llarga que la longitud especificada.</p>
<h4>Solució</h4>
<ol>
<li>Crea el fitxer <code>truncate.pipe.ts</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQFBpcGUoewogIG5hbWU6ICd0cnVuY2F0ZScKfSkKZXhwb3J0IGNsYXNzIFRydW5jYXRlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0gewogIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMjApOiBzdHJpbmcgewogICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnOwogICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+IGxpbWl0ID8gdmFsdWUuc3Vic3RyaW5nKDAsIGxpbWl0KSArICcuLi4nIDogdmFsdWU7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'truncate'
})
export class TruncatePipe implements PipeTransform {
  transform(value: string, limit: number = 20): string {
    if (!value) return '';
    return value.length &gt; limit ? value.substring(0, limit) + '...' : value;
  }
}</pre></div><div class='content'><ol start="2">
<li>Registra el tub en un mòdul.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJzsKaW1wb3J0IHsgVHJ1bmNhdGVQaXBlIH0gZnJvbSAnLi90cnVuY2F0ZS5waXBlJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbVHJ1bmNhdGVQaXBlXSwKICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSwKICBleHBvcnRzOiBbVHJ1bmNhdGVQaXBlXQp9KQpleHBvcnQgY2xhc3MgU2hhcmVkTW9kdWxlIHsgfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TruncatePipe } from './truncate.pipe';

@NgModule({
  declarations: [TruncatePipe],
  imports: [CommonModule],
  exports: [TruncatePipe]
})
export class SharedModule { }</pre></div><div class='content'><ol start="3">
<li>Utilitza el tub en una plantilla.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHA+e3sgJ1RoaXMgaXMgYSB2ZXJ5IGxvbmcgdGV4dCB0aGF0IG5lZWRzIHRvIGJlIHRydW5jYXRlZCcgfCB0cnVuY2F0ZToyNSB9fTwvcD4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;p&gt;{{ 'This is a very long text that needs to be truncated' | truncate:25 }}&lt;/p&gt;</pre></div><div class='content'><p>Aquest codi mostrarà: <code>This is a very long text...</code>.</p>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après a crear tubs personalitzats a Angular. Hem vist com implementar la interfície <code>PipeTransform</code>, com registrar el tub en un mòdul i com utilitzar-lo en una plantilla. També hem practicat amb alguns exercicis per reforçar els conceptes apresos. Els tubs personalitzats són una eina poderosa per transformar dades de manera senzilla i reutilitzable en les nostres aplicacions Angular.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-03-internationalization' title="Internacionalització (i18n)">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-05-angular-animations' title="Animacions d'Angular">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
