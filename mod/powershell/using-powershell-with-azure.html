<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utilitzant PowerShell amb Azure</title>

    <link rel="alternate" href="https://campusempresa.com/mod/powershell/using-powershell-with-azure" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/powershell/using-powershell-with-azure" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/powershell/using-powershell-with-azure" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/powershell/using-powershell-with-azure" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/powershell/using-powershell-with-azure" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-devops'>&#x25C4;Introducció a DevOps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Utilitzant PowerShell amb Azure</a>
	</div>
	<div class='col-4 text-end'>
					<a href='powershell-and-cicd'>PowerShell i Integració/Desplegament Continu (CI/CD) &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a Azure PowerShell</h1>
<div class='content'><p>Azure PowerShell és un conjunt de cmdlets dissenyats per gestionar recursos d'Azure directament des de la línia de comandes de PowerShell. Aquesta secció cobrirà els conceptes bàsics d'Azure PowerShell i com començar.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Cmdlets</strong>: Comandes especialitzades en l'entorn PowerShell.</li>
<li><strong>Azure Resource Manager (ARM)</strong>: El servei de desplegament i gestió per a Azure.</li>
<li><strong>Mòduls</strong>: Paquets que contenen cmdlets, proveïdors, funcions, fluxos de treball, variables i àlies.</li>
</ul>
</div><h2>Instal·lant Azure PowerShell</h2>
<div class='content'><p>Per utilitzar Azure PowerShell, necessites instal·lar el mòdul <code>Az</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWzCt2xhciBlbCBtw7JkdWwgQXoKSW5zdGFsbC1Nb2R1bGUgLU5hbWUgQXogLUFsbG93Q2xvYmJlciAtU2NvcGUgQ3VycmVudFVzZXI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instal&middot;lar el m&ograve;dul Az
Install-Module -Name Az -AllowClobber -Scope CurrentUser</pre></div><div class='content'></div><h2>Autenticant-se amb Azure</h2>
<div class='content'><p>Abans de gestionar recursos d'Azure, necessites autenticar-te.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbmljaWFyIHNlc3Npw7MgYWwgdGV1IGNvbXB0ZSBkJ0F6dXJlCkNvbm5lY3QtQXpBY2NvdW50"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Iniciar sessi&oacute; al teu compte d'Azure
Connect-AzAccount</pre></div><div class='content'></div><h1>Gestionant Recursos d'Azure</h1>
<div class='content'><p>Aquesta secció cobrirà com gestionar diversos recursos d'Azure utilitzant PowerShell.</p>
</div><h2>Creant un Grup de Recursos</h2>
<div class='content'><p>Els grups de recursos són contenidors que mantenen recursos relacionats per a una solució d'Azure.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1biBub3UgZ3J1cCBkZSByZWN1cnNvcwpOZXctQXpSZXNvdXJjZUdyb3VwIC1OYW1lICJNeVJlc291cmNlR3JvdXAiIC1Mb2NhdGlvbiAiRWFzdFVTIg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear un nou grup de recursos
New-AzResourceGroup -Name &quot;MyResourceGroup&quot; -Location &quot;EastUS&quot;</pre></div><div class='content'></div><h2>Creant una Màquina Virtual</h2>
<div class='content'><p>Les màquines virtuals (VMs) són un dels recursos més comuns a Azure.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1bmEgbm92YSBtw6BxdWluYSB2aXJ0dWFsCk5ldy1BelZNIC1SZXNvdXJjZUdyb3VwTmFtZSAiTXlSZXNvdXJjZUdyb3VwIiAtTmFtZSAiTXlWTSIgLUxvY2F0aW9uICJFYXN0VVMiIC1WaXJ0dWFsTmV0d29ya05hbWUgIk15Vk5ldCIgLVN1Ym5ldE5hbWUgIk15U3VibmV0IiAtU2VjdXJpdHlHcm91cE5hbWUgIk15TlNHIiAtUHVibGljSXBBZGRyZXNzTmFtZSAiTXlQdWJsaWNJUCIgLU9wZW5Qb3J0cyA4MCwzMzg5"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear una nova m&agrave;quina virtual
New-AzVM -ResourceGroupName &quot;MyResourceGroup&quot; -Name &quot;MyVM&quot; -Location &quot;EastUS&quot; -VirtualNetworkName &quot;MyVNet&quot; -SubnetName &quot;MySubnet&quot; -SecurityGroupName &quot;MyNSG&quot; -PublicIpAddressName &quot;MyPublicIP&quot; -OpenPorts 80,3389</pre></div><div class='content'></div><h2>Gestionant Comptes d'Emmagatzematge</h2>
<div class='content'><p>Els comptes d'emmagatzematge proporcionen un espai de noms únic per emmagatzemar i accedir a objectes de dades d'Azure Storage.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1biBub3UgY29tcHRlIGQnZW1tYWdhdHplbWF0Z2UKTmV3LUF6U3RvcmFnZUFjY291bnQgLVJlc291cmNlR3JvdXBOYW1lICJNeVJlc291cmNlR3JvdXAiIC1OYW1lICJteXN0b3JhZ2VhY2NvdW50IiAtTG9jYXRpb24gIkVhc3RVUyIgLVNrdU5hbWUgIlN0YW5kYXJkX0xSUyI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear un nou compte d'emmagatzematge
New-AzStorageAccount -ResourceGroupName &quot;MyResourceGroup&quot; -Name &quot;mystorageaccount&quot; -Location &quot;EastUS&quot; -SkuName &quot;Standard_LRS&quot;</pre></div><div class='content'></div><h1>Azure PowerShell Avançat</h1>
<div class='content'><p>Aquesta secció cobrirà temes més avançats i millors pràctiques per utilitzar Azure PowerShell.</p>
</div><h2>Automatitzant Tasques amb Scripts</h2>
<div class='content'><p>Automatitza tasques repetitives escrivint scripts de PowerShell.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQnc2NyaXB0IHBlciBhdXRvbWF0aXR6YXIgbGEgY3JlYWNpw7MgZGUgVk1zCiRyZXNvdXJjZUdyb3VwTmFtZSA9ICJNeVJlc291cmNlR3JvdXAiCiRsb2NhdGlvbiA9ICJFYXN0VVMiCiR2bU5hbWUgPSAiTXlWTSIKCk5ldy1BelJlc291cmNlR3JvdXAgLU5hbWUgJHJlc291cmNlR3JvdXBOYW1lIC1Mb2NhdGlvbiAkbG9jYXRpb24KTmV3LUF6Vk0gLVJlc291cmNlR3JvdXBOYW1lICRyZXNvdXJjZUdyb3VwTmFtZSAtTmFtZSAkdm1OYW1lIC1Mb2NhdGlvbiAkbG9jYXRpb24gLVZpcnR1YWxOZXR3b3JrTmFtZSAiTXlWTmV0IiAtU3VibmV0TmFtZSAiTXlTdWJuZXQiIC1TZWN1cml0eUdyb3VwTmFtZSAiTXlOU0ciIC1QdWJsaWNJcEFkZHJlc3NOYW1lICJNeVB1YmxpY0lQIiAtT3BlblBvcnRzIDgwLDMzODk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'script per automatitzar la creaci&oacute; de VMs
$resourceGroupName = &quot;MyResourceGroup&quot;
$location = &quot;EastUS&quot;
$vmName = &quot;MyVM&quot;

New-AzResourceGroup -Name $resourceGroupName -Location $location
New-AzVM -ResourceGroupName $resourceGroupName -Name $vmName -Location $location -VirtualNetworkName &quot;MyVNet&quot; -SubnetName &quot;MySubnet&quot; -SecurityGroupName &quot;MyNSG&quot; -PublicIpAddressName &quot;MyPublicIP&quot; -OpenPorts 80,3389</pre></div><div class='content'></div><h2>Utilitzant Azure PowerShell amb Pipelines CI/CD</h2>
<div class='content'><p>Integra scripts d'Azure PowerShell en pipelines CI/CD per a desplegaments automatitzats.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIHNjcmlwdCBkZSBwaXBlbGluZSBkJ0F6dXJlIERldk9wcwp0cmlnZ2VyOgotIG1haW4KCnBvb2w6CiAgdm1JbWFnZTogJ3dpbmRvd3MtbGF0ZXN0JwoKc3RlcHM6Ci0gdGFzazogVXNlRG90TmV0QDIKICBpbnB1dHM6CiAgICBwYWNrYWdlVHlwZTogJ3NkaycKICAgIHZlcnNpb246ICc1LngnCiAgICBpbnN0YWxsYXRpb25QYXRoOiAkKEFnZW50LlRvb2xzRGlyZWN0b3J5KS9kb3RuZXQKCi0gcG93ZXJzaGVsbDogfAogICAgSW5zdGFsbC1Nb2R1bGUgLU5hbWUgQXogLUFsbG93Q2xvYmJlciAtU2NvcGUgQ3VycmVudFVzZXIKICAgIENvbm5lY3QtQXpBY2NvdW50IC1TZXJ2aWNlUHJpbmNpcGFsIC1UZW5hbnQgJGVudjp0ZW5hbnRJZCAtQ3JlZGVudGlhbCAoTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgkZW52OnNlcnZpY2VQcmluY2lwYWxJZCwgKENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJGVudjpzZXJ2aWNlUHJpbmNpcGFsS2V5IC1Bc1BsYWluVGV4dCAtRm9yY2UpKSkKICAgIE5ldy1BelJlc291cmNlR3JvdXAgLU5hbWUgIk15UmVzb3VyY2VHcm91cCIgLUxvY2F0aW9uICJFYXN0VVMiCiAgZW52OgogICAgdGVuYW50SWQ6ICQodGVuYW50SWQpCiAgICBzZXJ2aWNlUHJpbmNpcGFsSWQ6ICQoc2VydmljZVByaW5jaXBhbElkKQogICAgc2VydmljZVByaW5jaXBhbEtleTogJChzZXJ2aWNlUHJpbmNpcGFsS2V5KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de script de pipeline d'Azure DevOps
trigger:
- main

pool:
  vmImage: 'windows-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '5.x'
    installationPath: $(Agent.ToolsDirectory)/dotnet

- powershell: |
    Install-Module -Name Az -AllowClobber -Scope CurrentUser
    Connect-AzAccount -ServicePrincipal -Tenant $env:tenantId -Credential (New-Object System.Management.Automation.PSCredential($env:servicePrincipalId, (ConvertTo-SecureString $env:servicePrincipalKey -AsPlainText -Force)))
    New-AzResourceGroup -Name &quot;MyResourceGroup&quot; -Location &quot;EastUS&quot;
  env:
    tenantId: $(tenantId)
    servicePrincipalId: $(servicePrincipalId)
    servicePrincipalKey: $(servicePrincipalKey)</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>En aquest tema, hem cobert els conceptes bàsics d'utilitzar PowerShell amb Azure, incloent:</p>
<ul>
<li>Instal·lar i autenticar-se amb Azure PowerShell.</li>
<li>Gestionar recursos d'Azure com grups de recursos, màquines virtuals i comptes d'emmagatzematge.</li>
<li>Automatitzar tasques amb scripts de PowerShell.</li>
<li>Integrar Azure PowerShell en pipelines CI/CD.</li>
</ul>
<p>Dominant aquestes habilitats, podràs gestionar i automatitzar eficientment els teus recursos d'Azure utilitzant PowerShell.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-devops'>&#x25C4;Introducció a DevOps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Utilitzant PowerShell amb Azure</a>
	</div>
	<div class='col-4 text-end'>
					<a href='powershell-and-cicd'>PowerShell i Integració/Desplegament Continu (CI/CD) &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
