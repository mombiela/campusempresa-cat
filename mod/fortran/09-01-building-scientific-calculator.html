<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Construint una Calculadora Científica</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fortran/09-01-building-scientific-calculator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fortran/09-01-building-scientific-calculator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fortran/09-01-building-scientific-calculator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/fortran/09-01-building-scientific-calculator" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/fortran/09-01-building-scientific-calculator" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Construint la societat d'avui i del demà</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Eines</a>
				 					<a href="/categ/foundations">Fonaments</a>
				 					<a href="/categ/soft-skills">Competències</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-fortran-standards-portability' title="Estàndards i Portabilitat de Fortran">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Construint una Calculadora Científica</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-numerical-methods-fortran' title="Mètodes Numèrics en Fortran">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, construirem una calculadora científica utilitzant Fortran. Aquest projecte ens permetrà aplicar molts dels conceptes apresos al llarg del curs, com ara l'ús de variables, operadors, estructures de control, subrutines i funcions. La calculadora serà capaç de realitzar operacions matemàtiques bàsiques i algunes funcions científiques.</p>
</div><h1><p>Objectius</p>
</h1>
<div class='content'><ul>
<li>Aplicar els conceptes bàsics de Fortran en un projecte pràctic.</li>
<li>Desenvolupar habilitats en la gestió d'entrada i sortida.</li>
<li>Utilitzar subrutines i funcions per modularitzar el codi.</li>
<li>Implementar operacions matemàtiques i funcions científiques.</li>
</ul>
</div><h1><p>Estructura del Projecte</p>
</h1>
<div class='content'><ol>
<li><strong>Introducció i Configuració</strong></li>
<li><strong>Definició de Funcions Matemàtiques</strong></li>
<li><strong>Implementació de l'Entrada i Sortida</strong></li>
<li><strong>Estructura de Control per a la Selecció d'Operacions</strong></li>
<li><strong>Integració i Proves</strong></li>
</ol>
</div><h1><ol>
<li>Introducció i Configuració</li>
</ol>
</h1>
<div class='content'></div><h2><p>1.1. Introducció</p>
</h2>
<div class='content'><p>Comencem per crear un nou fitxer Fortran per al nostre projecte. Anomenem-lo <code>calculator.f90</code>.</p>
</div><h2><p>1.2. Configuració</p>
</h2>
<div class='content'><p>Assegura't de tenir el teu entorn de desenvolupament configurat correctament. Si no ho has fet, revisa el mòdul &quot;Configuració de l'Entorn de Desenvolupament&quot;.</p>
</div><h1><ol start="2">
<li>Definició de Funcions Matemàtiques</li>
</ol>
</h1>
<div class='content'></div><h2><p>2.1. Operacions Bàsiques</p>
</h2>
<div class='content'><p>Definim funcions per a les operacions matemàtiques bàsiques: suma, resta, multiplicació i divisió.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ISBGdW5jacOzIHBlciBzdW1hciBkb3Mgbm9tYnJlcwpmdW5jdGlvbiBhZGQoYSwgYikKICAgIHJlYWwgOjogYWRkCiAgICByZWFsLCBpbnRlbnQoaW4pIDo6IGEsIGIKICAgIGFkZCA9IGEgKyBiCmVuZCBmdW5jdGlvbiBhZGQKCiEgRnVuY2nDsyBwZXIgcmVzdGFyIGRvcyBub21icmVzCmZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIpCiAgICByZWFsIDo6IHN1YnRyYWN0CiAgICByZWFsLCBpbnRlbnQoaW4pIDo6IGEsIGIKICAgIHN1YnRyYWN0ID0gYSAtIGIKZW5kIGZ1bmN0aW9uIHN1YnRyYWN0CgohIEZ1bmNpw7MgcGVyIG11bHRpcGxpY2FyIGRvcyBub21icmVzCmZ1bmN0aW9uIG11bHRpcGx5KGEsIGIpCiAgICByZWFsIDo6IG11bHRpcGx5CiAgICByZWFsLCBpbnRlbnQoaW4pIDo6IGEsIGIKICAgIG11bHRpcGx5ID0gYSAqIGIKZW5kIGZ1bmN0aW9uIG11bHRpcGx5CgohIEZ1bmNpw7MgcGVyIGRpdmlkaXIgZG9zIG5vbWJyZXMKZnVuY3Rpb24gZGl2aWRlKGEsIGIpCiAgICByZWFsIDo6IGRpdmlkZQogICAgcmVhbCwgaW50ZW50KGluKSA6OiBhLCBiCiAgICBpZiAoYiAvPSAwLjApIHRoZW4KICAgICAgICBkaXZpZGUgPSBhIC8gYgogICAgZWxzZQogICAgICAgIHByaW50ICosICJFcnJvcjogRGl2aXNpw7MgcGVyIHplcm8iCiAgICAgICAgZGl2aWRlID0gMC4wCiAgICBlbmQgaWYKZW5kIGZ1bmN0aW9uIGRpdmlkZQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>! Funci&oacute; per sumar dos nombres
function add(a, b)
    real :: add
    real, intent(in) :: a, b
    add = a + b
end function add

! Funci&oacute; per restar dos nombres
function subtract(a, b)
    real :: subtract
    real, intent(in) :: a, b
    subtract = a - b
end function subtract

! Funci&oacute; per multiplicar dos nombres
function multiply(a, b)
    real :: multiply
    real, intent(in) :: a, b
    multiply = a * b
end function multiply

! Funci&oacute; per dividir dos nombres
function divide(a, b)
    real :: divide
    real, intent(in) :: a, b
    if (b /= 0.0) then
        divide = a / b
    else
        print *, &quot;Error: Divisi&oacute; per zero&quot;
        divide = 0.0
    end if
end function divide</pre></div><div class='content'></div><h2><p>2.2. Funcions Científiques</p>
</h2>
<div class='content'><p>Afegim funcions per a operacions científiques com ara el càlcul de la potència, arrel quadrada i logaritme.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ISBGdW5jacOzIHBlciBjYWxjdWxhciBsYSBwb3TDqG5jaWEKZnVuY3Rpb24gcG93ZXIoYmFzZSwgZXhwb25lbnQpCiAgICByZWFsIDo6IHBvd2VyCiAgICByZWFsLCBpbnRlbnQoaW4pIDo6IGJhc2UsIGV4cG9uZW50CiAgICBwb3dlciA9IGJhc2UgKiogZXhwb25lbnQKZW5kIGZ1bmN0aW9uIHBvd2VyCgohIEZ1bmNpw7MgcGVyIGNhbGN1bGFyIGwnYXJyZWwgcXVhZHJhZGEKZnVuY3Rpb24gc3F1YXJlX3Jvb3QoeCkKICAgIHJlYWwgOjogc3F1YXJlX3Jvb3QKICAgIHJlYWwsIGludGVudChpbikgOjogeAogICAgaWYgKHggPj0gMC4wKSB0aGVuCiAgICAgICAgc3F1YXJlX3Jvb3QgPSBzcXJ0KHgpCiAgICBlbHNlCiAgICAgICAgcHJpbnQgKiwgIkVycm9yOiBBcnJlbCBxdWFkcmFkYSBkZSBub21icmUgbmVnYXRpdSIKICAgICAgICBzcXVhcmVfcm9vdCA9IDAuMAogICAgZW5kIGlmCmVuZCBmdW5jdGlvbiBzcXVhcmVfcm9vdAoKISBGdW5jacOzIHBlciBjYWxjdWxhciBlbCBsb2dhcml0bWUgbmF0dXJhbApmdW5jdGlvbiBuYXR1cmFsX2xvZyh4KQogICAgcmVhbCA6OiBuYXR1cmFsX2xvZwogICAgcmVhbCwgaW50ZW50KGluKSA6OiB4CiAgICBpZiAoeCA+IDAuMCkgdGhlbgogICAgICAgIG5hdHVyYWxfbG9nID0gbG9nKHgpCiAgICBlbHNlCiAgICAgICAgcHJpbnQgKiwgIkVycm9yOiBMb2dhcml0bWUgZGUgbm9tYnJlIG5vIHBvc2l0aXUiCiAgICAgICAgbmF0dXJhbF9sb2cgPSAwLjAKICAgIGVuZCBpZgplbmQgZnVuY3Rpb24gbmF0dXJhbF9sb2c="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>! Funci&oacute; per calcular la pot&egrave;ncia
function power(base, exponent)
    real :: power
    real, intent(in) :: base, exponent
    power = base ** exponent
end function power

! Funci&oacute; per calcular l'arrel quadrada
function square_root(x)
    real :: square_root
    real, intent(in) :: x
    if (x &gt;= 0.0) then
        square_root = sqrt(x)
    else
        print *, &quot;Error: Arrel quadrada de nombre negatiu&quot;
        square_root = 0.0
    end if
end function square_root

! Funci&oacute; per calcular el logaritme natural
function natural_log(x)
    real :: natural_log
    real, intent(in) :: x
    if (x &gt; 0.0) then
        natural_log = log(x)
    else
        print *, &quot;Error: Logaritme de nombre no positiu&quot;
        natural_log = 0.0
    end if
end function natural_log</pre></div><div class='content'></div><h1><ol start="3">
<li>Implementació de l'Entrada i Sortida</li>
</ol>
</h1>
<div class='content'></div><h2><p>3.1. Entrada de l'Usuari</p>
</h2>
<div class='content'><p>Implementem una subrutina per gestionar l'entrada de l'usuari.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3Vicm91dGluZSBnZXRfdXNlcl9pbnB1dChvcGVyYXRpb24sIGEsIGIpCiAgICBjaGFyYWN0ZXIobGVuPTEpIDo6IG9wZXJhdGlvbgogICAgcmVhbCA6OiBhLCBiCgogICAgcHJpbnQgKiwgIlNlbGVjY2lvbmEgdW5hIG9wZXJhY2nDsyAoKywgLSwgKiwgLywgXiwgciwgbCk6IgogICAgcmVhZCAqLCBvcGVyYXRpb24KICAgIHByaW50ICosICJJbnRyb2R1ZWl4IGVsIHByaW1lciBub21icmU6IgogICAgcmVhZCAqLCBhCiAgICBpZiAob3BlcmF0aW9uIC89ICdyJyAuYW5kLiBvcGVyYXRpb24gLz0gJ2wnKSB0aGVuCiAgICAgICAgcHJpbnQgKiwgIkludHJvZHVlaXggZWwgc2Vnb24gbm9tYnJlOiIKICAgICAgICByZWFkICosIGIKICAgIGVuZCBpZgplbmQgc3Vicm91dGluZSBnZXRfdXNlcl9pbnB1dA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>subroutine get_user_input(operation, a, b)
    character(len=1) :: operation
    real :: a, b

    print *, &quot;Selecciona una operaci&oacute; (+, -, *, /, ^, r, l):&quot;
    read *, operation
    print *, &quot;Introdueix el primer nombre:&quot;
    read *, a
    if (operation /= 'r' .and. operation /= 'l') then
        print *, &quot;Introdueix el segon nombre:&quot;
        read *, b
    end if
end subroutine get_user_input</pre></div><div class='content'></div><h2><p>3.2. Sortida de Resultats</p>
</h2>
<div class='content'><p>Implementem una subrutina per mostrar els resultats.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3Vicm91dGluZSBkaXNwbGF5X3Jlc3VsdChyZXN1bHQpCiAgICByZWFsLCBpbnRlbnQoaW4pIDo6IHJlc3VsdAogICAgcHJpbnQgKiwgIkVsIHJlc3VsdGF0IMOpczogIiwgcmVzdWx0CmVuZCBzdWJyb3V0aW5lIGRpc3BsYXlfcmVzdWx0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>subroutine display_result(result)
    real, intent(in) :: result
    print *, &quot;El resultat &eacute;s: &quot;, result
end subroutine display_result</pre></div><div class='content'></div><h1><ol start="4">
<li>Estructura de Control per a la Selecció d'Operacions</li>
</ol>
</h1>
<div class='content'></div><h2><p>4.1. Selecció d'Operació</p>
</h2>
<div class='content'><p>Utilitzem una estructura de control <code>select case</code> per determinar quina operació realitzar.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBzY2llbnRpZmljX2NhbGN1bGF0b3IKICAgIGltcGxpY2l0IG5vbmUKICAgIGNoYXJhY3RlcihsZW49MSkgOjogb3BlcmF0aW9uCiAgICByZWFsIDo6IGEsIGIsIHJlc3VsdAoKICAgIGNhbGwgZ2V0X3VzZXJfaW5wdXQob3BlcmF0aW9uLCBhLCBiKQoKICAgIHNlbGVjdCBjYXNlIChvcGVyYXRpb24pCiAgICAgICAgY2FzZSAoJysnKQogICAgICAgICAgICByZXN1bHQgPSBhZGQoYSwgYikKICAgICAgICBjYXNlICgnLScpCiAgICAgICAgICAgIHJlc3VsdCA9IHN1YnRyYWN0KGEsIGIpCiAgICAgICAgY2FzZSAoJyonKQogICAgICAgICAgICByZXN1bHQgPSBtdWx0aXBseShhLCBiKQogICAgICAgIGNhc2UgKCcvJykKICAgICAgICAgICAgcmVzdWx0ID0gZGl2aWRlKGEsIGIpCiAgICAgICAgY2FzZSAoJ14nKQogICAgICAgICAgICByZXN1bHQgPSBwb3dlcihhLCBiKQogICAgICAgIGNhc2UgKCdyJykKICAgICAgICAgICAgcmVzdWx0ID0gc3F1YXJlX3Jvb3QoYSkKICAgICAgICBjYXNlICgnbCcpCiAgICAgICAgICAgIHJlc3VsdCA9IG5hdHVyYWxfbG9nKGEpCiAgICAgICAgY2FzZSBkZWZhdWx0CiAgICAgICAgICAgIHByaW50ICosICJPcGVyYWNpw7Mgbm8gdsOgbGlkYSIKICAgICAgICAgICAgcmVzdWx0ID0gMC4wCiAgICBlbmQgc2VsZWN0CgogICAgY2FsbCBkaXNwbGF5X3Jlc3VsdChyZXN1bHQpCmVuZCBwcm9ncmFtIHNjaWVudGlmaWNfY2FsY3VsYXRvcg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program scientific_calculator
    implicit none
    character(len=1) :: operation
    real :: a, b, result

    call get_user_input(operation, a, b)

    select case (operation)
        case ('+')
            result = add(a, b)
        case ('-')
            result = subtract(a, b)
        case ('*')
            result = multiply(a, b)
        case ('/')
            result = divide(a, b)
        case ('^')
            result = power(a, b)
        case ('r')
            result = square_root(a)
        case ('l')
            result = natural_log(a)
        case default
            print *, &quot;Operaci&oacute; no v&agrave;lida&quot;
            result = 0.0
    end select

    call display_result(result)
end program scientific_calculator</pre></div><div class='content'></div><h1><ol start="5">
<li>Integració i Proves</li>
</ol>
</h1>
<div class='content'></div><h2><p>5.1. Integració</p>
</h2>
<div class='content'><p>Combina totes les funcions i subrutines en un únic fitxer <code>calculator.f90</code>.</p>
</div><h2><p>5.2. Proves</p>
</h2>
<div class='content'><p>Executa el programa i prova diferents operacions per assegurar-te que tot funciona correctament.</p>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquest tema, hem construït una calculadora científica utilitzant Fortran. Hem aplicat conceptes bàsics i avançats, com ara l'ús de funcions, subrutines, estructures de control i gestió d'entrada i sortida. Aquest projecte ens ha permès veure com es poden combinar diferents elements de Fortran per crear una aplicació útil i funcional.</p>
</div><h2><p>Exercici Pràctic</p>
</h2>
<div class='content'><p><strong>Exercici:</strong> Afegeix una nova funció a la calculadora per calcular el factorial d'un nombre. Implementa la funció <code>factorial</code> i actualitza el programa principal per incloure aquesta nova operació.</p>
<p><strong>Solució:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ISBGdW5jacOzIHBlciBjYWxjdWxhciBlbCBmYWN0b3JpYWwKZnVuY3Rpb24gZmFjdG9yaWFsKG4pCiAgICBpbnRlZ2VyIDo6IGZhY3RvcmlhbCwgbiwgaQogICAgZmFjdG9yaWFsID0gMQogICAgaWYgKG4gPCAwKSB0aGVuCiAgICAgICAgcHJpbnQgKiwgIkVycm9yOiBGYWN0b3JpYWwgZGUgbm9tYnJlIG5lZ2F0aXUiCiAgICAgICAgZmFjdG9yaWFsID0gMAogICAgZWxzZQogICAgICAgIGRvIGkgPSAxLCBuCiAgICAgICAgICAgIGZhY3RvcmlhbCA9IGZhY3RvcmlhbCAqIGkKICAgICAgICBlbmQgZG8KICAgIGVuZCBpZgplbmQgZnVuY3Rpb24gZmFjdG9yaWFsCgohIEFjdHVhbGl0emFjacOzIGRlbCBwcm9ncmFtYSBwcmluY2lwYWwKcHJvZ3JhbSBzY2llbnRpZmljX2NhbGN1bGF0b3IKICAgIGltcGxpY2l0IG5vbmUKICAgIGNoYXJhY3RlcihsZW49MSkgOjogb3BlcmF0aW9uCiAgICByZWFsIDo6IGEsIGIsIHJlc3VsdAogICAgaW50ZWdlciA6OiBuCgogICAgY2FsbCBnZXRfdXNlcl9pbnB1dChvcGVyYXRpb24sIGEsIGIpCgogICAgc2VsZWN0IGNhc2UgKG9wZXJhdGlvbikKICAgICAgICBjYXNlICgnKycpCiAgICAgICAgICAgIHJlc3VsdCA9IGFkZChhLCBiKQogICAgICAgIGNhc2UgKCctJykKICAgICAgICAgICAgcmVzdWx0ID0gc3VidHJhY3QoYSwgYikKICAgICAgICBjYXNlICgnKicpCiAgICAgICAgICAgIHJlc3VsdCA9IG11bHRpcGx5KGEsIGIpCiAgICAgICAgY2FzZSAoJy8nKQogICAgICAgICAgICByZXN1bHQgPSBkaXZpZGUoYSwgYikKICAgICAgICBjYXNlICgnXicpCiAgICAgICAgICAgIHJlc3VsdCA9IHBvd2VyKGEsIGIpCiAgICAgICAgY2FzZSAoJ3InKQogICAgICAgICAgICByZXN1bHQgPSBzcXVhcmVfcm9vdChhKQogICAgICAgIGNhc2UgKCdsJykKICAgICAgICAgICAgcmVzdWx0ID0gbmF0dXJhbF9sb2coYSkKICAgICAgICBjYXNlICgnIScpCiAgICAgICAgICAgIHByaW50ICosICJJbnRyb2R1ZWl4IHVuIG5vbWJyZSBlbnRlcjoiCiAgICAgICAgICAgIHJlYWQgKiwgbgogICAgICAgICAgICByZXN1bHQgPSBmYWN0b3JpYWwobikKICAgICAgICBjYXNlIGRlZmF1bHQKICAgICAgICAgICAgcHJpbnQgKiwgIk9wZXJhY2nDsyBubyB2w6BsaWRhIgogICAgICAgICAgICByZXN1bHQgPSAwLjAKICAgIGVuZCBzZWxlY3QKCiAgICBjYWxsIGRpc3BsYXlfcmVzdWx0KHJlc3VsdCkKZW5kIHByb2dyYW0gc2NpZW50aWZpY19jYWxjdWxhdG9y"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>! Funci&oacute; per calcular el factorial
function factorial(n)
    integer :: factorial, n, i
    factorial = 1
    if (n &lt; 0) then
        print *, &quot;Error: Factorial de nombre negatiu&quot;
        factorial = 0
    else
        do i = 1, n
            factorial = factorial * i
        end do
    end if
end function factorial

! Actualitzaci&oacute; del programa principal
program scientific_calculator
    implicit none
    character(len=1) :: operation
    real :: a, b, result
    integer :: n

    call get_user_input(operation, a, b)

    select case (operation)
        case ('+')
            result = add(a, b)
        case ('-')
            result = subtract(a, b)
        case ('*')
            result = multiply(a, b)
        case ('/')
            result = divide(a, b)
        case ('^')
            result = power(a, b)
        case ('r')
            result = square_root(a)
        case ('l')
            result = natural_log(a)
        case ('!')
            print *, &quot;Introdueix un nombre enter:&quot;
            read *, n
            result = factorial(n)
        case default
            print *, &quot;Operaci&oacute; no v&agrave;lida&quot;
            result = 0.0
    end select

    call display_result(result)
end program scientific_calculator</pre></div><div class='content'><p>Amb aquesta ampliació, la calculadora ara també pot calcular el factorial d'un nombre enter. Prova aquesta nova funcionalitat per assegurar-te que funciona correctament.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-fortran-standards-portability' title="Estàndards i Portabilitat de Fortran">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-numerical-methods-fortran' title="Mètodes Numèrics en Fortran">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
