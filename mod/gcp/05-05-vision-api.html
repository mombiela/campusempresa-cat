<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>API de visió</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/05-05-vision-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/05-05-vision-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/05-05-vision-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/gcp/05-05-vision-api" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/gcp/05-05-vision-api" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-natural-language-api' title="API de llenguatge natural">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">API de visió</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-cloud-build' title="Cloud Build">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>L'API de visió de Google Cloud Platform (GCP) proporciona eines potents per analitzar imatges i extreure informació útil. Aquesta API permet als desenvolupadors integrar fàcilment capacitats de visió per ordinador en les seves aplicacions, com ara el reconeixement d'objectes, la detecció de cares, la lectura de text (OCR) i molt més.</p>
</div><h1>Objectius d'aprenentatge</h1>
<div class='content'><p>En aquest tema, aprendràs a:</p>
<ol>
<li>Comprendre les capacitats de l'API de visió.</li>
<li>Configurar l'API de visió al teu projecte de GCP.</li>
<li>Utilitzar l'API per analitzar imatges.</li>
<li>Implementar exemples pràctics d'ús de l'API de visió.</li>
</ol>
</div><h1>Capacitats de l'API de visió</h1>
<div class='content'><p>L'API de visió ofereix diverses funcionalitats clau:</p>
<ul>
<li><strong>Detecció d'etiquetes</strong>: Identifica objectes, llocs, activitats i molt més dins d'una imatge.</li>
<li><strong>Detecció de cares</strong>: Localitza i analitza cares humanes en una imatge.</li>
<li><strong>Reconèixer text (OCR)</strong>: Extreu text de les imatges.</li>
<li><strong>Detecció de punts de referència</strong>: Identifica llocs famosos i punts de referència.</li>
<li><strong>Classificació d'imatges</strong>: Classifica imatges en categories predefinides.</li>
<li><strong>Detecció de logotips</strong>: Identifica logotips de marques dins d'una imatge.</li>
</ul>
</div><h1>Configuració de l'API de visió</h1>
<div class='content'></div><h2>Pas 1: Crear un projecte a GCP</h2>
<div class='content'><ol>
<li>Accedeix a la <a href="https://console.cloud.google.com/">Consola de Google Cloud</a>.</li>
<li>Crea un nou projecte o selecciona un projecte existent.</li>
</ol>
</div><h2>Pas 2: Activar l'API de visió</h2>
<div class='content'><ol>
<li>A la consola de GCP, ves a &quot;API &amp; Services&quot; &gt; &quot;Library&quot;.</li>
<li>Cerca &quot;Vision API&quot; i fes clic a &quot;Enable&quot;.</li>
</ol>
</div><h2>Pas 3: Configurar les credencials</h2>
<div class='content'><ol>
<li>Ves a &quot;API &amp; Services&quot; &gt; &quot;Credentials&quot;.</li>
<li>Crea una nova clau d'API o utilitza una clau existent.</li>
<li>Desa la clau d'API en un lloc segur, ja que la necessitaràs per fer sol·licituds a l'API.</li>
</ol>
</div><h1>Utilitzar l'API de visió</h1>
<div class='content'></div><h2>Exemple pràctic: Detecció d'etiquetes</h2>
<div class='content'><p>A continuació, es mostra un exemple de com utilitzar l'API de visió per detectar etiquetes en una imatge utilitzant Python.</p>
<h4>Instal·lació de la biblioteca client de Google Cloud</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgZ29vZ2xlLWNsb3VkLXZpc2lvbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install google-cloud-vision</pre></div><div class='content'><h4>Codi d'exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IHZpc2lvbgppbXBvcnQgaW8KCmRlZiBkZXRlY3RfbGFiZWxzKHBhdGgpOgogICAgIiIiRGV0ZWN0YSBldGlxdWV0ZXMgZW4gdW5hIGltYXRnZS4iIiIKICAgIGNsaWVudCA9IHZpc2lvbi5JbWFnZUFubm90YXRvckNsaWVudCgpCgogICAgd2l0aCBpby5vcGVuKHBhdGgsICdyYicpIGFzIGltYWdlX2ZpbGU6CiAgICAgICAgY29udGVudCA9IGltYWdlX2ZpbGUucmVhZCgpCgogICAgaW1hZ2UgPSB2aXNpb24uSW1hZ2UoY29udGVudD1jb250ZW50KQogICAgcmVzcG9uc2UgPSBjbGllbnQubGFiZWxfZGV0ZWN0aW9uKGltYWdlPWltYWdlKQogICAgbGFiZWxzID0gcmVzcG9uc2UubGFiZWxfYW5ub3RhdGlvbnMKCiAgICBwcmludCgnRXRpcXVldGVzIGRldGVjdGFkZXM6JykKICAgIGZvciBsYWJlbCBpbiBsYWJlbHM6CiAgICAgICAgcHJpbnQobGFiZWwuZGVzY3JpcHRpb24pCgojIFJ1dGEgYSBsYSBpbWF0Z2UgbG9jYWwKaW1hZ2VfcGF0aCA9ICdydXRhL2EvbGEvdGV2YS9pbWF0Z2UuanBnJwpkZXRlY3RfbGFiZWxzKGltYWdlX3BhdGgp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import vision
import io

def detect_labels(path):
    &quot;&quot;&quot;Detecta etiquetes en una imatge.&quot;&quot;&quot;
    client = vision.ImageAnnotatorClient()

    with io.open(path, 'rb') as image_file:
        content = image_file.read()

    image = vision.Image(content=content)
    response = client.label_detection(image=image)
    labels = response.label_annotations

    print('Etiquetes detectades:')
    for label in labels:
        print(label.description)

# Ruta a la imatge local
image_path = 'ruta/a/la/teva/imatge.jpg'
detect_labels(image_path)</pre></div><div class='content'></div><h2>Explicació del codi</h2>
<div class='content'><ol>
<li><strong>Importar la biblioteca</strong>: Importem la biblioteca <code>google.cloud.vision</code> per accedir a les funcionalitats de l'API de visió.</li>
<li><strong>Crear un client</strong>: Creem un client de <code>ImageAnnotatorClient</code> per interactuar amb l'API.</li>
<li><strong>Llegir la imatge</strong>: Obrim la imatge en mode binari i llegim el seu contingut.</li>
<li><strong>Crear un objecte d'imatge</strong>: Creem un objecte <code>Image</code> amb el contingut de la imatge.</li>
<li><strong>Detectar etiquetes</strong>: Utilitzem el mètode <code>label_detection</code> per detectar etiquetes a la imatge.</li>
<li><strong>Mostrar resultats</strong>: Iterem sobre les etiquetes detectades i les imprimim.</li>
</ol>
</div><h1>Exercici pràctic</h1>
<div class='content'></div><h2>Exercici 1: Detecció de text (OCR)</h2>
<div class='content'><p>Utilitza l'API de visió per extreure text d'una imatge que contingui text escrit.</p>
<h4>Pistes:</h4>
<ul>
<li>Utilitza el mètode <code>text_detection</code> en lloc de <code>label_detection</code>.</li>
<li>Prova amb una imatge que contingui text clar i llegible.</li>
</ul>
</div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IHZpc2lvbgppbXBvcnQgaW8KCmRlZiBkZXRlY3RfdGV4dChwYXRoKToKICAgICIiIkRldGVjdGEgdGV4dCBlbiB1bmEgaW1hdGdlLiIiIgogICAgY2xpZW50ID0gdmlzaW9uLkltYWdlQW5ub3RhdG9yQ2xpZW50KCkKCiAgICB3aXRoIGlvLm9wZW4ocGF0aCwgJ3JiJykgYXMgaW1hZ2VfZmlsZToKICAgICAgICBjb250ZW50ID0gaW1hZ2VfZmlsZS5yZWFkKCkKCiAgICBpbWFnZSA9IHZpc2lvbi5JbWFnZShjb250ZW50PWNvbnRlbnQpCiAgICByZXNwb25zZSA9IGNsaWVudC50ZXh0X2RldGVjdGlvbihpbWFnZT1pbWFnZSkKICAgIHRleHRzID0gcmVzcG9uc2UudGV4dF9hbm5vdGF0aW9ucwoKICAgIHByaW50KCdUZXh0IGRldGVjdGF0OicpCiAgICBmb3IgdGV4dCBpbiB0ZXh0czoKICAgICAgICBwcmludCh0ZXh0LmRlc2NyaXB0aW9uKQoKIyBSdXRhIGEgbGEgaW1hdGdlIGxvY2FsCmltYWdlX3BhdGggPSAncnV0YS9hL2xhL3RldmEvaW1hdGdlX2FtYl90ZXh0LmpwZycKZGV0ZWN0X3RleHQoaW1hZ2VfcGF0aCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import vision
import io

def detect_text(path):
    &quot;&quot;&quot;Detecta text en una imatge.&quot;&quot;&quot;
    client = vision.ImageAnnotatorClient()

    with io.open(path, 'rb') as image_file:
        content = image_file.read()

    image = vision.Image(content=content)
    response = client.text_detection(image=image)
    texts = response.text_annotations

    print('Text detectat:')
    for text in texts:
        print(text.description)

# Ruta a la imatge local
image_path = 'ruta/a/la/teva/imatge_amb_text.jpg'
detect_text(image_path)</pre></div><div class='content'></div><h1>Errors comuns i consells</h1>
<div class='content'><ul>
<li><strong>Error de credencials</strong>: Assegura't que la clau d'API és correcta i que l'API de visió està activada al teu projecte.</li>
<li><strong>Imatge no llegible</strong>: Verifica que la ruta de la imatge és correcta i que la imatge és accessible.</li>
<li><strong>Quota excedida</strong>: L'API de visió té límits d'ús gratuït. Si excedeixes aquests límits, hauràs de configurar la facturació al teu compte de GCP.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>En aquest tema, hem après a:</p>
<ul>
<li>Comprendre les capacitats de l'API de visió de GCP.</li>
<li>Configurar l'API de visió al nostre projecte de GCP.</li>
<li>Utilitzar l'API per detectar etiquetes i text en imatges.</li>
<li>Implementar exemples pràctics amb Python.</li>
</ul>
<p>Amb aquests coneixements, estàs preparat per integrar capacitats de visió per ordinador a les teves aplicacions utilitzant l'API de visió de GCP.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-natural-language-api' title="API de llenguatge natural">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-cloud-build' title="Cloud Build">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
