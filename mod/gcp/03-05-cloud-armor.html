<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Armor</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/03-05-cloud-armor" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/03-05-cloud-armor" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/03-05-cloud-armor" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/gcp/03-05-cloud-armor" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/gcp/03-05-cloud-armor" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-iam' title="Gestió d'identitat i accés (IAM)">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Cloud Armor</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-bigquery' title="BigQuery">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a Cloud Armor</h1>
<div class='content'><p>Google Cloud Armor és un servei de seguretat que protegeix les aplicacions i serveis desplegats a Google Cloud Platform (GCP) contra atacs de denegació de servei (DDoS) i altres amenaces basades en la web. Cloud Armor proporciona una capa de seguretat que permet definir polítiques de seguretat per protegir les aplicacions de manera proactiva.</p>
</div><h1>Objectius d'aprenentatge</h1>
<div class='content'><p>En aquest tema, aprendràs:</p>
<ul>
<li>Què és Google Cloud Armor i com funciona.</li>
<li>Com configurar i gestionar polítiques de seguretat amb Cloud Armor.</li>
<li>Com protegir les teves aplicacions contra atacs DDoS i altres amenaces.</li>
<li>Com monitoritzar i analitzar els registres de seguretat.</li>
</ul>
</div><h1>Conceptes clau</h1>
<div class='content'></div><h2>Què és Google Cloud Armor?</h2>
<div class='content'><p>Google Cloud Armor és un servei de seguretat que ofereix:</p>
<ul>
<li><strong>Protecció contra DDoS</strong>: Protegeix les aplicacions contra atacs de denegació de servei distribuïts.</li>
<li><strong>Polítiques de seguretat</strong>: Permet definir regles per controlar l'accés a les aplicacions.</li>
<li><strong>Integració amb Google Cloud Load Balancing</strong>: Funciona conjuntament amb els equilibradors de càrrega de Google per proporcionar seguretat a nivell global.</li>
</ul>
</div><h2>Com funciona Cloud Armor?</h2>
<div class='content'><p>Cloud Armor utilitza una combinació de regles predefinides i personalitzades per protegir les aplicacions. Aquestes regles es poden aplicar a les sol·licituds entrants per permetre, denegar o limitar l'accés basat en diversos criteris, com ara adreces IP, geolocalització, i signatures de sol·licituds.</p>
</div><h1>Configuració de Cloud Armor</h1>
<div class='content'></div><h2>Pas 1: Crear una política de seguretat</h2>
<div class='content'><ol>
<li><strong>Accedeix a la consola de GCP</strong>.</li>
<li><strong>Navega a la secció &quot;Security&quot;</strong> i selecciona &quot;Cloud Armor&quot;.</li>
<li><strong>Crea una nova política de seguretat</strong>:
<ul>
<li>Assigna un nom a la política.</li>
<li>Defineix les regles de seguretat (per exemple, permetre o denegar trànsit des de certes adreces IP).</li>
</ul>
</li>
</ol>
</div><h2>Pas 2: Definir regles de seguretat</h2>
<div class='content'><p>Les regles de seguretat es defineixen en forma de llistes de control d'accés (ACLs). Aquí tens un exemple de com definir una regla per permetre trànsit només des d'una adreça IP específica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cnVsZXM6CiAgLSBhY3Rpb246IGFsbG93CiAgICBkZXNjcmlwdGlvbjogQWxsb3cgdHJhZmZpYyBmcm9tIHNwZWNpZmljIElQCiAgICBtYXRjaDoKICAgICAgdmVyc2lvbmVkRXhwcjogU1JDX0lQU19WMQogICAgICBjb25maWc6CiAgICAgICAgc3JjSXBSYW5nZXM6CiAgICAgICAgICAtICIyMDMuMC4xMTMuMC8yNCI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rules:
  - action: allow
    description: Allow traffic from specific IP
    match:
      versionedExpr: SRC_IPS_V1
      config:
        srcIpRanges:
          - &quot;203.0.113.0/24&quot;</pre></div><div class='content'></div><h2>Pas 3: Aplicar la política de seguretat</h2>
<div class='content'><ol>
<li><strong>Selecciona l'equilibrador de càrrega</strong> al qual vols aplicar la política.</li>
<li><strong>Assigna la política de seguretat</strong> creada anteriorment a l'equilibrador de càrrega.</li>
</ol>
</div><h1>Monitorització i anàlisi</h1>
<div class='content'></div><h2>Visualitzar registres de seguretat</h2>
<div class='content'><p>Google Cloud Armor proporciona registres detallats de les sol·licituds que coincideixen amb les regles de seguretat. Pots accedir a aquests registres a través de la consola de GCP o utilitzant Google Cloud Logging.</p>
</div><h2>Analitzar els registres</h2>
<div class='content'><p>Els registres de seguretat et permeten identificar patrons d'atac i ajustar les polítiques de seguretat en conseqüència. Aquí tens un exemple de com visualitzar registres utilitzant Google Cloud Logging:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgcmVhZCAicmVzb3VyY2UudHlwZT1odHRwX2xvYWRfYmFsYW5jZXIgQU5EIGpzb25QYXlsb2FkLmVuZm9yY2VkU2VjdXJpdHlQb2xpY3kubmFtZT1teS1zZWN1cml0eS1wb2xpY3kiIC0tbGltaXQ9MTA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging read &quot;resource.type=http_load_balancer AND jsonPayload.enforcedSecurityPolicy.name=my-security-policy&quot; --limit=10</pre></div><div class='content'></div><h1>Exercici pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Configura una política de seguretat amb Cloud Armor per permetre trànsit només des d'una adreça IP específica i denegar tot el trànsit restant.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li><strong>Crea una política de seguretat</strong> anomenada <code>allow-specific-ip</code>.</li>
<li><strong>Defineix una regla</strong> per permetre trànsit des de l'adreça IP <code>203.0.113.0/24</code>.</li>
<li><strong>Aplica la política</strong> a un equilibrador de càrrega existent.</li>
<li><strong>Monitoritza els registres</strong> per assegurar-te que la política s'està aplicant correctament.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhIGxhIHBvbMOtdGljYSBkZSBzZWd1cmV0YXQKZ2Nsb3VkIGNvbXB1dGUgc2VjdXJpdHktcG9saWNpZXMgY3JlYXRlIGFsbG93LXNwZWNpZmljLWlwIC0tZGVzY3JpcHRpb249IkFsbG93IHRyYWZmaWMgZnJvbSBzcGVjaWZpYyBJUCIKCiMgRGVmaW5laXggbGEgcmVnbGEgZGUgc2VndXJldGF0CmdjbG91ZCBjb21wdXRlIHNlY3VyaXR5LXBvbGljaWVzIHJ1bGVzIGNyZWF0ZSAxMDAwIFwKICAgIC0tc2VjdXJpdHktcG9saWN5PWFsbG93LXNwZWNpZmljLWlwIFwKICAgIC0tZGVzY3JpcHRpb249IkFsbG93IHRyYWZmaWMgZnJvbSBzcGVjaWZpYyBJUCIgXAogICAgLS1zcmMtaXAtcmFuZ2VzPTIwMy4wLjExMy4wLzI0IFwKICAgIC0tYWN0aW9uPWFsbG93CgojIEFwbGljYSBsYSBwb2zDrXRpY2EgYSBsJ2VxdWlsaWJyYWRvciBkZSBjw6BycmVnYQpnY2xvdWQgY29tcHV0ZSBiYWNrZW5kLXNlcnZpY2VzIHVwZGF0ZSBteS1iYWNrZW5kLXNlcnZpY2UgXAogICAgLS1zZWN1cml0eS1wb2xpY3k9YWxsb3ctc3BlY2lmaWMtaXAKCiMgTW9uaXRvcml0emEgZWxzIHJlZ2lzdHJlcwpnY2xvdWQgbG9nZ2luZyByZWFkICJyZXNvdXJjZS50eXBlPWh0dHBfbG9hZF9iYWxhbmNlciBBTkQganNvblBheWxvYWQuZW5mb3JjZWRTZWN1cml0eVBvbGljeS5uYW1lPWFsbG93LXNwZWNpZmljLWlwIiAtLWxpbWl0PTEw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crea la pol&iacute;tica de seguretat
gcloud compute security-policies create allow-specific-ip --description=&quot;Allow traffic from specific IP&quot;

# Defineix la regla de seguretat
gcloud compute security-policies rules create 1000 \
    --security-policy=allow-specific-ip \
    --description=&quot;Allow traffic from specific IP&quot; \
    --src-ip-ranges=203.0.113.0/24 \
    --action=allow

# Aplica la pol&iacute;tica a l'equilibrador de c&agrave;rrega
gcloud compute backend-services update my-backend-service \
    --security-policy=allow-specific-ip

# Monitoritza els registres
gcloud logging read &quot;resource.type=http_load_balancer AND jsonPayload.enforcedSecurityPolicy.name=allow-specific-ip&quot; --limit=10</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>En aquest tema, has après què és Google Cloud Armor i com utilitzar-lo per protegir les teves aplicacions contra atacs DDoS i altres amenaces. Has après a crear i gestionar polítiques de seguretat, aplicar-les a equilibradors de càrrega i monitoritzar els registres de seguretat per analitzar i ajustar les teves polítiques. Amb aquests coneixements, pots assegurar les teves aplicacions a GCP de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-iam' title="Gestió d'identitat i accés (IAM)">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-bigquery' title="BigQuery">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
