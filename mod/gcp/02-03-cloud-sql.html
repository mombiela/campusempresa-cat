<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud SQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/02-03-cloud-sql" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/02-03-cloud-sql" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/02-03-cloud-sql" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/gcp/02-03-cloud-sql" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/gcp/02-03-cloud-sql" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-cloud-storage' title="Cloud Storage">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Cloud SQL</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-app-engine' title="App Engine">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció a Cloud SQL</p>
</h1>
<div class='content'><p>Cloud SQL és un servei de base de dades completament gestionat que facilita la configuració, el manteniment, la gestió i l'administració de bases de dades relacionals a Google Cloud Platform. Cloud SQL és compatible amb MySQL, PostgreSQL i SQL Server.</p>
</div><h2><p>Característiques clau de Cloud SQL</p>
</h2>
<div class='content'><ul>
<li><strong>Gestió automàtica</strong>: Inclou còpies de seguretat automàtiques, actualitzacions de programari i aplicació de pegats de seguretat.</li>
<li><strong>Alta disponibilitat</strong>: Ofereix rèpliques de lectura i failover automàtic per garantir la disponibilitat de les dades.</li>
<li><strong>Escalabilitat</strong>: Permet escalar verticalment i horitzontalment segons les necessitats de l'aplicació.</li>
<li><strong>Seguretat</strong>: Proporciona xifratge de dades en repòs i en trànsit, així com integració amb IAM per a la gestió d'accés.</li>
</ul>
</div><h1><p>Configuració de Cloud SQL</p>
</h1>
<div class='content'></div><h2><p>Pas 1: Crear una instància de Cloud SQL</p>
</h2>
<div class='content'><ol>
<li><strong>Accedeix a la consola de GCP</strong>: Navega a la consola de Google Cloud Platform.</li>
<li><strong>Selecciona el projecte</strong>: Assegura't que estàs treballant en el projecte correcte.</li>
<li><strong>Navega a Cloud SQL</strong>: A la barra de navegació, selecciona <code>SQL</code>.</li>
<li><strong>Crea una instància</strong>: Fes clic a <code>Create instance</code> i selecciona el tipus de base de dades (MySQL, PostgreSQL o SQL Server).</li>
</ol>
</div><h2><p>Pas 2: Configurar la instància</p>
</h2>
<div class='content'><ol>
<li><strong>Nom de la instància</strong>: Assigna un nom únic a la teva instància.</li>
<li><strong>Regió i zona</strong>: Selecciona la regió i la zona on vols que es creï la instància.</li>
<li><strong>Configuració de la màquina</strong>: Tria la configuració de la màquina (CPU, memòria, etc.).</li>
<li><strong>Configuració de la base de dades</strong>: Defineix el nom de la base de dades, l'usuari i la contrasenya.</li>
</ol>
</div><h2><p>Pas 3: Connectar-se a la instància</p>
</h2>
<div class='content'><ol>
<li><strong>IP pública</strong>: Pots habilitar una IP pública per connectar-te directament a la instància.</li>
<li><strong>IP privada</strong>: Per a una major seguretat, pots utilitzar una IP privada i connectar-te a través d'una VPC.</li>
<li><strong>Clients de base de dades</strong>: Utilitza clients com <code>mysql</code>, <code>psql</code> o eines GUI com <code>DBeaver</code> per connectar-te a la teva instància.</li>
</ol>
</div><h1><p>Exemples pràctics</p>
</h1>
<div class='content'></div><h2><p>Exemple 1: Crear una instància de MySQL</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHNxbCBpbnN0YW5jZXMgY3JlYXRlIG15LWluc3RhbmNlIFwKICAgIC0tZGF0YWJhc2UtdmVyc2lvbj1NWVNRTF81XzcgXAogICAgLS10aWVyPWRiLW4xLXN0YW5kYXJkLTEgXAogICAgLS1yZWdpb249dXMtY2VudHJhbDE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud sql instances create my-instance \
    --database-version=MYSQL_5_7 \
    --tier=db-n1-standard-1 \
    --region=us-central1</pre></div><div class='content'></div><h2><p>Exemple 2: Crear una base de dades i un usuari</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHNxbCBkYXRhYmFzZXMgY3JlYXRlIG15LWRhdGFiYXNlIC0taW5zdGFuY2U9bXktaW5zdGFuY2UKCmdjbG91ZCBzcWwgdXNlcnMgY3JlYXRlIG15LXVzZXIgLS1pbnN0YW5jZT1teS1pbnN0YW5jZSAtLXBhc3N3b3JkPW15LXBhc3N3b3Jk"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud sql databases create my-database --instance=my-instance

gcloud sql users create my-user --instance=my-instance --password=my-password</pre></div><div class='content'></div><h2><p>Exemple 3: Connectar-se a la instància</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHNxbCBjb25uZWN0IG15LWluc3RhbmNlIC0tdXNlcj1teS11c2Vy"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud sql connect my-instance --user=my-user</pre></div><div class='content'></div><h1><p>Exercicis pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Crear una instància de PostgreSQL</p>
</h2>
<div class='content'><ol>
<li>Crea una instància de Cloud SQL amb PostgreSQL.</li>
<li>Configura una base de dades anomenada <code>testdb</code>.</li>
<li>Crea un usuari <code>testuser</code> amb la contrasenya <code>testpassword</code>.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHNxbCBpbnN0YW5jZXMgY3JlYXRlIG15LXBvc3RncmVzLWluc3RhbmNlIFwKICAgIC0tZGF0YWJhc2UtdmVyc2lvbj1QT1NUR1JFU18xMiBcCiAgICAtLXRpZXI9ZGItbjEtc3RhbmRhcmQtMSBcCiAgICAtLXJlZ2lvbj11cy1jZW50cmFsMQoKZ2Nsb3VkIHNxbCBkYXRhYmFzZXMgY3JlYXRlIHRlc3RkYiAtLWluc3RhbmNlPW15LXBvc3RncmVzLWluc3RhbmNlCgpnY2xvdWQgc3FsIHVzZXJzIGNyZWF0ZSB0ZXN0dXNlciAtLWluc3RhbmNlPW15LXBvc3RncmVzLWluc3RhbmNlIC0tcGFzc3dvcmQ9dGVzdHBhc3N3b3Jk"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud sql instances create my-postgres-instance \
    --database-version=POSTGRES_12 \
    --tier=db-n1-standard-1 \
    --region=us-central1

gcloud sql databases create testdb --instance=my-postgres-instance

gcloud sql users create testuser --instance=my-postgres-instance --password=testpassword</pre></div><div class='content'></div><h2><p>Exercici 2: Connectar-se a la instància i crear una taula</p>
</h2>
<div class='content'><ol>
<li>Connecta't a la instància de PostgreSQL creada anteriorment.</li>
<li>Crea una taula <code>employees</code> amb les columnes <code>id</code>, <code>name</code> i <code>position</code>.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ29ubmVjdGFyLXNlIGEgbGEgaW5zdMOgbmNpYQpnY2xvdWQgc3FsIGNvbm5lY3QgbXktcG9zdGdyZXMtaW5zdGFuY2UgLS11c2VyPXRlc3R1c2VyCgotLSBDcmVhciBsYSB0YXVsYQpDUkVBVEUgVEFCTEUgZW1wbG95ZWVzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApLAogICAgcG9zaXRpb24gVkFSQ0hBUigxMDApCik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Connectar-se a la inst&agrave;ncia
gcloud sql connect my-postgres-instance --user=testuser

-- Crear la taula
CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    position VARCHAR(100)
);</pre></div><div class='content'></div><h1><p>Errors comuns i consells</p>
</h1>
<div class='content'></div><h2><p>Error: &quot;Access denied for user&quot;</p>
</h2>
<div class='content'><ul>
<li><strong>Solució</strong>: Assegura't que l'usuari i la contrasenya són correctes. Revisa les regles de tallafocs per permetre l'accés a la IP desitjada.</li>
</ul>
</div><h2><p>Error: &quot;Instance not found&quot;</p>
</h2>
<div class='content'><ul>
<li><strong>Solució</strong>: Verifica que el nom de la instància és correcte i que estàs treballant en el projecte adequat.</li>
</ul>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après què és Cloud SQL, com crear i configurar una instància, i com connectar-nos-hi. També hem vist exemples pràctics i exercicis per reforçar els conceptes apresos. Amb aquests coneixements, estàs preparat per gestionar bases de dades relacionals a Google Cloud Platform.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-cloud-storage' title="Cloud Storage">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-app-engine' title="App Engine">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
