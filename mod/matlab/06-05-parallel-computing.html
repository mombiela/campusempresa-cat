<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computació Paral·lela</title>

    <link rel="alternate" href="https://campusempresa.com/mod/matlab/06-05-parallel-computing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/matlab/06-05-parallel-computing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/matlab/06-05-parallel-computing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/matlab/06-05-parallel-computing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/matlab/06-05-parallel-computing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-simulink-basics' title="Conceptes Bàsics de Simulink">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Computació Paral·lela</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-signal-processing' title="Processament de Senyals">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La computació paral·lela és una tècnica que permet executar múltiples càlculs simultàniament, aprofitant els recursos de múltiples processadors. MATLAB ofereix diverses eines per implementar computació paral·lela, la qual cosa pot millorar significativament el rendiment de les aplicacions que requereixen un alt poder de càlcul.</p>
</div><h1>Objectius d'aquest tema</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics de la computació paral·lela.</li>
<li>Aprendre a utilitzar les eines de computació paral·lela en MATLAB.</li>
<li>Implementar bucles paral·lels (<code>parfor</code>).</li>
<li>Utilitzar <code>spmd</code> (Single Program Multiple Data) per a tasques paral·leles.</li>
<li>Gestionar clústers i treballadors paral·lels.</li>
</ul>
</div><h1>Conceptes Bàsics de la Computació Paral·lela</h1>
<div class='content'></div><h2>Què és la Computació Paral·lela?</h2>
<div class='content'><p>La computació paral·lela implica dividir un problema gran en parts més petites que es poden resoldre simultàniament. Això es pot fer utilitzant múltiples nuclis d'un processador o múltiples processadors en un clúster.</p>
</div><h2>Beneficis de la Computació Paral·lela</h2>
<div class='content'><ul>
<li><strong>Reducció del temps de càlcul:</strong> Les tasques es completen més ràpidament.</li>
<li><strong>Millor utilització dels recursos:</strong> S'aprofiten millor els recursos de maquinari disponibles.</li>
<li><strong>Escalabilitat:</strong> Les aplicacions poden escalar per utilitzar més recursos a mesura que estiguin disponibles.</li>
</ul>
</div><h1>Eines de Computació Paral·lela en MATLAB</h1>
<div class='content'></div><h2>Parallel Computing Toolbox</h2>
<div class='content'><p>MATLAB ofereix el Parallel Computing Toolbox, que proporciona funcions i eines per escriure i executar codi paral·lel.</p>
</div><h2>Bucles `parfor`</h2>
<div class='content'><p>El bucle <code>parfor</code> és una versió paral·lela del bucle <code>for</code> que permet executar iteracions de manera simultània.</p>
<h4>Exemple de <code>parfor</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBFeGVtcGxlIGRlIGJ1Y2xlIHBhcmZvcgpuID0gMTAwOwpBID0gemVyb3MobiwgMSk7CgpwYXJmb3IgaSA9IDE6bgogICAgQShpKSA9IGleMjsKZW5kCgpkaXNwKEEpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Exemple de bucle parfor
n = 100;
A = zeros(n, 1);

parfor i = 1:n
    A(i) = i^2;
end

disp(A);</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>parfor i = 1:n</code> executa les iteracions del bucle en paral·lel.</li>
<li>Cada iteració calcula el quadrat de <code>i</code> i l'emmagatzema a <code>A(i)</code>.</li>
</ul>
</div><h2>`spmd` (Single Program Multiple Data)</h2>
<div class='content'><p><code>spmd</code> permet executar blocs de codi en paral·lel en múltiples treballadors, amb cada treballador executant el mateix codi però amb dades diferents.</p>
<h4>Exemple de <code>spmd</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBFeGVtcGxlIGRlIHNwbWQKc3BtZAogICAgbGFiaW5kZXggICUgTW9zdHJhIGwnw61uZGV4IGRlbCB0cmViYWxsYWRvciBhY3R1YWwKZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Exemple de spmd
spmd
    labindex  % Mostra l'&iacute;ndex del treballador actual
end</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>spmd</code> executa el bloc de codi dins de múltiples treballadors.</li>
<li><code>labindex</code> retorna l'índex del treballador actual.</li>
</ul>
</div><h2>Gestió de Clústers i Treballadors</h2>
<div class='content'><p>MATLAB permet gestionar clústers de treballadors per executar tasques paral·leles.</p>
<h4>Exemple de Gestió de Clústers</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhciB1biBjbMO6c3RlciBsb2NhbApjID0gcGFyY2x1c3RlcignbG9jYWwnKTsKCiUgQ3JlYXIgdW4gcG9vbCBkZSB0cmViYWxsYWRvcnMKcGFycG9vbChjLCA0KTsgICUgVXRpbGl0emEgNCB0cmViYWxsYWRvcnMKCiUgRXhlY3V0YXIgY29kaSBwYXJhbMK3bGVsCnBhcmZvciBpID0gMToxMAogICAgZGlzcChpKTsKZW5kCgolIFRhbmNhciBlbCBwb29sIGRlIHRyZWJhbGxhZG9ycwpkZWxldGUoZ2NwKCdub2NyZWF0ZScpKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Crear un cl&uacute;ster local
c = parcluster('local');

% Crear un pool de treballadors
parpool(c, 4);  % Utilitza 4 treballadors

% Executar codi paral&middot;lel
parfor i = 1:10
    disp(i);
end

% Tancar el pool de treballadors
delete(gcp('nocreate'));</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>parcluster('local')</code> crea un clúster local.</li>
<li><code>parpool(c, 4)</code> crea un pool de 4 treballadors.</li>
<li><code>parfor</code> executa el bucle en paral·lel utilitzant els treballadors del pool.</li>
<li><code>delete(gcp('nocreate'))</code> tanca el pool de treballadors.</li>
</ul>
</div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Càlcul de Sumes en Paral·lel</h2>
<div class='content'><p>Escriu un codi que calculi la suma dels quadrats dels primers 1000 nombres utilitzant un bucle <code>parfor</code>.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("biA9IDEwMDA7CnN1bVNxdWFyZXMgPSAwOwoKcGFyZm9yIGkgPSAxOm4KICAgIHN1bVNxdWFyZXMgPSBzdW1TcXVhcmVzICsgaV4yOwplbmQKCmRpc3Aoc3VtU3F1YXJlcyk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>n = 1000;
sumSquares = 0;

parfor i = 1:n
    sumSquares = sumSquares + i^2;
end

disp(sumSquares);</pre></div><div class='content'></div><h2>Exercici 2: Utilització de `spmd` per a Càlculs Distribuïts</h2>
<div class='content'><p>Escriu un codi que utilitzi <code>spmd</code> per calcular la suma dels quadrats dels primers 1000 nombres, distribuint el càlcul entre 4 treballadors.</p>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("biA9IDEwMDA7Cm51bVdvcmtlcnMgPSA0OwpwYXJ0aWFsU3VtcyA9IHplcm9zKDEsIG51bVdvcmtlcnMpOwoKc3BtZAogICAgcmFuZ2UgPSAobGFiaW5kZXgtMSkqKG4vbnVtV29ya2VycykgKyAxIDogbGFiaW5kZXgqKG4vbnVtV29ya2Vycyk7CiAgICBwYXJ0aWFsU3VtcyhsYWJpbmRleCkgPSBzdW0ocmFuZ2UuXjIpOwplbmQKCnRvdGFsU3VtID0gc3VtKFtwYXJ0aWFsU3Vtc3s6fV0pOwpkaXNwKHRvdGFsU3VtKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>n = 1000;
numWorkers = 4;
partialSums = zeros(1, numWorkers);

spmd
    range = (labindex-1)*(n/numWorkers) + 1 : labindex*(n/numWorkers);
    partialSums(labindex) = sum(range.^2);
end

totalSum = sum([partialSums{:}]);
disp(totalSum);</pre></div><div class='content'></div><h1>Errors Comuns i Consells</h1>
<div class='content'></div><h2>Errors Comuns</h2>
<div class='content'><ul>
<li><strong>No inicialitzar correctament les variables compartides:</strong> Assegura't que les variables utilitzades dins de <code>parfor</code> estiguin inicialitzades correctament fora del bucle.</li>
<li><strong>Accés concurrent a variables:</strong> Evita modificar la mateixa variable des de múltiples iteracions de <code>parfor</code> sense utilitzar mecanismes de sincronització.</li>
</ul>
</div><h2>Consells</h2>
<div class='content'><ul>
<li><strong>Utilitza <code>parfor</code> per a tasques independents:</strong> Assegura't que les iteracions del bucle <code>parfor</code> siguin independents entre si.</li>
<li><strong>Optimitza l'ús de treballadors:</strong> No utilitzis més treballadors dels que el teu sistema pot gestionar eficientment.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat els conceptes bàsics de la computació paral·lela en MATLAB, incloent l'ús de <code>parfor</code> i <code>spmd</code>, així com la gestió de clústers i treballadors. La computació paral·lela pot millorar significativament el rendiment de les aplicacions que requereixen un alt poder de càlcul. Amb aquestes eines, pots començar a escriure codi paral·lel eficientment en MATLAB.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-simulink-basics' title="Conceptes Bàsics de Simulink">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-signal-processing' title="Processament de Senyals">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
