<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balanceig de Càrrega</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitectura_tecnologica/02-03-balanceo-carga" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitectura_tecnologica/02-03-balanceo-carga" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitectura_tecnologica/02-03-load-balancing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/arquitectura_tecnologica/02-03-load-balancing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/arquitectura_tecnologica/02-03-balanceo-carga" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-patrones-diseno-escalable' title="Patrons de Disseny Escalable">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Balanceig de Càrrega</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-cache-almacenamiento' title="Caché i Emmagatzematge en Memòria">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El balanceig de càrrega és una tècnica fonamental en el disseny de sistemes escalables. Permet distribuir el tràfic de xarxa o les càrregues de treball entre diversos servidors per garantir que cap servidor es sobrecarregui, millorant així la disponibilitat i la capacitat de resposta del sistema.</p>
</div><h1>Objectius del Balanceig de Càrrega</h1>
<div class='content'><ul>
<li><strong>Distribuir la càrrega de treball:</strong> Evitar que un sol servidor es converteixi en un coll d'ampolla.</li>
<li><strong>Millorar la disponibilitat:</strong> Assegurar que el sistema continuï funcionant fins i tot si un o més servidors fallen.</li>
<li><strong>Optimitzar el rendiment:</strong> Reduir el temps de resposta i augmentar la velocitat de processament.</li>
</ul>
</div><h1>Tipus de Balancejadors de Càrrega</h1>
<div class='content'><p>Hi ha diversos tipus de balancejadors de càrrega, cadascun amb les seves pròpies característiques i usos específics:</p>
<ol>
<li>
<p><strong>Balancejadors de Càrrega de Programari:</strong></p>
<ul>
<li><strong>Nginx:</strong> Un servidor web que també pot actuar com a balancejador de càrrega.</li>
<li><strong>HAProxy:</strong> Un balancejador de càrrega de codi obert molt utilitzat per la seva alta disponibilitat i rendiment.</li>
<li><strong>Traefik:</strong> Un balancejador de càrrega modern que s'integra bé amb entorns de contenidors com Docker i Kubernetes.</li>
</ul>
</li>
<li>
<p><strong>Balancejadors de Càrrega de Maquinari:</strong></p>
<ul>
<li><strong>F5 Networks:</strong> Ofereix solucions de balanceig de càrrega de maquinari amb funcionalitats avançades.</li>
<li><strong>Citrix ADC:</strong> Un altre exemple de balancejador de càrrega de maquinari amb capacitats de seguretat i optimització.</li>
</ul>
</li>
<li>
<p><strong>Balancejadors de Càrrega al Núvol:</strong></p>
<ul>
<li><strong>AWS Elastic Load Balancer (ELB):</strong> Un servei de balanceig de càrrega gestionat per Amazon Web Services.</li>
<li><strong>Google Cloud Load Balancing:</strong> Un servei de balanceig de càrrega gestionat per Google Cloud Platform.</li>
<li><strong>Azure Load Balancer:</strong> Un servei de balanceig de càrrega gestionat per Microsoft Azure.</li>
</ul>
</li>
</ol>
</div><h1>Algoritmes de Balanceig de Càrrega</h1>
<div class='content'><p>Els balancejadors de càrrega utilitzen diferents algoritmes per distribuir el tràfic. Alguns dels més comuns són:</p>
<ol>
<li><strong>Round Robin:</strong> Distribueix les sol·licituds de manera seqüencial entre els servidors disponibles.</li>
<li><strong>Least Connections:</strong> Assigna la sol·licitud al servidor amb menys connexions actives.</li>
<li><strong>IP Hash:</strong> Assigna les sol·licituds basant-se en l'adreça IP del client.</li>
<li><strong>Weighted Round Robin:</strong> Similar al Round Robin, però assigna més sol·licituds als servidors amb més capacitat.</li>
</ol>
</div><h1>Implementació Pràctica amb HAProxy</h1>
<div class='content'><p>A continuació, es mostra un exemple de configuració bàsica de HAProxy per balancejar la càrrega entre dos servidors web.</p>
</div><h2>Exemple de Configuració de HAProxy</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xvYmFsCiAgICBsb2cgL2Rldi9sb2cgICAgbG9jYWwwCiAgICBsb2cgL2Rldi9sb2cgICAgbG9jYWwxIG5vdGljZQogICAgY2hyb290IC92YXIvbGliL2hhcHJveHkKICAgIHN0YXRzIHNvY2tldCAvcnVuL2hhcHJveHkvYWRtaW4uc29jayBtb2RlIDY2MCBsZXZlbCBhZG1pbgogICAgc3RhdHMgdGltZW91dCAzMHMKICAgIHVzZXIgaGFwcm94eQogICAgZ3JvdXAgaGFwcm94eQogICAgZGFlbW9uCgpkZWZhdWx0cwogICAgbG9nICAgICBnbG9iYWwKICAgIG1vZGUgICAgaHR0cAogICAgb3B0aW9uICBodHRwbG9nCiAgICBvcHRpb24gIGRvbnRsb2dudWxsCiAgICB0aW1lb3V0IGNvbm5lY3QgNTAwMAogICAgdGltZW91dCBjbGllbnQgIDUwMDAwCiAgICB0aW1lb3V0IHNlcnZlciAgNTAwMDAKCmZyb250ZW5kIGh0dHBfZnJvbnQKICAgIGJpbmQgKjo4MAogICAgZGVmYXVsdF9iYWNrZW5kIGh0dHBfYmFjawoKYmFja2VuZCBodHRwX2JhY2sKICAgIGJhbGFuY2Ugcm91bmRyb2JpbgogICAgc2VydmVyIHNlcnZlcjEgMTkyLjE2OC4xLjE6ODAgY2hlY2sKICAgIHNlcnZlciBzZXJ2ZXIyIDE5Mi4xNjguMS4yOjgwIGNoZWNr"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>global
    log /dev/log    local0
    log /dev/log    local1 notice
    chroot /var/lib/haproxy
    stats socket /run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s
    user haproxy
    group haproxy
    daemon

defaults
    log     global
    mode    http
    option  httplog
    option  dontlognull
    timeout connect 5000
    timeout client  50000
    timeout server  50000

frontend http_front
    bind *:80
    default_backend http_back

backend http_back
    balance roundrobin
    server server1 192.168.1.1:80 check
    server server2 192.168.1.2:80 check</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>global:</strong> Configuració global de HAProxy.</li>
<li><strong>defaults:</strong> Configuració per defecte per a totes les seccions.</li>
<li><strong>frontend http_front:</strong> Defineix el punt d'entrada per a les sol·licituds HTTP.</li>
<li><strong>backend http_back:</strong> Defineix els servidors de backend i l'algoritme de balanceig de càrrega (roundrobin en aquest cas).</li>
</ul>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Exercici 1: Configuració de Balanceig de Càrrega amb Nginx</h2>
<div class='content'><ol>
<li>Instal·la Nginx en un servidor.</li>
<li>Configura Nginx per balancejar la càrrega entre dos servidors web.</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aHR0cCB7CiAgICB1cHN0cmVhbSBiYWNrZW5kIHsKICAgICAgICBzZXJ2ZXIgMTkyLjE2OC4xLjE7CiAgICAgICAgc2VydmVyIDE5Mi4xNjguMS4yOwogICAgfQoKICAgIHNlcnZlciB7CiAgICAgICAgbGlzdGVuIDgwOwoKICAgICAgICBsb2NhdGlvbiAvIHsKICAgICAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vYmFja2VuZDsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>http {
    upstream backend {
        server 192.168.1.1;
        server 192.168.1.2;
    }

    server {
        listen 80;

        location / {
            proxy_pass http://backend;
        }
    }
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>upstream backend:</strong> Defineix els servidors de backend.</li>
<li><strong>server:</strong> Configura el servidor Nginx per escoltar a la porta 80 i redirigir les sol·licituds al grup de backend.</li>
</ul>
</div><h1>Errors Comuns i Consells</h1>
<div class='content'><ul>
<li><strong>No configurar la verificació de salut:</strong> Assegura't que els servidors de backend estiguin configurats per verificar la seva salut. Això permet al balancejador de càrrega evitar enviar tràfic a servidors que no estan disponibles.</li>
<li><strong>No ajustar els temps d'espera:</strong> Configura adequadament els temps d'espera per evitar que les connexions es quedin penjades.</li>
<li><strong>No monitoritzar el rendiment:</strong> Utilitza eines de monitoratge per assegurar-te que el balancejador de càrrega està funcionant correctament i per identificar possibles colls d'ampolla.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El balanceig de càrrega és una tècnica essencial per garantir l'escalabilitat, la disponibilitat i el rendiment dels sistemes tecnològics. Mitjançant l'ús de balancejadors de càrrega de programari, maquinari o al núvol, i l'aplicació d'algoritmes adequats, es pot distribuir eficientment la càrrega de treball entre diversos servidors. La configuració correcta i el monitoratge constant són claus per a l'èxit del balanceig de càrrega en qualsevol arquitectura tecnològica.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-patrones-diseno-escalable' title="Patrons de Disseny Escalable">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-cache-almacenamiento' title="Caché i Emmagatzematge en Memòria">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
