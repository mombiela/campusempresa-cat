<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves d'Integració</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/09-04-integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/09-04-integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/09-04-integration-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/flutter/09-04-integration-testing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/flutter/09-04-integration-testing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-widget-testing' title="Proves de Widgets">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves d'Integració</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-05-debugging-techniques' title="Tècniques de Depuració">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Les proves d'integració són una part crucial del procés de desenvolupament de programari, especialment en aplicacions complexes com les que es desenvolupen amb Flutter. Aquest tipus de proves asseguren que diferents parts de l'aplicació funcionin correctament quan es combinen. En aquest mòdul, aprendrem com configurar i executar proves d'integració en una aplicació Flutter.</p>
</div><h1><p>Objectius del Mòdul</p>
</h1>
<div class='content'><ul>
<li>Comprendre què són les proves d'integració i per què són importants.</li>
<li>Aprendre a configurar l'entorn per a les proves d'integració en Flutter.</li>
<li>Escriure i executar proves d'integració bàsiques.</li>
<li>Utilitzar eines i paquets per millorar les proves d'integració.</li>
</ul>
</div><h1><p>Què són les Proves d'Integració?</p>
</h1>
<div class='content'><p>Les proves d'integració verifiquen que diferents mòduls o serveis dins d'una aplicació funcionin correctament quan es combinen. A diferència de les proves unitàries, que aïllen i proven components individuals, les proves d'integració se centren en la interacció entre aquests components.</p>
</div><h2><p>Beneficis de les Proves d'Integració</p>
</h2>
<div class='content'><ul>
<li><strong>Detecció de Problemes d'Interfície:</strong> Identifiquen problemes en la interfície entre diferents mòduls.</li>
<li><strong>Validació de Fluxos de Treball:</strong> Asseguren que els fluxos de treball complets funcionin com s'espera.</li>
<li><strong>Millora de la Qualitat del Codi:</strong> Contribueixen a una aplicació més robusta i fiable.</li>
</ul>
</div><h1><p>Configuració de l'Entorn per a Proves d'Integració</p>
</h1>
<div class='content'><p>Abans de començar a escriure proves d'integració, necessitem configurar l'entorn de desenvolupament.</p>
</div><h2><p>Passos per Configurar l'Entorn</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Afegir Dependències:</strong>
Afegiu les següents dependències al fitxer <code>pubspec.yaml</code> del vostre projecte:</p>
<pre><code class="language-yaml">dev_dependencies:
  flutter_test:
    sdk: flutter
  integration_test:
    sdk: flutter
</code></pre>
</li>
<li>
<p><strong>Crear un Fitxer de Prova:</strong>
Creeu un fitxer dins del directori <code>test_driver</code> (si no existeix, creeu-lo) anomenat <code>integration_test.dart</code>.</p>
<pre><code class="language-dart">import 'package:integration_test/integration_test_driver.dart';

Future&lt;void&gt; main() =&gt; integrationDriver();
</code></pre>
</li>
<li>
<p><strong>Crear un Fitxer de Prova d'Integració:</strong>
Creeu un fitxer dins del directori <code>integration_test</code> anomenat <code>app_test.dart</code>.</p>
<pre><code class="language-dart">import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';
import 'package:my_app/main.dart' as app;

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();

  testWidgets('test de prova d\'integració', (WidgetTester tester) async {
    app.main();
    await tester.pumpAndSettle();

    // Afegiu les vostres proves aquí
  });
}
</code></pre>
</li>
</ol>
</div><h1><p>Escriure i Executar Proves d'Integració</p>
</h1>
<div class='content'></div><h2><p>Exemple de Prova d'Integració</p>
</h2>
<div class='content'><p>Suposem que tenim una aplicació amb un botó que incrementa un comptador. Escriurem una prova d'integració per verificar aquest comportament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfdGVzdC9mbHV0dGVyX3Rlc3QuZGFydCc7CmltcG9ydCAncGFja2FnZTppbnRlZ3JhdGlvbl90ZXN0L2ludGVncmF0aW9uX3Rlc3QuZGFydCc7CmltcG9ydCAncGFja2FnZTpteV9hcHAvbWFpbi5kYXJ0JyBhcyBhcHA7Cgp2b2lkIG1haW4oKSB7CiAgSW50ZWdyYXRpb25UZXN0V2lkZ2V0c0ZsdXR0ZXJCaW5kaW5nLmVuc3VyZUluaXRpYWxpemVkKCk7CgogIHRlc3RXaWRnZXRzKCdpbmNyZW1lbnRhIGVsIGNvbXB0YWRvcicsIChXaWRnZXRUZXN0ZXIgdGVzdGVyKSBhc3luYyB7CiAgICBhcHAubWFpbigpOwogICAgYXdhaXQgdGVzdGVyLnB1bXBBbmRTZXR0bGUoKTsKCiAgICAvLyBWZXJpZmljYSBxdWUgZWwgY29tcHRhZG9yIGluaWNpYWwgw6lzIDAKICAgIGV4cGVjdChmaW5kLnRleHQoJzAnKSwgZmluZHNPbmVXaWRnZXQpOwoKICAgIC8vIFRyb2JhIGVsIGJvdMOzIGQnaW5jcmVtZW50IGkgZmVzLWhpIGNsaWMKICAgIGZpbmFsIEZpbmRlciBpbmNyZW1lbnRCdXR0b24gPSBmaW5kLmJ5SWNvbihJY29ucy5hZGQpOwogICAgYXdhaXQgdGVzdGVyLnRhcChpbmNyZW1lbnRCdXR0b24pOwogICAgYXdhaXQgdGVzdGVyLnB1bXBBbmRTZXR0bGUoKTsKCiAgICAvLyBWZXJpZmljYSBxdWUgZWwgY29tcHRhZG9yIGhhIGluY3JlbWVudGF0IGEgMQogICAgZXhwZWN0KGZpbmQudGV4dCgnMScpLCBmaW5kc09uZVdpZGdldCk7CiAgfSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';
import 'package:my_app/main.dart' as app;

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();

  testWidgets('incrementa el comptador', (WidgetTester tester) async {
    app.main();
    await tester.pumpAndSettle();

    // Verifica que el comptador inicial &eacute;s 0
    expect(find.text('0'), findsOneWidget);

    // Troba el bot&oacute; d'increment i fes-hi clic
    final Finder incrementButton = find.byIcon(Icons.add);
    await tester.tap(incrementButton);
    await tester.pumpAndSettle();

    // Verifica que el comptador ha incrementat a 1
    expect(find.text('1'), findsOneWidget);
  });
}</pre></div><div class='content'></div><h2><p>Executar les Proves d'Integració</p>
</h2>
<div class='content'><p>Per executar les proves d'integració, utilitzeu la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciBkcml2ZSAtLWRyaXZlcj10ZXN0X2RyaXZlci9pbnRlZ3JhdGlvbl90ZXN0LmRhcnQgLS10YXJnZXQ9aW50ZWdyYXRpb25fdGVzdC9hcHBfdGVzdC5kYXJ0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter drive --driver=test_driver/integration_test.dart --target=integration_test/app_test.dart</pre></div><div class='content'></div><h1><p>Eines i Paquets per a Proves d'Integració</p>
</h1>
<div class='content'></div><h2><p>Eina de Proves d'Integració de Flutter</p>
</h2>
<div class='content'><p>Flutter proporciona una eina integrada per a proves d'integració anomenada <code>integration_test</code>. Aquesta eina permet executar proves en dispositius reals o emuladors.</p>
</div><h2><p>Paquets Addicionals</p>
</h2>
<div class='content'><ul>
<li><strong>mockito:</strong> Per crear mocks d'objectes i serveis.</li>
<li><strong>http_mock_adapter:</strong> Per simular respostes HTTP en proves d'integració.</li>
</ul>
</div><h1><p>Errors Comuns i Consells</p>
</h1>
<div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li><strong>No inicialitzar correctament l'aplicació:</strong> Assegureu-vos que <code>app.main()</code> s'executi abans de qualsevol prova.</li>
<li><strong>No esperar a que els widgets es renderitzin:</strong> Utilitzeu <code>await tester.pumpAndSettle()</code> per assegurar-vos que els widgets s'han renderitzat completament abans de fer les comprovacions.</li>
</ul>
</div><h2><p>Consells</p>
</h2>
<div class='content'><ul>
<li><strong>Utilitzeu <code>setUp</code> i <code>tearDown</code>:</strong> Per inicialitzar i netejar l'estat abans i després de cada prova.</li>
<li><strong>Dividiu les proves en blocs lògics:</strong> Mantingueu les proves curtes i enfocades en una funcionalitat específica.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>Les proves d'integració són essencials per assegurar que les diferents parts de la vostra aplicació funcionin correctament quan es combinen. En aquest mòdul, hem après a configurar l'entorn per a proves d'integració, escriure i executar proves bàsiques, i utilitzar eines i paquets per millorar les nostres proves. Amb aquestes habilitats, estareu millor preparats per desenvolupar aplicacions Flutter robustes i fiables.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-widget-testing' title="Proves de Widgets">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-05-debugging-techniques' title="Tècniques de Depuració">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
