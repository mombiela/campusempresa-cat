<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construcció per a Android</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/10-03-building-for-android" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/10-03-building-for-android" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/10-03-building-for-android" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/flutter/10-03-building-for-android" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/flutter/10-03-building-for-android" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-02-building-for-ios' title="Construcció per a iOS">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Construcció per a Android</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-04-cicd' title="Integració i Desplegament Continu (CI/CD)">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com preparar i construir la teva aplicació Flutter per a dispositius Android. Aquest procés inclou la configuració de l'entorn, la generació de fitxers APK o AAB, i la preparació per a la distribució a Google Play Store.</p>
</div><h1>1. Configuració de l'Entorn</h1>
<div class='content'></div><h2>Instal·lació de les Eines Necessàries</h2>
<div class='content'><p>Abans de començar, assegura't que tens instal·lades les eines necessàries:</p>
<ul>
<li><strong>Flutter SDK</strong>: Ja hauries de tenir-ho instal·lat si has seguit els mòduls anteriors.</li>
<li><strong>Android Studio</strong>: Inclou l'Android SDK i altres eines necessàries.</li>
<li><strong>Java Development Kit (JDK)</strong>: Necessari per a la compilació d'aplicacions Android.</li>
</ul>
</div><h2>Configuració de l'Android SDK</h2>
<div class='content'><ol>
<li><strong>Obre Android Studio</strong>.</li>
<li><strong>Ves a <code>File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK</code></strong>.</li>
<li><strong>Assegura't que tens instal·lada la versió més recent de l'Android SDK</strong>.</li>
<li><strong>Instal·la les eines de construcció necessàries</strong> (Build Tools, Platform Tools, etc.).</li>
</ol>
</div><h2>Configuració de les Variables d'Entorn</h2>
<div class='content'><p>Assegura't que les variables d'entorn estan configurades correctament:</p>
<ul>
<li><strong>ANDROID_HOME</strong>: Apunta al directori de l'Android SDK.</li>
<li><strong>PATH</strong>: Inclou el directori <code>platform-tools</code> de l'Android SDK.</li>
</ul>
</div><h1>2. Preparació del Projecte</h1>
<div class='content'></div><h2>Configuració del Fitxer `android/app/build.gradle`</h2>
<div class='content'><p>Obre el fitxer <code>android/app/build.gradle</code> i assegura't que les configuracions són correctes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5kcm9pZCB7CiAgICBjb21waWxlU2RrVmVyc2lvbiAzMAoKICAgIGRlZmF1bHRDb25maWcgewogICAgICAgIGFwcGxpY2F0aW9uSWQgImNvbS5leGFtcGxlLm15YXBwIgogICAgICAgIG1pblNka1ZlcnNpb24gMTYKICAgICAgICB0YXJnZXRTZGtWZXJzaW9uIDMwCiAgICAgICAgdmVyc2lvbkNvZGUgMQogICAgICAgIHZlcnNpb25OYW1lICIxLjAiCiAgICB9CgogICAgYnVpbGRUeXBlcyB7CiAgICAgICAgcmVsZWFzZSB7CiAgICAgICAgICAgIHNpZ25pbmdDb25maWcgc2lnbmluZ0NvbmZpZ3MucmVsZWFzZQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>android {
    compileSdkVersion 30

    defaultConfig {
        applicationId &quot;com.example.myapp&quot;
        minSdkVersion 16
        targetSdkVersion 30
        versionCode 1
        versionName &quot;1.0&quot;
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
        }
    }
}</pre></div><div class='content'></div><h2>Configuració de la Signatura</h2>
<div class='content'><p>Per a la distribució, necessitaràs signar la teva aplicació. Afegeix la configuració de la signatura al fitxer <code>android/app/build.gradle</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2lnbmluZ0NvbmZpZ3MgewogICAgcmVsZWFzZSB7CiAgICAgICAga2V5QWxpYXMgJ215LWtleS1hbGlhcycKICAgICAgICBrZXlQYXNzd29yZCAnbXkta2V5LXBhc3N3b3JkJwogICAgICAgIHN0b3JlRmlsZSBmaWxlKCdwYXRoL3RvL2tleXN0b3JlLmprcycpCiAgICAgICAgc3RvcmVQYXNzd29yZCAnbXktc3RvcmUtcGFzc3dvcmQnCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>signingConfigs {
    release {
        keyAlias 'my-key-alias'
        keyPassword 'my-key-password'
        storeFile file('path/to/keystore.jks')
        storePassword 'my-store-password'
    }
}</pre></div><div class='content'></div><h1>3. Construcció de l'APK o AAB</h1>
<div class='content'></div><h2>Generació de l'APK</h2>
<div class='content'><p>Per generar un APK, executa la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciBidWlsZCBhcGsgLS1yZWxlYXNl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter build apk --release</pre></div><div class='content'></div><h2>Generació de l'AAB</h2>
<div class='content'><p>Per generar un AAB (Android App Bundle), executa la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciBidWlsZCBhcHBidW5kbGUgLS1yZWxlYXNl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter build appbundle --release</pre></div><div class='content'></div><h1>4. Prova de l'Aplicació</h1>
<div class='content'></div><h2>Instal·lació de l'APK en un Dispositiu</h2>
<div class='content'><p>Per instal·lar l'APK en un dispositiu Android, utilitza la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRiIGluc3RhbGwgYnVpbGQvYXBwL291dHB1dHMvZmx1dHRlci1hcGsvYXBwLXJlbGVhc2UuYXBr"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>adb install build/app/outputs/flutter-apk/app-release.apk</pre></div><div class='content'></div><h2>Prova en un Emulador</h2>
<div class='content'><p>Pots utilitzar un emulador d'Android Studio per provar la teva aplicació. Assegura't que l'emulador està en execució i utilitza la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciBydW4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter run</pre></div><div class='content'></div><h1>5. Preparació per a la Distribució</h1>
<div class='content'></div><h2>Optimització de l'Aplicació</h2>
<div class='content'><p>Abans de publicar la teva aplicació, assegura't que està optimitzada:</p>
<ul>
<li><strong>Redueix la mida de l'APK</strong>: Utilitza <code>shrinkResources</code> i <code>minifyEnabled</code> en el fitxer <code>build.gradle</code>.</li>
<li><strong>Prova en diversos dispositius</strong>: Assegura't que la teva aplicació funciona correctament en diferents versions d'Android i dispositius.</li>
</ul>
</div><h2>Publicació a Google Play Store</h2>
<div class='content'><ol>
<li><strong>Crea un compte de desenvolupador a Google Play Console</strong>.</li>
<li><strong>Crea una nova aplicació</strong> i segueix les instruccions per pujar el teu APK o AAB.</li>
<li><strong>Completa la informació de la teva aplicació</strong> (descripció, captures de pantalla, etc.).</li>
<li><strong>Publica la teva aplicació</strong>.</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem après com configurar l'entorn, preparar el projecte, generar fitxers APK o AAB, provar l'aplicació i preparar-la per a la distribució a Google Play Store. Amb aquests coneixements, estàs preparat per portar la teva aplicació Flutter al mercat d'Android.</p>
</div><h2>Exercici Pràctic</h2>
<div class='content'><ol>
<li><strong>Configura el teu projecte Flutter per a la construcció d'Android</strong>.</li>
<li><strong>Genera un APK de la teva aplicació</strong>.</li>
<li><strong>Instal·la l'APK en un dispositiu Android i prova'l</strong>.</li>
<li><strong>Optimitza la teva aplicació i prepara-la per a la distribució</strong>.</li>
</ol>
</div><h2>Solució de l'Exercici</h2>
<div class='content'><ol>
<li><strong>Configura el fitxer <code>build.gradle</code></strong> segons les instruccions.</li>
<li><strong>Executa <code>flutter build apk --release</code></strong> per generar l'APK.</li>
<li><strong>Utilitza <code>adb install</code></strong> per instal·lar l'APK en un dispositiu.</li>
<li><strong>Segueix les millors pràctiques d'optimització</strong> i publica la teva aplicació a Google Play Store.</li>
</ol>
<p>Amb això, has completat la secció de construcció per a Android. En el següent tema, aprendrem sobre la integració i desplegament continu (CI/CD).</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-02-building-for-ios' title="Construcció per a iOS">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-04-cicd' title="Integració i Desplegament Continu (CI/CD)">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
