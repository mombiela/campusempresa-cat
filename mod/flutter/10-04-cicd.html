<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integració i Desplegament Continu (CI/CD)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/10-04-cicd" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/10-04-cicd" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/10-04-cicd" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/flutter/10-04-cicd" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/flutter/10-04-cicd" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-03-building-for-android' title="Construcció per a Android">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integració i Desplegament Continu (CI/CD)</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-05-maintaining-and-updating' title="Manteniment i Actualització de la Teva Aplicació">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La Integració i Desplegament Continu (CI/CD) és una pràctica essencial en el desenvolupament de programari modern que permet automatitzar el procés de construcció, prova i desplegament de les aplicacions. En aquest tema, aprendrem com configurar un pipeline CI/CD per a una aplicació Flutter, utilitzant eines populars com GitHub Actions, Travis CI i CircleCI.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Comprendre els conceptes bàsics de CI/CD.</li>
<li>Configurar un pipeline CI/CD per a una aplicació Flutter.</li>
<li>Automatitzar les proves i la construcció de l'aplicació.</li>
<li>Desplegar l'aplicació a les botigues d'aplicacions o altres entorns.</li>
</ul>
</div><h1><p>Conceptes Bàsics de CI/CD</p>
</h1>
<div class='content'></div><h2><p>Integració Contínua (CI)</p>
</h2>
<div class='content'><p>La Integració Contínua és una pràctica de desenvolupament de programari on els desenvolupadors integren els seus canvis de codi en un repositori compartit diverses vegades al dia. Cada integració és verificada per una construcció automatitzada i proves per detectar errors tan aviat com sigui possible.</p>
</div><h2><p>Desplegament Continu (CD)</p>
</h2>
<div class='content'><p>El Desplegament Continu és una extensió de la Integració Contínua que automatitza el desplegament de l'aplicació a un entorn de producció. Això permet que els canvis de codi siguin desplegats de manera ràpida i segura.</p>
</div><h1><p>Configuració d'un Pipeline CI/CD per a Flutter</p>
</h1>
<div class='content'></div><h2><p>Eines Populars de CI/CD</p>
</h2>
<div class='content'><ul>
<li><strong>GitHub Actions</strong>: Una plataforma d'automatització de fluxos de treball integrada a GitHub.</li>
<li><strong>Travis CI</strong>: Un servei de CI/CD allotjat que s'integra amb GitHub.</li>
<li><strong>CircleCI</strong>: Una plataforma de CI/CD que ofereix integració amb diversos sistemes de control de versions.</li>
</ul>
</div><h2><p>Exemple amb GitHub Actions</p>
</h2>
<div class='content'><h4>Pas 1: Crear un Repositori a GitHub</h4>
<ol>
<li>Crea un nou repositori a GitHub per a la teva aplicació Flutter.</li>
<li>Puja el codi de la teva aplicació al repositori.</li>
</ol>
<h4>Pas 2: Configurar GitHub Actions</h4>
<ol>
<li>A la pàgina del teu repositori, ves a la pestanya &quot;Actions&quot;.</li>
<li>Selecciona &quot;Set up a workflow yourself&quot; per crear un nou fitxer de workflow.</li>
</ol>
<h4>Pas 3: Crear el Fitxer de Workflow</h4>
<p>Crea un fitxer anomenat <code>flutter.yml</code> dins la carpeta <code>.github/workflows/</code> del teu repositori amb el següent contingut:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogRmx1dHRlciBDSQoKb246CiAgcHVzaDoKICAgIGJyYW5jaGVzOgogICAgICAtIG1haW4KICBwdWxsX3JlcXVlc3Q6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSBuYW1lOiBDaGVja291dCByZXBvc2l0b3J5CiAgICAgIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKCiAgICAtIG5hbWU6IFNldCB1cCBGbHV0dGVyCiAgICAgIHVzZXM6IHN1Ym9zaXRvL2ZsdXR0ZXItYWN0aW9uQHYxCiAgICAgIHdpdGg6CiAgICAgICAgZmx1dHRlci12ZXJzaW9uOiAnMi41LjMnCgogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IGZsdXR0ZXIgcHViIGdldAoKICAgIC0gbmFtZTogUnVuIHRlc3RzCiAgICAgIHJ1bjogZmx1dHRlciB0ZXN0CgogICAgLSBuYW1lOiBCdWlsZCBBUEsKICAgICAgcnVuOiBmbHV0dGVyIGJ1aWxkIGFwayAtLXJlbGVhc2UKCiAgICAtIG5hbWU6IFVwbG9hZCBBUEsKICAgICAgdXNlczogYWN0aW9ucy91cGxvYWQtYXJ0aWZhY3RAdjIKICAgICAgd2l0aDoKICAgICAgICBuYW1lOiBhcHAtcmVsZWFzZS5hcGsKICAgICAgICBwYXRoOiBidWlsZC9hcHAvb3V0cHV0cy9mbHV0dGVyLWFway9hcHAtcmVsZWFzZS5hcGs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: Flutter CI

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Flutter
      uses: subosito/flutter-action@v1
      with:
        flutter-version: '2.5.3'

    - name: Install dependencies
      run: flutter pub get

    - name: Run tests
      run: flutter test

    - name: Build APK
      run: flutter build apk --release

    - name: Upload APK
      uses: actions/upload-artifact@v2
      with:
        name: app-release.apk
        path: build/app/outputs/flutter-apk/app-release.apk</pre></div><div class='content'><h4>Explicació del Fitxer de Workflow</h4>
<ul>
<li><strong>name</strong>: Nom del workflow.</li>
<li><strong>on</strong>: Esdeveniments que desencadenen el workflow (push i pull_request a la branca <code>main</code>).</li>
<li><strong>jobs</strong>: Definició dels treballs a realitzar.
<ul>
<li><strong>runs-on</strong>: Sistema operatiu on s'executarà el treball (ubuntu-latest).</li>
<li><strong>steps</strong>: Passos del treball.
<ul>
<li><strong>Checkout repository</strong>: Clona el repositori.</li>
<li><strong>Set up Flutter</strong>: Configura Flutter amb la versió especificada.</li>
<li><strong>Install dependencies</strong>: Instal·la les dependències de Flutter.</li>
<li><strong>Run tests</strong>: Executa les proves de Flutter.</li>
<li><strong>Build APK</strong>: Construeix l'APK de l'aplicació en mode release.</li>
<li><strong>Upload APK</strong>: Puja l'APK construït com a artefacte.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h2><p>Desplegament a les Botigues d'Aplicacions</p>
</h2>
<div class='content'><h4>Desplegament a Google Play Store</h4>
<p>Per desplegar l'aplicació a Google Play Store, pots utilitzar eines com <code>fastlane</code> per automatitzar el procés. A continuació es mostra un exemple bàsic de configuració de <code>fastlane</code>:</p>
<ol>
<li>
<p>Instal·la <code>fastlane</code>:</p>
<pre><code class="language-sh">gem install fastlane
</code></pre>
</li>
<li>
<p>Inicialitza <code>fastlane</code> al teu projecte:</p>
<pre><code class="language-sh">fastlane init
</code></pre>
</li>
<li>
<p>Configura el fitxer <code>Fastfile</code> per incloure una lane per a la distribució:</p>
<pre><code class="language-ruby">lane :deploy do
  gradle(
    task: &quot;assemble&quot;,
    build_type: &quot;Release&quot;
  )
  upload_to_play_store(
    track: 'production',
    release_status: 'completed'
  )
end
</code></pre>
</li>
<li>
<p>Executa la lane de deploy:</p>
<pre><code class="language-sh">fastlane deploy
</code></pre>
</li>
</ol>
</div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Objectiu</p>
</h2>
<div class='content'><p>Configurar un pipeline CI/CD per a una aplicació Flutter utilitzant GitHub Actions.</p>
</div><h2><p>Passos</p>
</h2>
<div class='content'><ol>
<li>Crea un nou repositori a GitHub i puja el codi de la teva aplicació Flutter.</li>
<li>Configura GitHub Actions seguint els passos descrits anteriorment.</li>
<li>Realitza un commit i push al repositori per veure el pipeline en acció.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'><p>Segueix els passos detallats a la secció &quot;Exemple amb GitHub Actions&quot; per configurar el pipeline CI/CD.</p>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquest tema, hem après els conceptes bàsics de CI/CD i com configurar un pipeline CI/CD per a una aplicació Flutter utilitzant GitHub Actions. També hem vist com desplegar l'aplicació a Google Play Store utilitzant <code>fastlane</code>. La integració i desplegament continu permeten automatitzar el procés de construcció, prova i desplegament, millorant l'eficiència i la qualitat del desenvolupament de programari.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-03-building-for-android' title="Construcció per a Android">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-05-maintaining-and-updating' title="Manteniment i Actualització de la Teva Aplicació">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
