<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/09-02-unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/09-02-unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/09-02-unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/flutter/09-02-unit-testing" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/flutter/09-02-unit-testing" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introducció a les Proves">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves Unitàries</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-widget-testing' title="Proves de Widgets">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Les proves unitàries són una part fonamental del desenvolupament de programari, ja que permeten verificar que les unitats individuals de codi funcionin correctament. En el context de Flutter, les proves unitàries es fan per assegurar que les funcions i mètodes del nostre codi Dart es comportin com s'espera.</p>
</div><h1>Objectius d'aquest tema</h1>
<div class='content'><ul>
<li>Comprendre què són les proves unitàries.</li>
<li>Aprendre a configurar un entorn de proves unitàries en Flutter.</li>
<li>Escriure i executar proves unitàries bàsiques.</li>
<li>Conèixer les bones pràctiques per a les proves unitàries.</li>
</ul>
</div><h1>Què són les Proves Unitàries?</h1>
<div class='content'><p>Les proves unitàries són proves automàtiques que verifiquen el comportament d'una unitat de codi, com ara una funció o un mètode. Aquestes proves es centren en una part específica del codi i comproven que funcioni correctament en diferents situacions.</p>
</div><h2>Beneficis de les Proves Unitàries</h2>
<div class='content'><ul>
<li><strong>Detecció primerenca d'errors:</strong> Les proves unitàries permeten detectar errors en fases primerenques del desenvolupament.</li>
<li><strong>Facilitat de manteniment:</strong> Amb proves unitàries, és més fàcil refactoritzar el codi sense introduir nous errors.</li>
<li><strong>Documentació:</strong> Les proves unitàries poden servir com a documentació del comportament esperat del codi.</li>
</ul>
</div><h1>Configuració de l'Entorn de Proves</h1>
<div class='content'><p>Flutter proporciona un paquet anomenat <code>test</code> que facilita l'escriptura i execució de proves unitàries. Per començar, hem d'afegir aquest paquet al nostre projecte.</p>
</div><h2>Afegir el Paquet de Proves</h2>
<div class='content'><ol>
<li>Obre el fitxer <code>pubspec.yaml</code> del teu projecte Flutter.</li>
<li>Afegeix la dependència del paquet <code>test</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGV2X2RlcGVuZGVuY2llczoKICB0ZXN0OiBeMS4xNi4w"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dev_dependencies:
  test: ^1.16.0</pre></div><div class='content'><ol start="3">
<li>Executa <code>flutter pub get</code> per instal·lar la dependència.</li>
</ol>
</div><h1>Escriure la Primera Prova Unitària</h1>
<div class='content'><p>Anem a escriure una prova unitària per a una funció simple que suma dos nombres.</p>
</div><h2>Exemple de Funció a Provar</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IHN1bWEoaW50IGEsIGludCBiKSB7CiAgcmV0dXJuIGEgKyBiOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int suma(int a, int b) {
  return a + b;
}</pre></div><div class='content'></div><h2>Crear un Fitxer de Proves</h2>
<div class='content'><ol>
<li>Crea un fitxer nou dins del directori <code>test</code> del teu projecte, per exemple, <code>test/suma_test.dart</code>.</li>
<li>Importa el paquet <code>test</code> i la funció que vols provar:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmVsX3RldV9wcm9qZWN0ZS9zdW1hLmRhcnQnOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import 'package:el_teu_projecte/suma.dart';</pre></div><div class='content'></div><h2>Escriure la Prova</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIHRlc3QoJ3N1bWEgZGUgZG9zIG5vbWJyZXMnLCAoKSB7CiAgICBleHBlY3Qoc3VtYSgyLCAzKSwgNSk7CiAgICBleHBlY3Qoc3VtYSgtMSwgMSksIDApOwogICAgZXhwZWN0KHN1bWEoMCwgMCksIDApOwogIH0pOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  test('suma de dos nombres', () {
    expect(suma(2, 3), 5);
    expect(suma(-1, 1), 0);
    expect(suma(0, 0), 0);
  });
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><code>test</code>: Defineix una prova unitària. El primer argument és una descripció de la prova, i el segon és una funció que conté la lògica de la prova.</li>
<li><code>expect</code>: Comprova que el resultat de la funció <code>suma</code> sigui igual al valor esperat.</li>
</ul>
</div><h1>Executar les Proves</h1>
<div class='content'><p>Per executar les proves, pots utilitzar la línia de comandes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciB0ZXN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter test</pre></div><div class='content'><p>Això executarà totes les proves dins del directori <code>test</code> i mostrarà els resultats a la consola.</p>
</div><h1>Bones Pràctiques per a les Proves Unitàries</h1>
<div class='content'><ul>
<li><strong>Proves Independents:</strong> Cada prova ha de ser independent i no ha de dependre de l'estat d'altres proves.</li>
<li><strong>Cobertura de Codi:</strong> Intenta cobrir el màxim de codi possible amb les proves, incloent-hi casos límit i situacions excepcionals.</li>
<li><strong>Noms Descriptius:</strong> Utilitza noms descriptius per a les proves per facilitar la comprensió del que estan provant.</li>
<li><strong>Refactorització:</strong> Refactoritza les proves per evitar duplicació de codi i mantenir-les netes i llegibles.</li>
</ul>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Exercici</h2>
<div class='content'><p>Escriu una prova unitària per a una funció que multiplica dos nombres.</p>
<h4>Funció a Provar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IG11bHRpcGxpY2EoaW50IGEsIGludCBiKSB7CiAgcmV0dXJuIGEgKiBiOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int multiplica(int a, int b) {
  return a * b;
}</pre></div><div class='content'><h4>Prova Unitària</h4>
<ol>
<li>Crea un fitxer nou dins del directori <code>test</code>, per exemple, <code>test/multiplica_test.dart</code>.</li>
<li>Escriu la prova unitària:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmVsX3RldV9wcm9qZWN0ZS9tdWx0aXBsaWNhLmRhcnQnOwoKdm9pZCBtYWluKCkgewogIHRlc3QoJ211bHRpcGxpY2FjacOzIGRlIGRvcyBub21icmVzJywgKCkgewogICAgZXhwZWN0KG11bHRpcGxpY2EoMiwgMyksIDYpOwogICAgZXhwZWN0KG11bHRpcGxpY2EoLTEsIDEpLCAtMSk7CiAgICBleHBlY3QobXVsdGlwbGljYSgwLCA1KSwgMCk7CiAgfSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import 'package:el_teu_projecte/multiplica.dart';

void main() {
  test('multiplicaci&oacute; de dos nombres', () {
    expect(multiplica(2, 3), 6);
    expect(multiplica(-1, 1), -1);
    expect(multiplica(0, 5), 0);
  });
}</pre></div><div class='content'></div><h2>Solució</h2>
<div class='content'><p>La solució hauria de ser similar a la prova unitària escrita anteriorment per a la funció <code>suma</code>.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries són essencials per assegurar la qualitat del codi i facilitar el manteniment del projecte. En aquest tema, hem après a configurar l'entorn de proves, escriure i executar proves unitàries bàsiques, i seguir bones pràctiques per a les proves unitàries. Amb aquestes habilitats, estaràs millor preparat per desenvolupar aplicacions Flutter robustes i fiables.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introducció a les Proves">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-widget-testing' title="Proves de Widgets">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
