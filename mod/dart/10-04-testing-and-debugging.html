<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Depuració</title>

    <link rel="alternate" href="https://campusempresa.com/mod/dart/10-04-testing-and-debugging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/dart/10-04-testing-and-debugging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/dart/10-04-testing-and-debugging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/dart/10-04-testing-and-debugging" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/dart/10-04-testing-and-debugging" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-03-implementing-features' title="Implementació de Funcionalitats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves i Depuració</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-05-project-submission' title="Lliurament del Projecte">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com assegurar-nos que el nostre codi Dart funciona correctament mitjançant proves i depuració. Aquest procés és essencial per garantir la qualitat del programari i detectar errors abans que arribin als usuaris finals.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><a href="#introducció-a-les-proves">Introducció a les Proves</a></li>
<li><a href="#tipus-de-proves">Tipus de Proves</a></li>
<li><a href="#escriptura-de-proves-unitàries">Escriptura de Proves Unitàries</a></li>
<li><a href="#escriptura-de-proves-dintegració">Escriptura de Proves d'Integració</a></li>
<li><a href="#depuració-del-codi">Depuració del Codi</a></li>
<li><a href="#eines-de-depuració">Eines de Depuració</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
</ol>
</div><h1>Introducció a les Proves</h1>
<div class='content'><p>Les proves són una part fonamental del desenvolupament de programari. Ens ajuden a verificar que el nostre codi funciona com s'espera i a detectar errors abans que es converteixin en problemes més grans.</p>
</div><h2>Beneficis de les Proves</h2>
<div class='content'><ul>
<li><strong>Detecció primerenca d'errors:</strong> Les proves permeten identificar errors en les primeres fases del desenvolupament.</li>
<li><strong>Millora de la qualitat del codi:</strong> Escriure proves fomenta la creació de codi més net i mantenible.</li>
<li><strong>Facilitat de refactorització:</strong> Amb proves adequades, podem refactoritzar el codi amb confiança, sabent que les proves ens alertaran si alguna cosa es trenca.</li>
</ul>
</div><h1>Tipus de Proves</h1>
<div class='content'><p>Hi ha diversos tipus de proves que podem utilitzar en el desenvolupament de programari:</p>
<ol>
<li><strong>Proves Unitàries:</strong> Verifiquen el funcionament de components individuals del codi, com ara funcions o mètodes.</li>
<li><strong>Proves d'Integració:</strong> Verifiquen que diferents components del sistema funcionen correctament junts.</li>
<li><strong>Proves de Sistema:</strong> Verifiquen el sistema complet per assegurar-se que compleix els requisits especificats.</li>
<li><strong>Proves d'Acceptació:</strong> Verifiquen que el sistema compleix les necessitats i expectatives dels usuaris finals.</li>
</ol>
</div><h1>Escriptura de Proves Unitàries</h1>
<div class='content'><p>Les proves unitàries són essencials per assegurar-nos que cada part del nostre codi funciona correctament de manera aïllada. En Dart, podem utilitzar el paquet <code>test</code> per escriure i executar proves unitàries.</p>
</div><h2>Instal·lació del Paquet `test`</h2>
<div class='content'><p>Per començar a escriure proves unitàries, primer hem d'instal·lar el paquet <code>test</code>. Afegim la següent dependència al nostre fitxer <code>pubspec.yaml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGV2X2RlcGVuZGVuY2llczoKICB0ZXN0OiBeMS4xNi4w"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dev_dependencies:
  test: ^1.16.0</pre></div><div class='content'><p>Després, executem <code>pub get</code> per instal·lar el paquet.</p>
</div><h2>Exemple de Prova Unitària</h2>
<div class='content'><p>A continuació, es mostra un exemple de com escriure una prova unitària en Dart:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKCmludCBzdW1hKGludCBhLCBpbnQgYikgewogIHJldHVybiBhICsgYjsKfQoKdm9pZCBtYWluKCkgewogIHRlc3QoJ0xhIGZ1bmNpw7Mgc3VtYSBoYSBkZSByZXRvcm5hciBsYSBzdW1hIGRlIGRvcyBub21icmVzJywgKCkgewogICAgZXhwZWN0KHN1bWEoMiwgMyksIGVxdWFscyg1KSk7CiAgfSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';

int suma(int a, int b) {
  return a + b;
}

void main() {
  test('La funci&oacute; suma ha de retornar la suma de dos nombres', () {
    expect(suma(2, 3), equals(5));
  });
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>Importació del paquet <code>test</code>:</strong> Importem el paquet <code>test</code> per utilitzar les seves funcions.</li>
<li><strong>Funció <code>suma</code>:</strong> Definim una funció simple que suma dos nombres.</li>
<li><strong>Funció <code>main</code>:</strong> Definim una prova que verifica que la funció <code>suma</code> retorna el resultat correcte.</li>
</ul>
</div><h1>Escriptura de Proves d'Integració</h1>
<div class='content'><p>Les proves d'integració verifiquen que diferents components del sistema funcionen correctament junts. Aquestes proves són més complexes que les proves unitàries, però són igualment importants.</p>
</div><h2>Exemple de Prova d'Integració</h2>
<div class='content'><p>A continuació, es mostra un exemple de com escriure una prova d'integració en Dart:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKCmNsYXNzIENhbGN1bGFkb3JhIHsKICBpbnQgc3VtYShpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiBhICsgYjsKICB9CgogIGludCByZXN0YShpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiBhIC0gYjsKICB9Cn0KCnZvaWQgbWFpbigpIHsKICBncm91cCgnUHJvdmVzIGRcJ2ludGVncmFjacOzIGRlIGxhIGNsYXNzZSBDYWxjdWxhZG9yYScsICgpIHsKICAgIGZpbmFsIGNhbGN1bGFkb3JhID0gQ2FsY3VsYWRvcmEoKTsKCiAgICB0ZXN0KCdMYSBmdW5jacOzIHN1bWEgaGEgZGUgcmV0b3JuYXIgbGEgc3VtYSBkZSBkb3Mgbm9tYnJlcycsICgpIHsKICAgICAgZXhwZWN0KGNhbGN1bGFkb3JhLnN1bWEoMiwgMyksIGVxdWFscyg1KSk7CiAgICB9KTsKCiAgICB0ZXN0KCdMYSBmdW5jacOzIHJlc3RhIGhhIGRlIHJldG9ybmFyIGxhIHJlc3RhIGRlIGRvcyBub21icmVzJywgKCkgewogICAgICBleHBlY3QoY2FsY3VsYWRvcmEucmVzdGEoNSwgMyksIGVxdWFscygyKSk7CiAgICB9KTsKICB9KTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';

class Calculadora {
  int suma(int a, int b) {
    return a + b;
  }

  int resta(int a, int b) {
    return a - b;
  }
}

void main() {
  group('Proves d\'integraci&oacute; de la classe Calculadora', () {
    final calculadora = Calculadora();

    test('La funci&oacute; suma ha de retornar la suma de dos nombres', () {
      expect(calculadora.suma(2, 3), equals(5));
    });

    test('La funci&oacute; resta ha de retornar la resta de dos nombres', () {
      expect(calculadora.resta(5, 3), equals(2));
    });
  });
}</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>Classe <code>Calculadora</code>:</strong> Definim una classe amb dues funcions: <code>suma</code> i <code>resta</code>.</li>
<li><strong>Funció <code>main</code>:</strong> Definim un grup de proves que verifiquen el funcionament de la classe <code>Calculadora</code>.</li>
</ul>
</div><h1>Depuració del Codi</h1>
<div class='content'><p>La depuració és el procés de trobar i corregir errors en el codi. Dart proporciona diverses eines per ajudar-nos a depurar el nostre codi de manera eficient.</p>
</div><h2>Eines de Depuració</h2>
<div class='content'><ol>
<li><strong>print:</strong> La funció <code>print</code> és una eina simple però efectiva per depurar el codi. Podem utilitzar-la per imprimir valors i missatges en la consola.</li>
<li><strong>Debugger:</strong> Dart inclou un depurador integrat que ens permet establir punts de ruptura, inspeccionar variables i executar el codi pas a pas.</li>
<li><strong>IDE:</strong> La majoria dels entorns de desenvolupament integrats (IDE) com Visual Studio Code i IntelliJ IDEA tenen suport per a la depuració de codi Dart.</li>
</ol>
</div><h2>Exemple de Depuració amb `print`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIGludCBhID0gNTsKICBpbnQgYiA9IDM7CiAgaW50IHJlc3VsdGF0ID0gc3VtYShhLCBiKTsKICBwcmludCgnRWwgcmVzdWx0YXQgZGUgbGEgc3VtYSDDqXM6ICRyZXN1bHRhdCcpOwp9CgppbnQgc3VtYShpbnQgYSwgaW50IGIpIHsKICByZXR1cm4gYSArIGI7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  int a = 5;
  int b = 3;
  int resultat = suma(a, b);
  print('El resultat de la suma &eacute;s: $resultat');
}

int suma(int a, int b) {
  return a + b;
}</pre></div><div class='content'></div><h2>Exemple de Depuració amb el Depurador</h2>
<div class='content'><ol>
<li><strong>Establir un punt de ruptura:</strong> Col·loquem un punt de ruptura en la línia on volem aturar l'execució del codi.</li>
<li><strong>Executar el codi en mode de depuració:</strong> Executem el codi en mode de depuració des de l'IDE.</li>
<li><strong>Inspeccionar variables:</strong> Utilitzem el depurador per inspeccionar el valor de les variables i seguir l'execució del codi pas a pas.</li>
</ol>
</div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Escriure Proves Unitàries</h2>
<div class='content'><p>Escriu proves unitàries per a la següent funció que calcula el factorial d'un nombre:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IGZhY3RvcmlhbChpbnQgbikgewogIGlmIChuIDw9IDEpIHJldHVybiAxOwogIHJldHVybiBuICogZmFjdG9yaWFsKG4gLSAxKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int factorial(int n) {
  if (n &lt;= 1) return 1;
  return n * factorial(n - 1);
}</pre></div><div class='content'></div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKCmludCBmYWN0b3JpYWwoaW50IG4pIHsKICBpZiAobiA8PSAxKSByZXR1cm4gMTsKICByZXR1cm4gbiAqIGZhY3RvcmlhbChuIC0gMSk7Cn0KCnZvaWQgbWFpbigpIHsKICB0ZXN0KCdMYSBmdW5jacOzIGZhY3RvcmlhbCBoYSBkZSByZXRvcm5hciBlbCBmYWN0b3JpYWwgZFwndW4gbm9tYnJlJywgKCkgewogICAgZXhwZWN0KGZhY3RvcmlhbCg1KSwgZXF1YWxzKDEyMCkpOwogICAgZXhwZWN0KGZhY3RvcmlhbCgwKSwgZXF1YWxzKDEpKTsKICAgIGV4cGVjdChmYWN0b3JpYWwoMSksIGVxdWFscygxKSk7CiAgfSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';

int factorial(int n) {
  if (n &lt;= 1) return 1;
  return n * factorial(n - 1);
}

void main() {
  test('La funci&oacute; factorial ha de retornar el factorial d\'un nombre', () {
    expect(factorial(5), equals(120));
    expect(factorial(0), equals(1));
    expect(factorial(1), equals(1));
  });
}</pre></div><div class='content'></div><h2>Exercici 2: Depurar el Codi</h2>
<div class='content'><p>Depura el següent codi per trobar i corregir l'error:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIGludCBhID0gNTsKICBpbnQgYiA9IDM7CiAgaW50IHJlc3VsdGF0ID0gcmVzdGEoYSwgYik7CiAgcHJpbnQoJ0VsIHJlc3VsdGF0IGRlIGxhIHJlc3RhIMOpczogJHJlc3VsdGF0Jyk7Cn0KCmludCByZXN0YShpbnQgYSwgaW50IGIpIHsKICByZXR1cm4gYSArIGI7IC8vIEVycm9yOiBoYXVyaWEgZGUgc2VyIGEgLSBiCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  int a = 5;
  int b = 3;
  int resultat = resta(a, b);
  print('El resultat de la resta &eacute;s: $resultat');
}

int resta(int a, int b) {
  return a + b; // Error: hauria de ser a - b
}</pre></div><div class='content'></div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIGludCBhID0gNTsKICBpbnQgYiA9IDM7CiAgaW50IHJlc3VsdGF0ID0gcmVzdGEoYSwgYik7CiAgcHJpbnQoJ0VsIHJlc3VsdGF0IGRlIGxhIHJlc3RhIMOpczogJHJlc3VsdGF0Jyk7Cn0KCmludCByZXN0YShpbnQgYSwgaW50IGIpIHsKICByZXR1cm4gYSAtIGI7IC8vIENvcnJlY2Npw7M6IGFyYSByZXN0YSBjb3JyZWN0YW1lbnQKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  int a = 5;
  int b = 3;
  int resultat = resta(a, b);
  print('El resultat de la resta &eacute;s: $resultat');
}

int resta(int a, int b) {
  return a - b; // Correcci&oacute;: ara resta correctament
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem après la importància de les proves i la depuració en el desenvolupament de programari. Hem vist com escriure proves unitàries i d'integració, així com utilitzar eines de depuració per trobar i corregir errors en el nostre codi. Aquestes habilitats són essencials per garantir la qualitat i la fiabilitat del nostre programari.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-03-implementing-features' title="Implementació de Funcionalitats">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-05-project-submission' title="Lliurament del Projecte">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
