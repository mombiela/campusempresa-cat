<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentències SQL en PL/SQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/plsql/03-01-sql-statements" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/plsql/03-01-sql-statements" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/plsql/03-01-sql-statements" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/plsql/03-01-sql-statements" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/plsql/03-01-sql-statements" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-exception-handling' title="Gestió d'excepcions">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Sentències SQL en PL/SQL</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-implicit-explicit-cursors' title="Cursors implícits i explícits">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com utilitzar les sentències SQL dins de PL/SQL. Això inclou la selecció, inserció, actualització i eliminació de dades en una base de dades Oracle. També veurem com combinar SQL amb PL/SQL per crear aplicacions més potents i flexibles.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><a href="#introducció-a-les-sentències-sql-en-plsql">Introducció a les sentències SQL en PL/SQL</a></li>
<li><a href="#select-en-plsql">SELECT en PL/SQL</a></li>
<li><a href="#insert-en-plsql">INSERT en PL/SQL</a></li>
<li><a href="#update-en-plsql">UPDATE en PL/SQL</a></li>
<li><a href="#delete-en-plsql">DELETE en PL/SQL</a></li>
<li><a href="#exercicis-pràctics">Exercicis pràctics</a></li>
<li><a href="#conclusió">Conclusió</a></li>
</ol>
</div><h1>Introducció a les sentències SQL en PL/SQL</h1>
<div class='content'><p>PL/SQL és una extensió del llenguatge SQL que permet la programació procedimental dins d'una base de dades Oracle. Això significa que podem utilitzar totes les sentències SQL estàndard dins dels blocs PL/SQL per manipular dades.</p>
</div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>DML (Data Manipulation Language)</strong>: Inclou les sentències SQL per manipular dades, com SELECT, INSERT, UPDATE i DELETE.</li>
<li><strong>DQL (Data Query Language)</strong>: Inclou la sentència SELECT per recuperar dades.</li>
<li><strong>DCL (Data Control Language)</strong>: Inclou les sentències GRANT i REVOKE per controlar l'accés a les dades.</li>
<li><strong>TCL (Transaction Control Language)</strong>: Inclou les sentències COMMIT, ROLLBACK i SAVEPOINT per gestionar transaccions.</li>
</ul>
</div><h1>SELECT en PL/SQL</h1>
<div class='content'><p>La sentència SELECT s'utilitza per recuperar dades d'una base de dades. En PL/SQL, podem utilitzar SELECT per assignar valors a variables o per processar resultats dins d'un bucle.</p>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAgdl9lbXBsb3llZV9uYW1lIFZBUkNIQVIyKDUwKTsKQkVHSU4KICAgIFNFTEVDVCBmaXJzdF9uYW1lIHx8ICcgJyB8fCBsYXN0X25hbWUKICAgIElOVE8gdl9lbXBsb3llZV9uYW1lCiAgICBGUk9NIGVtcGxveWVlcwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDA7CgogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ0VtcGxveWVlIE5hbWU6ICcgfHwgdl9lbXBsb3llZV9uYW1lKTsKRU5EOwov"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
    v_employee_name VARCHAR2(50);
BEGIN
    SELECT first_name || ' ' || last_name
    INTO v_employee_name
    FROM employees
    WHERE employee_id = 100;

    DBMS_OUTPUT.PUT_LINE('Employee Name: ' || v_employee_name);
END;
/</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><strong>DECLARE</strong>: Declarem una variable <code>v_employee_name</code> per emmagatzemar el nom de l'empleat.</li>
<li><strong>BEGIN</strong>: Iniciem el bloc PL/SQL.</li>
<li><strong>SELECT INTO</strong>: Recuperem el nom de l'empleat amb <code>employee_id</code> 100 i l'assignem a <code>v_employee_name</code>.</li>
<li><strong>DBMS_OUTPUT.PUT_LINE</strong>: Mostrem el nom de l'empleat.</li>
</ul>
</div><h1>INSERT en PL/SQL</h1>
<div class='content'><p>La sentència INSERT s'utilitza per afegir noves files a una taula.</p>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIElOU0VSVCBJTlRPIGVtcGxveWVlcyAoZW1wbG95ZWVfaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGhpcmVfZGF0ZSwgam9iX2lkKQogICAgVkFMVUVTICgyMDcsICdKb2huJywgJ0RvZScsICdqZG9lQGV4YW1wbGUuY29tJywgU1lTREFURSwgJ0lUX1BST0cnKTsKCiAgICBDT01NSVQ7CkVORDsKLw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    INSERT INTO employees (employee_id, first_name, last_name, email, hire_date, job_id)
    VALUES (207, 'John', 'Doe', 'jdoe@example.com', SYSDATE, 'IT_PROG');

    COMMIT;
END;
/</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><strong>INSERT INTO</strong>: Afegim una nova fila a la taula <code>employees</code>.</li>
<li><strong>VALUES</strong>: Especifiquem els valors per a cada columna.</li>
<li><strong>COMMIT</strong>: Confirmem la transacció per fer permanents els canvis.</li>
</ul>
</div><h1>UPDATE en PL/SQL</h1>
<div class='content'><p>La sentència UPDATE s'utilitza per modificar dades existents en una taula.</p>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBlbWFpbCA9ICdqb2huLmRvZUBleGFtcGxlLmNvbScKICAgIFdIRVJFIGVtcGxveWVlX2lkID0gMjA3OwoKICAgIENPTU1JVDsKRU5EOwov"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET email = 'john.doe@example.com'
    WHERE employee_id = 207;

    COMMIT;
END;
/</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><strong>UPDATE</strong>: Modifiquem la taula <code>employees</code>.</li>
<li><strong>SET</strong>: Especifiquem la nova adreça de correu electrònic.</li>
<li><strong>WHERE</strong>: Identifiquem la fila a actualitzar.</li>
<li><strong>COMMIT</strong>: Confirmem la transacció.</li>
</ul>
</div><h1>DELETE en PL/SQL</h1>
<div class='content'><p>La sentència DELETE s'utilitza per eliminar files d'una taula.</p>
</div><h2>Exemple:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIERFTEVURSBGUk9NIGVtcGxveWVlcwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAyMDc7CgogICAgQ09NTUlUOwpFTkQ7Ci8="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    DELETE FROM employees
    WHERE employee_id = 207;

    COMMIT;
END;
/</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><strong>DELETE FROM</strong>: Eliminem files de la taula <code>employees</code>.</li>
<li><strong>WHERE</strong>: Identifiquem la fila a eliminar.</li>
<li><strong>COMMIT</strong>: Confirmem la transacció.</li>
</ul>
</div><h1>Exercicis pràctics</h1>
<div class='content'></div><h2>Exercici 1: Recuperar dades</h2>
<div class='content'><p>Escriu un bloc PL/SQL que recuperi el nom i el salari d'un empleat amb <code>employee_id</code> 101 i mostri els resultats.</p>
</div><h2>Solució:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAgdl9lbXBsb3llZV9uYW1lIFZBUkNIQVIyKDUwKTsKICAgIHZfc2FsYXJ5IE5VTUJFUjsKQkVHSU4KICAgIFNFTEVDVCBmaXJzdF9uYW1lIHx8ICcgJyB8fCBsYXN0X25hbWUsIHNhbGFyeQogICAgSU5UTyB2X2VtcGxveWVlX25hbWUsIHZfc2FsYXJ5CiAgICBGUk9NIGVtcGxveWVlcwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDE7CgogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ0VtcGxveWVlIE5hbWU6ICcgfHwgdl9lbXBsb3llZV9uYW1lKTsKICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdTYWxhcnk6ICcgfHwgdl9zYWxhcnkpOwpFTkQ7Ci8="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
    v_employee_name VARCHAR2(50);
    v_salary NUMBER;
BEGIN
    SELECT first_name || ' ' || last_name, salary
    INTO v_employee_name, v_salary
    FROM employees
    WHERE employee_id = 101;

    DBMS_OUTPUT.PUT_LINE('Employee Name: ' || v_employee_name);
    DBMS_OUTPUT.PUT_LINE('Salary: ' || v_salary);
END;
/</pre></div><div class='content'></div><h2>Exercici 2: Inserir dades</h2>
<div class='content'><p>Escriu un bloc PL/SQL que afegeixi un nou empleat a la taula <code>employees</code>.</p>
</div><h2>Solució:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIElOU0VSVCBJTlRPIGVtcGxveWVlcyAoZW1wbG95ZWVfaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGhpcmVfZGF0ZSwgam9iX2lkKQogICAgVkFMVUVTICgyMDgsICdKYW5lJywgJ1NtaXRoJywgJ2pzbWl0aEBleGFtcGxlLmNvbScsIFNZU0RBVEUsICdIUl9SRVAnKTsKCiAgICBDT01NSVQ7CkVORDsKLw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    INSERT INTO employees (employee_id, first_name, last_name, email, hire_date, job_id)
    VALUES (208, 'Jane', 'Smith', 'jsmith@example.com', SYSDATE, 'HR_REP');

    COMMIT;
END;
/</pre></div><div class='content'></div><h2>Exercici 3: Actualitzar dades</h2>
<div class='content'><p>Escriu un bloc PL/SQL que actualitzi el salari d'un empleat amb <code>employee_id</code> 101 a 6000.</p>
</div><h2>Solució:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBzYWxhcnkgPSA2MDAwCiAgICBXSEVSRSBlbXBsb3llZV9pZCA9IDEwMTsKCiAgICBDT01NSVQ7CkVORDsKLw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET salary = 6000
    WHERE employee_id = 101;

    COMMIT;
END;
/</pre></div><div class='content'></div><h2>Exercici 4: Eliminar dades</h2>
<div class='content'><p>Escriu un bloc PL/SQL que elimini un empleat amb <code>employee_id</code> 208.</p>
</div><h2>Solució:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIERFTEVURSBGUk9NIGVtcGxveWVlcwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAyMDg7CgogICAgQ09NTUlUOwpFTkQ7Ci8="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    DELETE FROM employees
    WHERE employee_id = 208;

    COMMIT;
END;
/</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après com utilitzar les sentències SQL dins de PL/SQL per manipular dades en una base de dades Oracle. Hem vist com utilitzar les sentències SELECT, INSERT, UPDATE i DELETE, i hem practicat amb alguns exercicis. Aquestes habilitats són fonamentals per treballar amb PL/SQL i crear aplicacions robustes i eficients. En el proper tema, explorarem els cursors implícits i explícits en PL/SQL.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-exception-handling' title="Gestió d'excepcions">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-implicit-explicit-cursors' title="Cursors implícits i explícits">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
