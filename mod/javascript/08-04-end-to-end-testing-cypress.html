<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves de Cap a Cap amb Cypress</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/08-04-end-to-end-testing-cypress" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/08-04-end-to-end-testing-cypress" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/08-04-end-to-end-testing-cypress" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/javascript/08-04-end-to-end-testing-cypress" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/javascript/08-04-end-to-end-testing-cypress" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-integration-testing' title="Proves d'Integració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves de Cap a Cap amb Cypress</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-optimizing-performance' title="Optimització del Rendiment de JavaScript">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducció</p>
</h1>
<div class='content'><p>Cypress és una eina de proves de cap a cap (end-to-end) que permet als desenvolupadors i testers automatitzar proves per a aplicacions web. És coneguda per la seva facilitat d'ús, velocitat i capacitat de depuració. En aquesta secció, aprendrem a configurar Cypress, escriure proves bàsiques i avançades, i executar-les.</p>
</div><h1><p>Configuració de Cypress</p>
</h1>
<div class='content'></div><h2><p>Instal·lació</p>
</h2>
<div class='content'><p>Per començar a utilitzar Cypress, primer hem d'instal·lar-lo al nostre projecte. Assegura't de tenir Node.js instal·lat i segueix aquests passos:</p>
<ol>
<li>
<p><strong>Inicialitza el teu projecte amb npm (si no ho has fet ja):</strong></p>
<pre><code class="language-bash">npm init -y
</code></pre>
</li>
<li>
<p><strong>Instal·la Cypress com a dependència de desenvolupament:</strong></p>
<pre><code class="language-bash">npm install cypress --save-dev
</code></pre>
</li>
<li>
<p><strong>Obre Cypress per primera vegada:</strong></p>
<pre><code class="language-bash">npx cypress open
</code></pre>
</li>
</ol>
<p>Això crearà una estructura de directoris per a Cypress dins del teu projecte.</p>
</div><h2><p>Estructura del Projecte Cypress</p>
</h2>
<div class='content'><p>Un cop Cypress s'ha obert, veuràs una estructura de directoris com aquesta:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3lwcmVzcy8KICDilJzilIDilIAgZml4dHVyZXMvCiAg4pSc4pSA4pSAIGludGVncmF0aW9uLwogIOKUnOKUgOKUgCBwbHVnaW5zLwogIOKUlOKUgOKUgCBzdXBwb3J0LwpjeXByZXNzLmpzb24="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cypress/
  ├── fixtures/
  ├── integration/
  ├── plugins/
  └── support/
cypress.json</pre></div><div class='content'><ul>
<li><strong>fixtures/</strong>: Conté dades de prova que es poden utilitzar en les proves.</li>
<li><strong>integration/</strong>: Conté els fitxers de proves.</li>
<li><strong>plugins/</strong>: Conté plugins que poden modificar o ampliar el comportament de Cypress.</li>
<li><strong>support/</strong>: Conté scripts globals que s'executen abans de cada prova.</li>
</ul>
</div><h1><p>Escriure la Primera Prova</p>
</h1>
<div class='content'></div><h2><p>Exemple Bàsic</p>
</h2>
<div class='content'><p>Crearem una prova senzilla que verifiqui que la pàgina principal del nostre lloc web es carrega correctament.</p>
<ol>
<li>
<p><strong>Crea un fitxer de prova dins del directori <code>integration</code></strong>:</p>
<pre><code class="language-bash">touch cypress/integration/homepage.spec.js
</code></pre>
</li>
<li>
<p><strong>Afegeix el següent codi al fitxer <code>homepage.spec.js</code></strong>:</p>
<pre><code class="language-javascript">describe('La pàgina principal', () =&gt; {
  it('s'hauria de carregar correctament', () =&gt; {
    cy.visit('http://localhost:3000'); // Canvia l'URL segons el teu entorn
    cy.contains('Benvingut a la nostra pàgina'); // Canvia el text segons el contingut de la teva pàgina
  });
});
</code></pre>
</li>
</ol>
</div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ul>
<li><strong><code>describe</code></strong>: Defineix un conjunt de proves relacionades.</li>
<li><strong><code>it</code></strong>: Defineix una prova individual.</li>
<li><strong><code>cy.visit</code></strong>: Navega a l'URL especificada.</li>
<li><strong><code>cy.contains</code></strong>: Verifica que el text especificat està present a la pàgina.</li>
</ul>
</div><h1><p>Proves Avançades</p>
</h1>
<div class='content'></div><h2><p>Interacció amb Elements</p>
</h2>
<div class='content'><p>Podem interactuar amb elements de la pàgina, com ara fer clic en botons, omplir formularis, etc.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0Zvcm11bGFyaSBkZSBDb250YWN0ZScsICgpID0+IHsKICBpdCgnaGF1cmlhIGQnZW52aWFyIGVsIGZvcm11bGFyaSBjb3JyZWN0YW1lbnQnLCAoKSA9PiB7CiAgICBjeS52aXNpdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2NvbnRhY3RlJyk7CiAgICBjeS5nZXQoJ2lucHV0W25hbWU9Im5vbSJdJykudHlwZSgnSm9hbicpOwogICAgY3kuZ2V0KCdpbnB1dFtuYW1lPSJlbWFpbCJdJykudHlwZSgnam9hbkBleGFtcGxlLmNvbScpOwogICAgY3kuZ2V0KCd0ZXh0YXJlYVtuYW1lPSJtaXNzYXRnZSJdJykudHlwZSgnSG9sYSwgYXF1ZXN0IMOpcyB1biBtaXNzYXRnZSBkZSBwcm92YS4nKTsKICAgIGN5LmdldCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykuY2xpY2soKTsKICAgIGN5LmNvbnRhaW5zKCdFbCB0ZXUgbWlzc2F0Z2UgaGEgZXN0YXQgZW52aWF0IScpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Formulari de Contacte', () =&gt; {
  it('hauria d'enviar el formulari correctament', () =&gt; {
    cy.visit('http://localhost:3000/contacte');
    cy.get('input[name=&quot;nom&quot;]').type('Joan');
    cy.get('input[name=&quot;email&quot;]').type('joan@example.com');
    cy.get('textarea[name=&quot;missatge&quot;]').type('Hola, aquest &eacute;s un missatge de prova.');
    cy.get('button[type=&quot;submit&quot;]').click();
    cy.contains('El teu missatge ha estat enviat!');
  });
});</pre></div><div class='content'></div><h2><p>Assertions</p>
</h2>
<div class='content'><p>Cypress proporciona diverses assertions per verificar l'estat de la pàgina i els elements.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ1Byb3ZhIGRlIEFzc2VydGlvbnMnLCAoKSA9PiB7CiAgaXQoJ2hhdXJpYSBkZSB2ZXJpZmljYXIgbFwnZXN0YXQgZGVscyBlbGVtZW50cycsICgpID0+IHsKICAgIGN5LnZpc2l0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAnKTsKICAgIGN5LmdldCgnaDEnKS5zaG91bGQoJ2hhdmUudGV4dCcsICdCZW52aW5ndXQgYSBsYSBub3N0cmEgcMOgZ2luYScpOwogICAgY3kuZ2V0KCduYXYnKS5zaG91bGQoJ2JlLnZpc2libGUnKTsKICAgIGN5LmdldCgnaW5wdXRbbmFtZT0iY2VyY2EiXScpLnNob3VsZCgnZXhpc3QnKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Prova de Assertions', () =&gt; {
  it('hauria de verificar l\'estat dels elements', () =&gt; {
    cy.visit('http://localhost:3000');
    cy.get('h1').should('have.text', 'Benvingut a la nostra p&agrave;gina');
    cy.get('nav').should('be.visible');
    cy.get('input[name=&quot;cerca&quot;]').should('exist');
  });
});</pre></div><div class='content'></div><h1><p>Executar les Proves</p>
</h1>
<div class='content'></div><h2><p>Executar en Mode Interactiu</p>
</h2>
<div class='content'><p>Per executar les proves en mode interactiu (amb interfície gràfica):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGN5cHJlc3Mgb3Blbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx cypress open</pre></div><div class='content'></div><h2><p>Executar en Mode Headless</p>
</h2>
<div class='content'><p>Per executar les proves en mode headless (sense interfície gràfica):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGN5cHJlc3MgcnVu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx cypress run</pre></div><div class='content'></div><h1><p>Errors Comuns i Consells</p>
</h1>
<div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ol>
<li><strong>No trobar elements</strong>: Assegura't que els selectors que utilitzes són correctes i que els elements estan presents a la pàgina.</li>
<li><strong>Temps d'espera insuficients</strong>: Cypress espera automàticament que els elements apareguin, però en alguns casos pot ser necessari augmentar el temps d'espera.</li>
</ol>
</div><h2><p>Consells</p>
</h2>
<div class='content'><ol>
<li><strong>Utilitza fixtures</strong>: Emmagatzema dades de prova en fitxers JSON dins del directori <code>fixtures</code> i utilitza'ls a les teves proves.</li>
<li><strong>Divideix les proves</strong>: Divideix les proves en fitxers i blocs lògics per mantenir-les organitzades i fàcils de mantenir.</li>
<li><strong>Depuració</strong>: Utilitza <code>cy.pause()</code> per pausar l'execució de la prova i inspeccionar l'estat de la pàgina.</li>
</ol>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après a configurar Cypress, escriure proves bàsiques i avançades, i executar-les. Cypress és una eina poderosa per a les proves de cap a cap que pot ajudar-te a assegurar la qualitat de les teves aplicacions web. Amb la pràctica, podràs escriure proves més complexes i robustes per cobrir tots els aspectes de la teva aplicació.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-integration-testing' title="Proves d'Integració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-optimizing-performance' title="Optimització del Rendiment de JavaScript">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
