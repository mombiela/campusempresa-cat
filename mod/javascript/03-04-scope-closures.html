<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Àmbit i Tancaments</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/03-04-scope-closures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/03-04-scope-closures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/03-04-scope-closures" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/javascript/03-04-scope-closures" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/javascript/03-04-scope-closures" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-parameters-return-values' title="Paràmetres i Valors de Retorn">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Àmbit i Tancaments</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-05-higher-order-functions' title="Funcions d'Ordre Superior">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest tema, explorarem dos conceptes fonamentals en JavaScript: l'àmbit (scope) i els tancaments (closures). Aquests conceptes són essencials per entendre com funciona la visibilitat de les variables i com es poden crear funcions amb comportaments més avançats.</p>
</div><h1>Àmbit (Scope)</h1>
<div class='content'><p>L'àmbit es refereix a la visibilitat de les variables en diferents parts del codi. En JavaScript, hi ha dos tipus principals d'àmbit:</p>
<ol>
<li><strong>Àmbit Global</strong>: Les variables declarades fora de qualsevol funció tenen àmbit global i són accessibles des de qualsevol part del codi.</li>
<li><strong>Àmbit Local</strong>: Les variables declarades dins d'una funció tenen àmbit local i només són accessibles dins d'aquesta funció.</li>
</ol>
</div><h2>Exemple d'Àmbit Global i Local</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmFyaWFibGUgZ2xvYmFsCnZhciBnbG9iYWxWYXIgPSAiU8OzYyBnbG9iYWwiOwoKZnVuY3Rpb24gZXhlbXBsZUZ1bmNpbygpIHsKICAgIC8vIFZhcmlhYmxlIGxvY2FsCiAgICB2YXIgbG9jYWxWYXIgPSAiU8OzYyBsb2NhbCI7CiAgICBjb25zb2xlLmxvZyhnbG9iYWxWYXIpOyAvLyBBY2Nlc3NpYmxlCiAgICBjb25zb2xlLmxvZyhsb2NhbFZhcik7ICAvLyBBY2Nlc3NpYmxlCn0KCmV4ZW1wbGVGdW5jaW8oKTsKCmNvbnNvbGUubG9nKGdsb2JhbFZhcik7IC8vIEFjY2Vzc2libGUKY29uc29sZS5sb2cobG9jYWxWYXIpOyAgLy8gRXJyb3I6IGxvY2FsVmFyIG5vIGVzdMOgIGRlZmluaWRh"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Variable global
var globalVar = &quot;S&oacute;c global&quot;;

function exempleFuncio() {
    // Variable local
    var localVar = &quot;S&oacute;c local&quot;;
    console.log(globalVar); // Accessible
    console.log(localVar);  // Accessible
}

exempleFuncio();

console.log(globalVar); // Accessible
console.log(localVar);  // Error: localVar no est&agrave; definida</pre></div><div class='content'></div><h2>Àmbit de Bloc</h2>
<div class='content'><p>Amb l'arribada d'ES6, es van introduir les paraules clau <code>let</code> i <code>const</code>, que permeten declarar variables amb àmbit de bloc. Això significa que les variables declarades amb <code>let</code> o <code>const</code> només són accessibles dins del bloc on es declaren.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKHRydWUpIHsKICAgIGxldCBibG9jVmFyID0gIlPDs2MgdW5hIHZhcmlhYmxlIGRlIGJsb2MiOwogICAgY29uc29sZS5sb2coYmxvY1Zhcik7IC8vIEFjY2Vzc2libGUKfQoKY29uc29sZS5sb2coYmxvY1Zhcik7IC8vIEVycm9yOiBibG9jVmFyIG5vIGVzdMOgIGRlZmluaWRh"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if (true) {
    let blocVar = &quot;S&oacute;c una variable de bloc&quot;;
    console.log(blocVar); // Accessible
}

console.log(blocVar); // Error: blocVar no est&agrave; definida</pre></div><div class='content'></div><h1>Tancaments (Closures)</h1>
<div class='content'><p>Un tancament és una funció que recorda l'àmbit en el qual es va crear, fins i tot després que aquest àmbit hagi finalitzat. Això permet que la funció accedeixi a les variables de l'àmbit extern en què es va definir.</p>
</div><h2>Exemple de Tancament</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY3JlYXJTYWx1dGFjaW8obm9tKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgY29uc29sZS5sb2coIkhvbGEsICIgKyBub20pOwogICAgfTsKfQoKdmFyIHNhbHV0YWNpb0pvYW4gPSBjcmVhclNhbHV0YWNpbygiSm9hbiIpOwpzYWx1dGFjaW9Kb2FuKCk7IC8vIEhvbGEsIEpvYW4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function crearSalutacio(nom) {
    return function() {
        console.log(&quot;Hola, &quot; + nom);
    };
}

var salutacioJoan = crearSalutacio(&quot;Joan&quot;);
salutacioJoan(); // Hola, Joan</pre></div><div class='content'><p>En aquest exemple, la funció retornada per <code>crearSalutacio</code> recorda la variable <code>nom</code> del seu àmbit extern, fins i tot després que <code>crearSalutacio</code> hagi finalitzat la seva execució.</p>
</div><h2>Exemple Pràctic amb Tancaments</h2>
<div class='content'><p>Els tancaments són especialment útils per crear funcions amb estat privat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY29udGFkb3IoKSB7CiAgICBsZXQgY29tcHRhZG9yID0gMDsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICBjb21wdGFkb3IrKzsKICAgICAgICBjb25zb2xlLmxvZyhjb21wdGFkb3IpOwogICAgfTsKfQoKdmFyIGluY3JlbWVudGFyID0gY29udGFkb3IoKTsKaW5jcmVtZW50YXIoKTsgLy8gMQppbmNyZW1lbnRhcigpOyAvLyAyCmluY3JlbWVudGFyKCk7IC8vIDM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function contador() {
    let comptador = 0;
    return function() {
        comptador++;
        console.log(comptador);
    };
}

var incrementar = contador();
incrementar(); // 1
incrementar(); // 2
incrementar(); // 3</pre></div><div class='content'><p>En aquest exemple, la variable <code>comptador</code> és privada per a la funció retornada, i només es pot modificar mitjançant aquesta funció.</p>
</div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Àmbit de Variables</h2>
<div class='content'><ol>
<li>Declara una variable global.</li>
<li>Declara una funció que defineixi una variable local i imprimeixi tant la variable global com la local.</li>
<li>Intenta imprimir la variable local fora de la funció i observa què passa.</li>
</ol>
</div><h2>Exercici 2: Creació de Tancaments</h2>
<div class='content'><ol>
<li>Escriu una funció <code>crearMultiplicador</code> que prengui un número com a argument i retorni una funció que multipliqui qualsevol número per aquest número.</li>
<li>Utilitza la funció retornada per crear un multiplicador per 2 i un altre per 3.</li>
<li>Prova els multiplicadors amb diferents números.</li>
</ol>
</div><h2>Solucions</h2>
<div class='content'><h4>Solució a l'Exercici 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gMS4gVmFyaWFibGUgZ2xvYmFsCnZhciBnbG9iYWxWYXIgPSAiVmFyaWFibGUgR2xvYmFsIjsKCi8vIDIuIEZ1bmNpw7MgYW1iIHZhcmlhYmxlIGxvY2FsCmZ1bmN0aW9uIGV4ZW1wbGVGdW5jaW8oKSB7CiAgICB2YXIgbG9jYWxWYXIgPSAiVmFyaWFibGUgTG9jYWwiOwogICAgY29uc29sZS5sb2coZ2xvYmFsVmFyKTsgLy8gVmFyaWFibGUgR2xvYmFsCiAgICBjb25zb2xlLmxvZyhsb2NhbFZhcik7ICAvLyBWYXJpYWJsZSBMb2NhbAp9CgpleGVtcGxlRnVuY2lvKCk7CgovLyAzLiBJbnRlbnRhciBpbXByaW1pciBsYSB2YXJpYWJsZSBsb2NhbCBmb3JhIGRlIGxhIGZ1bmNpw7MKY29uc29sZS5sb2cobG9jYWxWYXIpOyAvLyBFcnJvcjogbG9jYWxWYXIgbm8gZXN0w6AgZGVmaW5pZGE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// 1. Variable global
var globalVar = &quot;Variable Global&quot;;

// 2. Funci&oacute; amb variable local
function exempleFuncio() {
    var localVar = &quot;Variable Local&quot;;
    console.log(globalVar); // Variable Global
    console.log(localVar);  // Variable Local
}

exempleFuncio();

// 3. Intentar imprimir la variable local fora de la funci&oacute;
console.log(localVar); // Error: localVar no est&agrave; definida</pre></div><div class='content'><h4>Solució a l'Exercici 2</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gMS4gRnVuY2nDsyBjcmVhck11bHRpcGxpY2Fkb3IKZnVuY3Rpb24gY3JlYXJNdWx0aXBsaWNhZG9yKG11bHRpcGxpY2Fkb3IpIHsKICAgIHJldHVybiBmdW5jdGlvbihudW1lcm8pIHsKICAgICAgICByZXR1cm4gbnVtZXJvICogbXVsdGlwbGljYWRvcjsKICAgIH07Cn0KCi8vIDIuIENyZWFyIG11bHRpcGxpY2Fkb3JzCnZhciBtdWx0aXBsaWNhclBlcjIgPSBjcmVhck11bHRpcGxpY2Fkb3IoMik7CnZhciBtdWx0aXBsaWNhclBlcjMgPSBjcmVhck11bHRpcGxpY2Fkb3IoMyk7CgovLyAzLiBQcm92YXIgZWxzIG11bHRpcGxpY2Fkb3JzCmNvbnNvbGUubG9nKG11bHRpcGxpY2FyUGVyMig1KSk7IC8vIDEwCmNvbnNvbGUubG9nKG11bHRpcGxpY2FyUGVyMyg1KSk7IC8vIDE1"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// 1. Funci&oacute; crearMultiplicador
function crearMultiplicador(multiplicador) {
    return function(numero) {
        return numero * multiplicador;
    };
}

// 2. Crear multiplicadors
var multiplicarPer2 = crearMultiplicador(2);
var multiplicarPer3 = crearMultiplicador(3);

// 3. Provar els multiplicadors
console.log(multiplicarPer2(5)); // 10
console.log(multiplicarPer3(5)); // 15</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem après sobre l'àmbit de les variables i els tancaments en JavaScript. Aquests conceptes són fonamentals per escriure codi eficient i comprensible. Els tancaments, en particular, són una eina poderosa per crear funcions amb estat privat i comportaments avançats. Amb la pràctica, aquests conceptes esdevindran una part natural del teu repertori de programació.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-parameters-return-values' title="Paràmetres i Valors de Retorn">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-05-higher-order-functions' title="Funcions d'Ordre Superior">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
