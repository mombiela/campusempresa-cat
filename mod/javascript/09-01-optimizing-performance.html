<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimització del Rendiment de JavaScript</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/09-01-optimizing-performance" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/09-01-optimizing-performance" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/09-01-optimizing-performance" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/javascript/09-01-optimizing-performance" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/javascript/09-01-optimizing-performance" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-end-to-end-testing-cypress' title="Proves de Cap a Cap amb Cypress">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Optimització del Rendiment de JavaScript</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-memory-management' title="Gestió de Memòria">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem diverses tècniques i estratègies per optimitzar el rendiment del teu codi JavaScript. L'optimització és crucial per assegurar que les aplicacions siguin ràpides i responsives, millorant així l'experiència de l'usuari.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ol>
<li><strong>Minimització del Codi</strong></li>
<li><strong>Evitar Bloquejos del Fil Principal</strong></li>
<li><strong>Utilització de Funcions Asíncrones</strong></li>
<li><strong>Reducció del Temps de Càrrega</strong></li>
<li><strong>Optimització de Bucles i Iteracions</strong></li>
<li><strong>Gestió Eficient d'Esdeveniments</strong></li>
<li><strong>Utilització de Web Workers</strong></li>
</ol>
</div><h1>1. Minimització del Codi</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>La minimització del codi implica eliminar espais en blanc, comentaris i altres elements innecessaris per reduir la mida dels fitxers JavaScript. Això ajuda a disminuir el temps de càrrega de les pàgines web.</p>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29kaSBvcmlnaW5hbApmdW5jdGlvbiBncmVldFVzZXIobmFtZSkgewogICAgY29uc29sZS5sb2coIkhlbGxvLCAiICsgbmFtZSArICIhIik7Cn0KCi8vIENvZGkgbWluaW1pdHphdApmdW5jdGlvbiBncmVldFVzZXIobil7Y29uc29sZS5sb2coIkhlbGxvLCAiK24rIiEiKTt9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Codi original
function greetUser(name) {
    console.log(&quot;Hello, &quot; + name + &quot;!&quot;);
}

// Codi minimitzat
function greetUser(n){console.log(&quot;Hello, &quot;+n+&quot;!&quot;);}</pre></div><div class='content'></div><h2>Eines Recomanades</h2>
<div class='content'><ul>
<li><strong>UglifyJS</strong></li>
<li><strong>Terser</strong></li>
</ul>
</div><h1>2. Evitar Bloquejos del Fil Principal</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>El fil principal del navegador és responsable de la major part del treball de renderització i execució de JavaScript. Bloquejar aquest fil pot causar que la pàgina es torni lenta o no responsiva.</p>
</div><h2>Estratègies</h2>
<div class='content'><ul>
<li><strong>Descomposició de Tasques Pesades</strong>: Divideix les tasques pesades en parts més petites.</li>
<li><strong>Utilització de <code>requestAnimationFrame</code></strong>: Per tasques relacionades amb el renderitzat.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVGFzY2EgcGVzYWRhCmZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDAwMDAwMDsgaSsrKSB7CiAgICAvLyBPcGVyYWNpw7MgaW50ZW5zaXZhCn0KCi8vIERlc2NvbXBvc2ljacOzIGRlIGxhIHRhc2NhCmZ1bmN0aW9uIGhlYXZ5VGFzaygpIHsKICAgIGxldCBpID0gMDsKICAgIGZ1bmN0aW9uIGNodW5rKCkgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTAwMDAwMDsgaisrKSB7CiAgICAgICAgICAgIGlmIChpID49IDEwMDAwMDAwMDApIHJldHVybjsKICAgICAgICAgICAgLy8gT3BlcmFjacOzIGludGVuc2l2YQogICAgICAgICAgICBpKys7CiAgICAgICAgfQogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjaHVuayk7CiAgICB9CiAgICBjaHVuaygpOwp9CmhlYXZ5VGFzaygpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Tasca pesada
for (let i = 0; i &lt; 1000000000; i++) {
    // Operaci&oacute; intensiva
}

// Descomposici&oacute; de la tasca
function heavyTask() {
    let i = 0;
    function chunk() {
        for (let j = 0; j &lt; 1000000; j++) {
            if (i &gt;= 1000000000) return;
            // Operaci&oacute; intensiva
            i++;
        }
        requestAnimationFrame(chunk);
    }
    chunk();
}
heavyTask();</pre></div><div class='content'></div><h1>3. Utilització de Funcions Asíncrones</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>Les funcions asíncrones permeten que el codi continuï executant-se mentre es completen operacions que poden trigar temps, com ara sol·licituds de xarxa.</p>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgdHJ5IHsKICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpOwogICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXRhOicsIGVycm9yKTsKICAgIH0KfQpmZXRjaERhdGEoKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function fetchData() {
    try {
        let response = await fetch('https://api.example.com/data');
        let data = await response.json();
        console.log(data);
    } catch (error) {
        console.error('Error fetching data:', error);
    }
}
fetchData();</pre></div><div class='content'></div><h1>4. Reducció del Temps de Càrrega</h1>
<div class='content'></div><h2>Estratègies</h2>
<div class='content'><ul>
<li><strong>Lazy Loading</strong>: Carrega els scripts només quan són necessaris.</li>
<li><strong>Divisió de Codi</strong>: Divideix el codi en parts més petites que es carreguen segons sigui necessari.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTGF6eSBMb2FkaW5nIGFtYiBpbXBvcnQgZGluw6BtaWMKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRCdXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHsKICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IGltcG9ydCgnLi9oZWF2eU1vZHVsZS5qcycpOwogICAgbW9kdWxlLmRvU29tZXRoaW5nKCk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Lazy Loading amb import din&agrave;mic
document.getElementById('loadButton').addEventListener('click', async () =&gt; {
    const module = await import('./heavyModule.js');
    module.doSomething();
});</pre></div><div class='content'></div><h1>5. Optimització de Bucles i Iteracions</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>Els bucles poden ser una font important de retard si no s'optimitzen correctament.</p>
</div><h2>Estratègies</h2>
<div class='content'><ul>
<li><strong>Utilitzar <code>for</code> en lloc de <code>forEach</code> per a grans arrays</strong>.</li>
<li><strong>Evitar operacions costoses dins dels bucles</strong>.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTm8gw7JwdGltCmFycmF5LmZvckVhY2goaXRlbSA9PiB7CiAgICBwcm9jZXNzSXRlbShpdGVtKTsKfSk7CgovLyDDknB0aW0KZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgcHJvY2Vzc0l0ZW0oYXJyYXlbaV0pOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// No &ograve;ptim
array.forEach(item =&gt; {
    processItem(item);
});

// &Ograve;ptim
for (let i = 0; i &lt; array.length; i++) {
    processItem(array[i]);
}</pre></div><div class='content'></div><h1>6. Gestió Eficient d'Esdeveniments</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>L'assignació d'esdeveniments pot afectar el rendiment si no es fa correctament.</p>
</div><h2>Estratègies</h2>
<div class='content'><ul>
<li><strong>Delegació d'Esdeveniments</strong>: Assigna esdeveniments a elements pares en lloc de múltiples elements fills.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTm8gw7JwdGltCmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7CiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ0J1dHRvbiBjbGlja2VkJyk7CiAgICB9KTsKfSk7CgovLyDDknB0aW0KZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7CiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9uJykpIHsKICAgICAgICBjb25zb2xlLmxvZygnQnV0dG9uIGNsaWNrZWQnKTsKICAgIH0KfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// No &ograve;ptim
document.querySelectorAll('.button').forEach(button =&gt; {
    button.addEventListener('click', () =&gt; {
        console.log('Button clicked');
    });
});

// &Ograve;ptim
document.querySelector('.container').addEventListener('click', (event) =&gt; {
    if (event.target.classList.contains('button')) {
        console.log('Button clicked');
    }
});</pre></div><div class='content'></div><h1>7. Utilització de Web Workers</h1>
<div class='content'></div><h2>Explicació</h2>
<div class='content'><p>Els Web Workers permeten executar scripts en fils de fons, alliberant el fil principal per a altres tasques.</p>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi5qcwpjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKCd3b3JrZXIuanMnKTsKd29ya2VyLnBvc3RNZXNzYWdlKCdzdGFydCcpOwoKd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICBjb25zb2xlLmxvZygnUmVzdWx0IGZyb20gd29ya2VyOicsIGV2ZW50LmRhdGEpOwp9OwoKLy8gd29ya2VyLmpzCnNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgIGlmIChldmVudC5kYXRhID09PSAnc3RhcnQnKSB7CiAgICAgICAgbGV0IHJlc3VsdCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwMDAwMDAwOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0ICs9IGk7CiAgICAgICAgfQogICAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzdWx0KTsKICAgIH0KfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.js
const worker = new Worker('worker.js');
worker.postMessage('start');

worker.onmessage = function(event) {
    console.log('Result from worker:', event.data);
};

// worker.js
self.onmessage = function(event) {
    if (event.data === 'start') {
        let result = 0;
        for (let i = 0; i &lt; 1000000000; i++) {
            result += i;
        }
        self.postMessage(result);
    }
};</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Minimització del Codi</h2>
<div class='content'><p>Minimitza el següent codi manualment:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FsY3VsYXRlU3VtKGEsIGIpIHsKICAgIGxldCBzdW0gPSBhICsgYjsKICAgIGNvbnNvbGUubG9nKCJTdW06Iiwgc3VtKTsKICAgIHJldHVybiBzdW07Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function calculateSum(a, b) {
    let sum = a + b;
    console.log(&quot;Sum:&quot;, sum);
    return sum;
}</pre></div><div class='content'></div><h2>Solució</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FsY3VsYXRlU3VtKGEsYil7bGV0IHN1bT1hK2I7Y29uc29sZS5sb2coIlN1bToiLHN1bSk7cmV0dXJuIHN1bTt9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function calculateSum(a,b){let sum=a+b;console.log(&quot;Sum:&quot;,sum);return sum;}</pre></div><div class='content'></div><h2>Exercici 2: Utilització de `requestAnimationFrame`</h2>
<div class='content'><p>Refactoritza el següent codi per utilitzar <code>requestAnimationFrame</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwMDAwMDAwOyBpKyspIHsKICAgIC8vIE9wZXJhY2nDsyBpbnRlbnNpdmEKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>for (let i = 0; i &lt; 1000000000; i++) {
    // Operaci&oacute; intensiva
}</pre></div><div class='content'></div><h2>Solució</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gaGVhdnlUYXNrKCkgewogICAgbGV0IGkgPSAwOwogICAgZnVuY3Rpb24gY2h1bmsoKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDAwMDAwOyBqKyspIHsKICAgICAgICAgICAgaWYgKGkgPj0gMTAwMDAwMDAwMCkgcmV0dXJuOwogICAgICAgICAgICAvLyBPcGVyYWNpw7MgaW50ZW5zaXZhCiAgICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNodW5rKTsKICAgIH0KICAgIGNodW5rKCk7Cn0KaGVhdnlUYXNrKCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function heavyTask() {
    let i = 0;
    function chunk() {
        for (let j = 0; j &lt; 1000000; j++) {
            if (i &gt;= 1000000000) return;
            // Operaci&oacute; intensiva
            i++;
        }
        requestAnimationFrame(chunk);
    }
    chunk();
}
heavyTask();</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem explorat diverses tècniques per optimitzar el rendiment del codi JavaScript. Hem après sobre la minimització del codi, evitar bloquejos del fil principal, utilitzar funcions asíncrones, reduir el temps de càrrega, optimitzar bucles i iteracions, gestionar esdeveniments eficientment i utilitzar Web Workers. Aquestes tècniques són essencials per assegurar que les aplicacions siguin ràpides i responsives, millorant així l'experiència de l'usuari.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-end-to-end-testing-cypress' title="Proves de Cap a Cap amb Cypress">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-memory-management' title="Gestió de Memòria">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
