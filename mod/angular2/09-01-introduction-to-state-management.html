<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Introducció a la gestió d'estat</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/09-01-introduction-to-state-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/09-01-introduction-to-state-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/09-01-introduction-to-state-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/angular2/09-01-introduction-to-state-management" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/angular2/09-01-introduction-to-state-management" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</span>
			<span class="d-none d-md-inline"><br><cite>Tot el coneixement al teu abast</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-using-observables' title="Ús d'observables">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introducció a la gestió d'estat</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-using-services-for-state-management' title="Ús de serveis per a la gestió d'estat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La gestió d'estat és un concepte fonamental en el desenvolupament d'aplicacions modernes, especialment en aplicacions de gran escala on la complexitat de la interfície d'usuari i la lògica de negoci poden créixer ràpidament. En aquest tema, explorarem què és la gestió d'estat, per què és important i com es pot implementar en aplicacions Angular.</p>
</div><h1>Què és la gestió d'estat?</h1>
<div class='content'><p>La gestió d'estat es refereix a la manera en què una aplicació maneja i sincronitza l'estat de les seves dades a través de diferents components i serveis. L'estat inclou tota la informació que una aplicació necessita per funcionar correctament, com ara:</p>
<ul>
<li>Dades de l'usuari (per exemple, informació de sessió, preferències).</li>
<li>Dades de l'aplicació (per exemple, llistes d'elements, configuracions).</li>
<li>Estat de la interfície d'usuari (per exemple, si un diàleg està obert o tancat).</li>
</ul>
</div><h1>Per què és important la gestió d'estat?</h1>
<div class='content'><p>Una gestió d'estat efectiva és crucial per diverses raons:</p>
<ol>
<li><strong>Consistència</strong>: Assegura que totes les parts de l'aplicació tinguin una visió coherent de les dades.</li>
<li><strong>Mantenibilitat</strong>: Facilita la comprensió i el manteniment del codi, ja que l'estat es gestiona de manera centralitzada.</li>
<li><strong>Escalabilitat</strong>: Permet que l'aplicació creixi en complexitat sense que l'estat esdevingui incontrolable.</li>
<li><strong>Depuració</strong>: Facilita la depuració i el seguiment d'errors, ja que l'estat es pot rastrejar i inspeccionar fàcilment.</li>
</ol>
</div><h1>Estratègies de gestió d'estat en Angular</h1>
<div class='content'><p>En Angular, hi ha diverses maneres de gestionar l'estat de l'aplicació. Les més comunes són:</p>
</div><h2><ol>
<li><strong>Serveis Angular</strong></li>
</ol></h2>
<div class='content'><p>Els serveis són una manera senzilla i efectiva de gestionar l'estat en aplicacions Angular. Els serveis permeten compartir dades i lògica entre diferents components.</p>
<h4>Exemple de servei per gestionar l'estat:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290Jwp9KQpleHBvcnQgY2xhc3MgU3RhdGVTZXJ2aWNlIHsKICBwcml2YXRlIF9zdGF0ZTogYW55ID0ge307CgogIGdldFN0YXRlKGtleTogc3RyaW5nKTogYW55IHsKICAgIHJldHVybiB0aGlzLl9zdGF0ZVtrZXldOwogIH0KCiAgc2V0U3RhdGUoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHsKICAgIHRoaXMuX3N0YXRlW2tleV0gPSB2YWx1ZTsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class StateService {
  private _state: any = {};

  getState(key: string): any {
    return this._state[key];
  }

  setState(key: string, value: any): void {
    this._state[key] = value;
  }
}</pre></div><div class='content'></div><h2><ol start="2">
<li><strong>NgRx</strong></li>
</ol></h2>
<div class='content'><p>NgRx és una llibreria per a Angular que proporciona un conjunt d'eines per gestionar l'estat de manera reactiva utilitzant el patró Redux. NgRx ajuda a mantenir l'estat previsible i fàcil de depurar.</p>
<h4>Components clau de NgRx:</h4>
<ul>
<li><strong>Store</strong>: Emmagatzema l'estat de l'aplicació.</li>
<li><strong>Actions</strong>: Descriuen els esdeveniments que poden canviar l'estat.</li>
<li><strong>Reducers</strong>: Funcions pures que determinen com canvia l'estat en resposta a les accions.</li>
<li><strong>Effects</strong>: Gestionen operacions asíncrones i efectes col·laterals.</li>
</ul>
</div><h2><ol start="3">
<li><strong>BehaviorSubject</strong></li>
</ol></h2>
<div class='content'><p><code>BehaviorSubject</code> de RxJS és una altra manera de gestionar l'estat en Angular. Permet emetre valors i subscriure's a aquests valors per rebre actualitzacions en temps real.</p>
<h4>Exemple d'ús de <code>BehaviorSubject</code>:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJzsKCkBJbmplY3RhYmxlKHsKICBwcm92aWRlZEluOiAncm9vdCcKfSkKZXhwb3J0IGNsYXNzIFN0YXRlU2VydmljZSB7CiAgcHJpdmF0ZSBfc3RhdGUgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4oe30pOwogIHN0YXRlJCA9IHRoaXMuX3N0YXRlLmFzT2JzZXJ2YWJsZSgpOwoKICBzZXRTdGF0ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQgewogICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5fc3RhdGUudmFsdWU7CiAgICBjdXJyZW50U3RhdGVba2V5XSA9IHZhbHVlOwogICAgdGhpcy5fc3RhdGUubmV4dChjdXJyZW50U3RhdGUpOwogIH0KCiAgZ2V0U3RhdGUoa2V5OiBzdHJpbmcpOiBhbnkgewogICAgcmV0dXJuIHRoaXMuX3N0YXRlLnZhbHVlW2tleV07CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class StateService {
  private _state = new BehaviorSubject&lt;any&gt;({});
  state$ = this._state.asObservable();

  setState(key: string, value: any): void {
    const currentState = this._state.value;
    currentState[key] = value;
    this._state.next(currentState);
  }

  getState(key: string): any {
    return this._state.value[key];
  }
}</pre></div><div class='content'></div><h1>Exercici pràctic</h1>
<div class='content'></div><h2>Objectiu:</h2>
<div class='content'><p>Crear un servei simple per gestionar l'estat d'un comptador en una aplicació Angular.</p>
</div><h2>Passos:</h2>
<div class='content'><ol>
<li>
<p><strong>Crear el servei</strong>:</p>
<pre><code class="language-typescript">import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class CounterService {
  private _count = new BehaviorSubject&lt;number&gt;(0);
  count$ = this._count.asObservable();

  increment(): void {
    this._count.next(this._count.value + 1);
  }

  decrement(): void {
    this._count.next(this._count.value - 1);
  }
}
</code></pre>
</li>
<li>
<p><strong>Utilitzar el servei en un component</strong>:</p>
<pre><code class="language-typescript">import { Component } from '@angular/core';
import { CounterService } from './counter.service';

@Component({
  selector: 'app-counter',
  template: `
    &lt;div&gt;
      &lt;button (click)=&quot;decrement()&quot;&gt;-&lt;/button&gt;
      &lt;span&gt;{{ count }}&lt;/span&gt;
      &lt;button (click)=&quot;increment()&quot;&gt;+&lt;/button&gt;
    &lt;/div&gt;
  `
})
export class CounterComponent {
  count: number;

  constructor(private counterService: CounterService) {
    this.counterService.count$.subscribe(count =&gt; this.count = count);
  }

  increment(): void {
    this.counterService.increment();
  }

  decrement(): void {
    this.counterService.decrement();
  }
}
</code></pre>
</li>
</ol>
</div><h2>Solució:</h2>
<div class='content'><p>El codi anterior crea un servei <code>CounterService</code> que utilitza <code>BehaviorSubject</code> per gestionar l'estat del comptador. El component <code>CounterComponent</code> es subscriu a aquest estat i proporciona botons per incrementar i decrementar el comptador.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>La gestió d'estat és un aspecte crucial en el desenvolupament d'aplicacions Angular. Hem explorat diverses estratègies per gestionar l'estat, incloent serveis Angular, NgRx i <code>BehaviorSubject</code>. Cada mètode té els seus avantatges i inconvenients, i la millor opció dependrà de les necessitats específiques de la teva aplicació. En el proper tema, aprofundirem en l'ús de serveis per a la gestió d'estat.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-using-observables' title="Ús d'observables">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-using-services-for-state-management' title="Ús de serveis per a la gestió d'estat">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
