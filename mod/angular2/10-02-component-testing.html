<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Proves de components</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/10-02-component-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/10-02-component-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/10-02-component-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/angular2/10-02-component-testing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/angular2/10-02-component-testing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-01-unit-testing' title="Proves unitàries">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Proves de components</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-03-service-testing' title="Proves de serveis">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Les proves de components són una part essencial del desenvolupament d'aplicacions Angular. Aquest tipus de proves asseguren que els components funcionin correctament de manera aïllada, sense dependre d'altres parts de l'aplicació. En aquesta secció, aprendrem com configurar i escriure proves per als components Angular utilitzant el framework de proves Jasmine i l'entorn de proves Karma.</p>
</div><h1>Objectius</h1>
<div class='content'><ul>
<li>Entendre la importància de les proves de components.</li>
<li>Configurar l'entorn de proves per a components Angular.</li>
<li>Escriure proves unitàries per a components.</li>
<li>Utilitzar mocks i espies per a proves més efectives.</li>
</ul>
</div><h1>Configuració de l'entorn de proves</h1>
<div class='content'><p>Angular CLI ve amb Jasmine i Karma preconfigurats per a proves. Quan crees un nou projecte Angular, l'entorn de proves ja està configurat. Per executar les proves, simplement utilitza el següent comandament:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmcgdGVzdA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ng test</pre></div><div class='content'><p>Aquest comandament executarà Karma, que a la vegada executarà les proves definides amb Jasmine.</p>
</div><h1>Estructura bàsica d'una prova de component</h1>
<div class='content'><p>A continuació, es mostra un exemple bàsic d'una prova de component. Suposem que tenim un component <code>HelloComponent</code> que mostra un missatge de benvinguda.</p>
</div><h2>Component: <code>hello.component.ts</code></h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1oZWxsbycsCiAgdGVtcGxhdGU6ICc8aDE+e3ttZXNzYWdlfX08L2gxPicKfSkKZXhwb3J0IGNsYXNzIEhlbGxvQ29tcG9uZW50IHsKICBtZXNzYWdlOiBzdHJpbmcgPSAnSG9sYSwgbcOzbiEnOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component } from '@angular/core';

@Component({
  selector: 'app-hello',
  template: '&lt;h1&gt;{{message}}&lt;/h1&gt;'
})
export class HelloComponent {
  message: string = 'Hola, m&oacute;n!';
}</pre></div><div class='content'></div><h2>Prova: <code>hello.component.spec.ts</code></h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IEhlbGxvQ29tcG9uZW50IH0gZnJvbSAnLi9oZWxsby5jb21wb25lbnQnOwoKZGVzY3JpYmUoJ0hlbGxvQ29tcG9uZW50JywgKCkgPT4gewogIGxldCBjb21wb25lbnQ6IEhlbGxvQ29tcG9uZW50OwogIGxldCBmaXh0dXJlOiBDb21wb25lbnRGaXh0dXJlPEhlbGxvQ29tcG9uZW50PjsKCiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7CiAgICBhd2FpdCBUZXN0QmVkLmNvbmZpZ3VyZVRlc3RpbmdNb2R1bGUoewogICAgICBkZWNsYXJhdGlvbnM6IFsgSGVsbG9Db21wb25lbnQgXQogICAgfSkKICAgIC5jb21waWxlQ29tcG9uZW50cygpOwogIH0pOwoKICBiZWZvcmVFYWNoKCgpID0+IHsKICAgIGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChIZWxsb0NvbXBvbmVudCk7CiAgICBjb21wb25lbnQgPSBmaXh0dXJlLmNvbXBvbmVudEluc3RhbmNlOwogICAgZml4dHVyZS5kZXRlY3RDaGFuZ2VzKCk7CiAgfSk7CgogIGl0KCdoYXVyaWEgZGUgY3JlYXIgZWwgY29tcG9uZW50JywgKCkgPT4gewogICAgZXhwZWN0KGNvbXBvbmVudCkudG9CZVRydXRoeSgpOwogIH0pOwoKICBpdCgnaGF1cmlhIGRlIG1vc3RyYXIgZWwgbWlzc2F0Z2UgZGUgYmVudmluZ3VkYScsICgpID0+IHsKICAgIGNvbnN0IGNvbXBpbGVkID0gZml4dHVyZS5uYXRpdmVFbGVtZW50OwogICAgZXhwZWN0KGNvbXBpbGVkLnF1ZXJ5U2VsZWN0b3IoJ2gxJykudGV4dENvbnRlbnQpLnRvQ29udGFpbignSG9sYSwgbcOzbiEnKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ComponentFixture, TestBed } from '@angular/core/testing';
import { HelloComponent } from './hello.component';

describe('HelloComponent', () =&gt; {
  let component: HelloComponent;
  let fixture: ComponentFixture&lt;HelloComponent&gt;;

  beforeEach(async () =&gt; {
    await TestBed.configureTestingModule({
      declarations: [ HelloComponent ]
    })
    .compileComponents();
  });

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(HelloComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('hauria de crear el component', () =&gt; {
    expect(component).toBeTruthy();
  });

  it('hauria de mostrar el missatge de benvinguda', () =&gt; {
    const compiled = fixture.nativeElement;
    expect(compiled.querySelector('h1').textContent).toContain('Hola, m&oacute;n!');
  });
});</pre></div><div class='content'></div><h2>Explicació del codi</h2>
<div class='content'><ol>
<li><strong>Importacions</strong>: Importem les funcions necessàries de <code>@angular/core/testing</code> i el component que volem provar.</li>
<li><strong>Descripció de la prova</strong>: Utilitzem <code>describe</code> per agrupar les proves relacionades amb <code>HelloComponent</code>.</li>
<li><strong>Configuració del TestBed</strong>: <code>TestBed</code> és una utilitat d'Angular per configurar i inicialitzar l'entorn de proves. Aquí, declarem el component que volem provar.</li>
<li><strong>Creació del component</strong>: Utilitzem <code>TestBed.createComponent</code> per crear una instància del component i assignar-la a <code>fixture</code> i <code>component</code>.</li>
<li><strong>Proves</strong>: Utilitzem <code>it</code> per definir les proves. En aquest cas, comprovem que el component es crea correctament i que el missatge de benvinguda es mostra correctament.</li>
</ol>
</div><h1>Mocks i espies</h1>
<div class='content'><p>En proves de components, sovint necessitem simular serveis o altres dependències. Això es pot fer utilitzant mocks i espies.</p>
</div><h2>Exemple amb un servei</h2>
<div class='content'><p>Suposem que <code>HelloComponent</code> depèn d'un servei <code>GreetingService</code> per obtenir el missatge de benvinguda.</p>
<h4>Servei: <code>greeting.service.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290Jwp9KQpleHBvcnQgY2xhc3MgR3JlZXRpbmdTZXJ2aWNlIHsKICBnZXRNZXNzYWdlKCk6IHN0cmluZyB7CiAgICByZXR1cm4gJ0hvbGEsIG3Ds24hJzsKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class GreetingService {
  getMessage(): string {
    return 'Hola, m&oacute;n!';
  }
}</pre></div><div class='content'><h4>Component: <code>hello.component.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgR3JlZXRpbmdTZXJ2aWNlIH0gZnJvbSAnLi9ncmVldGluZy5zZXJ2aWNlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLWhlbGxvJywKICB0ZW1wbGF0ZTogJzxoMT57e21lc3NhZ2V9fTwvaDE+Jwp9KQpleHBvcnQgY2xhc3MgSGVsbG9Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIG1lc3NhZ2U6IHN0cmluZzsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBncmVldGluZ1NlcnZpY2U6IEdyZWV0aW5nU2VydmljZSkge30KCiAgbmdPbkluaXQoKTogdm9pZCB7CiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmdyZWV0aW5nU2VydmljZS5nZXRNZXNzYWdlKCk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';
import { GreetingService } from './greeting.service';

@Component({
  selector: 'app-hello',
  template: '&lt;h1&gt;{{message}}&lt;/h1&gt;'
})
export class HelloComponent implements OnInit {
  message: string;

  constructor(private greetingService: GreetingService) {}

  ngOnInit(): void {
    this.message = this.greetingService.getMessage();
  }
}</pre></div><div class='content'><h4>Prova: <code>hello.component.spec.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IEhlbGxvQ29tcG9uZW50IH0gZnJvbSAnLi9oZWxsby5jb21wb25lbnQnOwppbXBvcnQgeyBHcmVldGluZ1NlcnZpY2UgfSBmcm9tICcuL2dyZWV0aW5nLnNlcnZpY2UnOwoKY2xhc3MgTW9ja0dyZWV0aW5nU2VydmljZSB7CiAgZ2V0TWVzc2FnZSgpOiBzdHJpbmcgewogICAgcmV0dXJuICdIb2xhLCBtw7NuISc7CiAgfQp9CgpkZXNjcmliZSgnSGVsbG9Db21wb25lbnQnLCAoKSA9PiB7CiAgbGV0IGNvbXBvbmVudDogSGVsbG9Db21wb25lbnQ7CiAgbGV0IGZpeHR1cmU6IENvbXBvbmVudEZpeHR1cmU8SGVsbG9Db21wb25lbnQ+OwogIGxldCBncmVldGluZ1NlcnZpY2U6IEdyZWV0aW5nU2VydmljZTsKCiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7CiAgICBhd2FpdCBUZXN0QmVkLmNvbmZpZ3VyZVRlc3RpbmdNb2R1bGUoewogICAgICBkZWNsYXJhdGlvbnM6IFsgSGVsbG9Db21wb25lbnQgXSwKICAgICAgcHJvdmlkZXJzOiBbCiAgICAgICAgeyBwcm92aWRlOiBHcmVldGluZ1NlcnZpY2UsIHVzZUNsYXNzOiBNb2NrR3JlZXRpbmdTZXJ2aWNlIH0KICAgICAgXQogICAgfSkKICAgIC5jb21waWxlQ29tcG9uZW50cygpOwogIH0pOwoKICBiZWZvcmVFYWNoKCgpID0+IHsKICAgIGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChIZWxsb0NvbXBvbmVudCk7CiAgICBjb21wb25lbnQgPSBmaXh0dXJlLmNvbXBvbmVudEluc3RhbmNlOwogICAgZ3JlZXRpbmdTZXJ2aWNlID0gVGVzdEJlZC5pbmplY3QoR3JlZXRpbmdTZXJ2aWNlKTsKICAgIGZpeHR1cmUuZGV0ZWN0Q2hhbmdlcygpOwogIH0pOwoKICBpdCgnaGF1cmlhIGRlIGNyZWFyIGVsIGNvbXBvbmVudCcsICgpID0+IHsKICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVUcnV0aHkoKTsKICB9KTsKCiAgaXQoJ2hhdXJpYSBkZSBtb3N0cmFyIGVsIG1pc3NhdGdlIGRlIGJlbnZpbmd1ZGEnLCAoKSA9PiB7CiAgICBjb25zdCBjb21waWxlZCA9IGZpeHR1cmUubmF0aXZlRWxlbWVudDsKICAgIGV4cGVjdChjb21waWxlZC5xdWVyeVNlbGVjdG9yKCdoMScpLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ0hvbGEsIG3Ds24hJyk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ComponentFixture, TestBed } from '@angular/core/testing';
import { HelloComponent } from './hello.component';
import { GreetingService } from './greeting.service';

class MockGreetingService {
  getMessage(): string {
    return 'Hola, m&oacute;n!';
  }
}

describe('HelloComponent', () =&gt; {
  let component: HelloComponent;
  let fixture: ComponentFixture&lt;HelloComponent&gt;;
  let greetingService: GreetingService;

  beforeEach(async () =&gt; {
    await TestBed.configureTestingModule({
      declarations: [ HelloComponent ],
      providers: [
        { provide: GreetingService, useClass: MockGreetingService }
      ]
    })
    .compileComponents();
  });

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(HelloComponent);
    component = fixture.componentInstance;
    greetingService = TestBed.inject(GreetingService);
    fixture.detectChanges();
  });

  it('hauria de crear el component', () =&gt; {
    expect(component).toBeTruthy();
  });

  it('hauria de mostrar el missatge de benvinguda', () =&gt; {
    const compiled = fixture.nativeElement;
    expect(compiled.querySelector('h1').textContent).toContain('Hola, m&oacute;n!');
  });
});</pre></div><div class='content'></div><h2>Explicació del codi</h2>
<div class='content'><ol>
<li><strong>Mock del servei</strong>: Creem una classe <code>MockGreetingService</code> que simula el comportament del servei real.</li>
<li><strong>Proveïdors</strong>: En la configuració del <code>TestBed</code>, utilitzem <code>providers</code> per substituir el servei real pel mock.</li>
<li><strong>Injecció del servei</strong>: Utilitzem <code>TestBed.inject</code> per obtenir una instància del servei (en aquest cas, el mock).</li>
</ol>
</div><h1>Exercicis pràctics</h1>
<div class='content'></div><h2>Exercici 1</h2>
<div class='content'><p>Crea un component <code>CounterComponent</code> que tingui un botó per incrementar un comptador. Escriu proves per assegurar-te que el comptador s'incrementa correctament.</p>
<h4>Component: <code>counter.component.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1jb3VudGVyJywKICB0ZW1wbGF0ZTogYAogICAgPHA+Q29tcHRhZG9yOiB7e2NvdW50fX08L3A+CiAgICA8YnV0dG9uIChjbGljayk9ImluY3JlbWVudCgpIj5JbmNyZW1lbnRhcjwvYnV0dG9uPgogIGAKfSkKZXhwb3J0IGNsYXNzIENvdW50ZXJDb21wb25lbnQgewogIGNvdW50OiBudW1iZXIgPSAwOwoKICBpbmNyZW1lbnQoKTogdm9pZCB7CiAgICB0aGlzLmNvdW50Kys7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component } from '@angular/core';

@Component({
  selector: 'app-counter',
  template: `
    &lt;p&gt;Comptador: {{count}}&lt;/p&gt;
    &lt;button (click)=&quot;increment()&quot;&gt;Incrementar&lt;/button&gt;
  `
})
export class CounterComponent {
  count: number = 0;

  increment(): void {
    this.count++;
  }
}</pre></div><div class='content'><h4>Prova: <code>counter.component.spec.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IENvdW50ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvdW50ZXIuY29tcG9uZW50JzsKCmRlc2NyaWJlKCdDb3VudGVyQ29tcG9uZW50JywgKCkgPT4gewogIGxldCBjb21wb25lbnQ6IENvdW50ZXJDb21wb25lbnQ7CiAgbGV0IGZpeHR1cmU6IENvbXBvbmVudEZpeHR1cmU8Q291bnRlckNvbXBvbmVudD47CgogIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4gewogICAgYXdhaXQgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHsKICAgICAgZGVjbGFyYXRpb25zOiBbIENvdW50ZXJDb21wb25lbnQgXQogICAgfSkKICAgIC5jb21waWxlQ29tcG9uZW50cygpOwogIH0pOwoKICBiZWZvcmVFYWNoKCgpID0+IHsKICAgIGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChDb3VudGVyQ29tcG9uZW50KTsKICAgIGNvbXBvbmVudCA9IGZpeHR1cmUuY29tcG9uZW50SW5zdGFuY2U7CiAgICBmaXh0dXJlLmRldGVjdENoYW5nZXMoKTsKICB9KTsKCiAgaXQoJ2hhdXJpYSBkZSBjcmVhciBlbCBjb21wb25lbnQnLCAoKSA9PiB7CiAgICBleHBlY3QoY29tcG9uZW50KS50b0JlVHJ1dGh5KCk7CiAgfSk7CgogIGl0KCdoYXVyaWEgZFwnaW5jcmVtZW50YXIgZWwgY29tcHRhZG9yIHF1YW4gZXMgZmEgY2xpYyBhbCBib3TDsycsICgpID0+IHsKICAgIGNvbnN0IGNvbXBpbGVkID0gZml4dHVyZS5uYXRpdmVFbGVtZW50OwogICAgY29uc3QgYnV0dG9uID0gY29tcGlsZWQucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7CiAgICBidXR0b24uY2xpY2soKTsKICAgIGZpeHR1cmUuZGV0ZWN0Q2hhbmdlcygpOwogICAgZXhwZWN0KGNvbXBpbGVkLnF1ZXJ5U2VsZWN0b3IoJ3AnKS50ZXh0Q29udGVudCkudG9Db250YWluKCdDb21wdGFkb3I6IDEnKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ComponentFixture, TestBed } from '@angular/core/testing';
import { CounterComponent } from './counter.component';

describe('CounterComponent', () =&gt; {
  let component: CounterComponent;
  let fixture: ComponentFixture&lt;CounterComponent&gt;;

  beforeEach(async () =&gt; {
    await TestBed.configureTestingModule({
      declarations: [ CounterComponent ]
    })
    .compileComponents();
  });

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(CounterComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('hauria de crear el component', () =&gt; {
    expect(component).toBeTruthy();
  });

  it('hauria d\'incrementar el comptador quan es fa clic al bot&oacute;', () =&gt; {
    const compiled = fixture.nativeElement;
    const button = compiled.querySelector('button');
    button.click();
    fixture.detectChanges();
    expect(compiled.querySelector('p').textContent).toContain('Comptador: 1');
  });
});</pre></div><div class='content'></div><h2>Solució</h2>
<div class='content'><ol>
<li><strong>Creació del component</strong>: El component <code>CounterComponent</code> té una propietat <code>count</code> i un mètode <code>increment</code> que incrementa el comptador.</li>
<li><strong>Prova del component</strong>: La prova comprova que el component es crea correctament i que el comptador s'incrementa quan es fa clic al botó.</li>
</ol>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem après com configurar i escriure proves per a components Angular. Hem vist com utilitzar mocks i espies per simular dependències i com escriure proves unitàries efectives. Les proves de components són una eina poderosa per assegurar la qualitat i la fiabilitat de les nostres aplicacions Angular.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-01-unit-testing' title="Proves unitàries">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-03-service-testing' title="Proves de serveis">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs d'Angular 2+</h1>
<h2>Mòdul 1: Introducció a Angular</h2>
<ul>
<li><a href="01-01-what-is-angular">Què és Angular?</a></li>
<li><a href="01-02-setting-up-environment">Configuració de l'entorn de desenvolupament</a></li>
<li><a href="01-03-first-angular-app">La teva primera aplicació Angular</a></li>
<li><a href="01-04-angular-architecture">Arquitectura d'Angular</a></li>
</ul>
<h2>Mòdul 2: Conceptes bàsics de TypeScript</h2>
<ul>
<li><a href="02-01-introduction-to-typescript">Introducció a TypeScript</a></li>
<li><a href="02-02-typescript-variables-data-types">Variables i tipus de dades en TypeScript</a></li>
<li><a href="02-03-functions-arrow-functions">Funcions i funcions fletxa</a></li>
<li><a href="02-04-classes-interfaces">Classes i interfícies</a></li>
</ul>
<h2>Mòdul 3: Components i plantilles</h2>
<ul>
<li><a href="03-01-creating-components">Creació de components</a></li>
<li><a href="03-02-component-templates">Plantilles de components</a></li>
<li><a href="03-03-component-styles">Estils de components</a></li>
<li><a href="03-04-component-interaction">Interacció entre components</a></li>
</ul>
<h2>Mòdul 4: Directives i pipes</h2>
<ul>
<li><a href="04-01-built-in-directives">Directives integrades</a></li>
<li><a href="04-02-custom-directives">Directives personalitzades</a></li>
<li><a href="04-03-built-in-pipes">Pipes integrats</a></li>
<li><a href="04-04-custom-pipes">Pipes personalitzats</a></li>
</ul>
<h2>Mòdul 5: Serveis i injecció de dependències</h2>
<ul>
<li><a href="05-01-introduction-to-services">Introducció als serveis</a></li>
<li><a href="05-02-creating-using-services">Creació i ús de serveis</a></li>
<li><a href="05-03-dependency-injection">Injecció de dependències</a></li>
<li><a href="05-04-hierarchical-injectors">Injeccions jeràrquiques</a></li>
</ul>
<h2>Mòdul 6: Enrutament i navegació</h2>
<ul>
<li><a href="06-01-setting-up-routes">Configuració de rutes</a></li>
<li><a href="06-02-route-parameters">Paràmetres de ruta</a></li>
<li><a href="06-03-child-routes">Rutes fills</a></li>
<li><a href="06-04-route-guards">Guàrdies de ruta</a></li>
</ul>
<h2>Mòdul 7: Formularis en Angular</h2>
<ul>
<li><a href="07-01-template-driven-forms">Formularis basats en plantilles</a></li>
<li><a href="07-02-reactive-forms">Formularis reactius</a></li>
<li><a href="07-03-form-validation">Validació de formularis</a></li>
<li><a href="07-04-dynamic-forms">Formularis dinàmics</a></li>
</ul>
<h2>Mòdul 8: Client HTTP i observables</h2>
<ul>
<li><a href="08-01-introduction-to-http-client">Introducció al client HTTP</a></li>
<li><a href="08-02-making-http-requests">Realització de sol·licituds HTTP</a></li>
<li><a href="08-03-handling-http-responses">Gestió de respostes HTTP</a></li>
<li><a href="08-04-using-observables">Ús d'observables</a></li>
</ul>
<h2>Mòdul 9: Gestió d'estat</h2>
<ul>
<li><a href="09-01-introduction-to-state-management">Introducció a la gestió d'estat</a></li>
<li><a href="09-02-using-services-for-state-management">Ús de serveis per a la gestió d'estat</a></li>
<li><a href="09-03-ngrx-store">NgRx Store</a></li>
<li><a href="09-04-ngrx-effects">NgRx Effects</a></li>
</ul>
<h2>Mòdul 10: Proves en Angular</h2>
<ul>
<li><a href="10-01-unit-testing">Proves unitàries</a></li>
<li><a href="10-02-component-testing">Proves de components</a></li>
<li><a href="10-03-service-testing">Proves de serveis</a></li>
<li><a href="10-04-end-to-end-testing">Proves de punta a punta</a></li>
</ul>
<h2>Mòdul 11: Temes avançats</h2>
<ul>
<li><a href="11-01-angular-universal">Angular Universal</a></li>
<li><a href="11-02-performance-optimization">Optimització del rendiment</a></li>
<li><a href="11-03-internationalization">Internacionalització</a></li>
<li><a href="11-04-angular-cli">Angular CLI</a></li>
</ul>
<h2>Mòdul 12: Desplegament i millors pràctiques</h2>
<ul>
<li><a href="12-01-building-deploying-angular-apps">Construcció i desplegament d'aplicacions Angular</a></li>
<li><a href="12-02-version-control-with-git">Control de versions amb Git</a></li>
<li><a href="12-03-code-quality-linting">Qualitat del codi i linting</a></li>
<li><a href="12-04-best-practices">Millors pràctiques</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
