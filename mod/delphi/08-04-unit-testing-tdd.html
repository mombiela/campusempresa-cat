<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries i Desenvolupament Basat en Proves</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/08-04-unit-testing-tdd" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/08-04-unit-testing-tdd" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/08-04-unit-testing-tdd" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/delphi/08-04-unit-testing-tdd" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/delphi/08-04-unit-testing-tdd" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges de Programació</a>
				 					<a href="/categ/frameworks">Frameworks i Llibreries</a>
				 					<a href="/categ/tech-tools">Eines Tècniques</a>
				 					<a href="/categ/foundations">Fonaments Teòrics</a>
				 					<a href="/categ/soft-skills">Habilitats Socials</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-refactoring-techniques' title="Tècniques de Refactorització">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proves Unitàries i Desenvolupament Basat en Proves</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-05-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem les proves unitàries i el desenvolupament basat en proves (TDD) en Delphi/Object Pascal. Les proves unitàries són una tècnica fonamental per assegurar la qualitat del codi, mentre que el TDD és una metodologia que integra les proves en el procés de desenvolupament.</p>
</div><h1><ol>
<li>Introducció a les Proves Unitàries</li>
</ol>
</h1>
<div class='content'></div><h2><p>Què són les Proves Unitàries?</p>
</h2>
<div class='content'><p>Les proves unitàries són tests automàtics que verifiquen el funcionament correcte de petites unitats de codi, com ara funcions o mètodes. L'objectiu és assegurar que cada unitat funcioni correctament de manera aïllada.</p>
</div><h2><p>Beneficis de les Proves Unitàries</p>
</h2>
<div class='content'><ul>
<li><strong>Detecció Primerenca d'Errors:</strong> Identifiquen errors en fases inicials del desenvolupament.</li>
<li><strong>Facilitat de Refactorització:</strong> Permeten canviar el codi amb confiança, sabent que els tests validaran els canvis.</li>
<li><strong>Documentació del Codi:</strong> Els tests serveixen com a documentació viva del comportament esperat del codi.</li>
</ul>
</div><h1><ol start="2">
<li>Eines per a Proves Unitàries en Delphi</li>
</ol>
</h1>
<div class='content'></div><h2><p>DUnit</p>
</h2>
<div class='content'><p>DUnit és una de les biblioteques més populars per a proves unitàries en Delphi. Proporciona una estructura per escriure i executar tests.</p>
</div><h2><p>DUnitX</p>
</h2>
<div class='content'><p>DUnitX és una versió més moderna i avançada de DUnit, amb suport per a noves funcionalitats i millores en la usabilitat.</p>
</div><h1><ol start="3">
<li>Escriure Proves Unitàries amb DUnitX</li>
</ol>
</h1>
<div class='content'></div><h2><p>Instal·lació de DUnitX</p>
</h2>
<div class='content'><ol>
<li><strong>Descarregar DUnitX:</strong> Pots descarregar DUnitX des del seu repositori oficial a GitHub.</li>
<li><strong>Afegir a Delphi:</strong> Afegeix les unitats de DUnitX al teu projecte Delphi.</li>
</ol>
</div><h2><p>Exemple de Prova Unitària</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5pdCBNeVVuaXRUZXN0czsKCmludGVyZmFjZQoKdXNlcwogIERVbml0WC5UZXN0RnJhbWV3b3JrOwoKdHlwZQogIFtUZXN0Rml4dHVyZV0KICBUTXlVbml0VGVzdHMgPSBjbGFzcyhUT2JqZWN0KQogIHB1YmxpYwogICAgW1Rlc3RdCiAgICBwcm9jZWR1cmUgVGVzdEFkZGl0aW9uOwogIGVuZDsKCmltcGxlbWVudGF0aW9uCgpwcm9jZWR1cmUgVE15VW5pdFRlc3RzLlRlc3RBZGRpdGlvbjsKdmFyCiAgYSwgYiwgcmVzdWx0OiBJbnRlZ2VyOwpiZWdpbgogIGEgOj0gMjsKICBiIDo9IDM7CiAgcmVzdWx0IDo9IGEgKyBiOwogIEFzc2VydC5BcmVFcXVhbCg1LCByZXN1bHQsICdMYSBzdW1hIGRlIDIgaSAzIGhhIGRlIHNlciA1Jyk7CmVuZDsKCmluaXRpYWxpemF0aW9uCiAgVERVbml0WC5SZWdpc3RlclRlc3RGaXh0dXJlKFRNeVVuaXRUZXN0cyk7CgplbmQu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unit MyUnitTests;

interface

uses
  DUnitX.TestFramework;

type
  [TestFixture]
  TMyUnitTests = class(TObject)
  public
    [Test]
    procedure TestAddition;
  end;

implementation

procedure TMyUnitTests.TestAddition;
var
  a, b, result: Integer;
begin
  a := 2;
  b := 3;
  result := a + b;
  Assert.AreEqual(5, result, 'La suma de 2 i 3 ha de ser 5');
end;

initialization
  TDUnitX.RegisterTestFixture(TMyUnitTests);

end.</pre></div><div class='content'></div><h2><p>Explicació del Codi</p>
</h2>
<div class='content'><ul>
<li><strong>[TestFixture]:</strong> Indica que la classe conté proves.</li>
<li><strong>[Test]:</strong> Marca un mètode com a prova.</li>
<li><strong>Assert.AreEqual:</strong> Comprova que el resultat esperat és igual al resultat obtingut.</li>
</ul>
</div><h1><ol start="4">
<li>Desenvolupament Basat en Proves (TDD)</li>
</ol>
</h1>
<div class='content'></div><h2><p>Què és el TDD?</p>
</h2>
<div class='content'><p>El TDD és una metodologia de desenvolupament on les proves es creen abans del codi funcional. El procés típic de TDD segueix aquests passos:</p>
<ol>
<li><strong>Escriure una Prova:</strong> Crear una prova que falli perquè la funcionalitat encara no està implementada.</li>
<li><strong>Escriure el Codi:</strong> Escriure el codi mínim necessari per passar la prova.</li>
<li><strong>Refactoritzar:</strong> Millorar el codi mantenint les proves passant.</li>
</ol>
</div><h2><p>Beneficis del TDD</p>
</h2>
<div class='content'><ul>
<li><strong>Codi més Net i Modular:</strong> El TDD fomenta la creació de codi més net i fàcil de mantenir.</li>
<li><strong>Menys Errors:</strong> Redueix la quantitat d'errors en el codi final.</li>
<li><strong>Millor Disseny:</strong> Ajuda a pensar en el disseny del codi abans d'implementar-lo.</li>
</ul>
</div><h2><p>Exemple de TDD</p>
</h2>
<div class='content'><h4>Pas 1: Escriure una Prova que Falli</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRNeVVuaXRUZXN0cy5UZXN0U3VidHJhY3Rpb247CnZhcgogIGEsIGIsIHJlc3VsdDogSW50ZWdlcjsKYmVnaW4KICBhIDo9IDU7CiAgYiA6PSAzOwogIHJlc3VsdCA6PSBhIC0gYjsKICBBc3NlcnQuQXJlRXF1YWwoMiwgcmVzdWx0LCAnTGEgcmVzdGEgZGUgNSBpIDMgaGEgZGUgc2VyIDInKTsKZW5kOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TMyUnitTests.TestSubtraction;
var
  a, b, result: Integer;
begin
  a := 5;
  b := 3;
  result := a - b;
  Assert.AreEqual(2, result, 'La resta de 5 i 3 ha de ser 2');
end;</pre></div><div class='content'><h4>Pas 2: Escriure el Codi per Passar la Prova</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gU3VidHJhY3QoYSwgYjogSW50ZWdlcik6IEludGVnZXI7CmJlZ2luCiAgUmVzdWx0IDo9IGEgLSBiOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function Subtract(a, b: Integer): Integer;
begin
  Result := a - b;
end;</pre></div><div class='content'><h4>Pas 3: Refactoritzar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRNeVVuaXRUZXN0cy5UZXN0U3VidHJhY3Rpb247CnZhcgogIHJlc3VsdDogSW50ZWdlcjsKYmVnaW4KICByZXN1bHQgOj0gU3VidHJhY3QoNSwgMyk7CiAgQXNzZXJ0LkFyZUVxdWFsKDIsIHJlc3VsdCwgJ0xhIHJlc3RhIGRlIDUgaSAzIGhhIGRlIHNlciAyJyk7CmVuZDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TMyUnitTests.TestSubtraction;
var
  result: Integer;
begin
  result := Subtract(5, 3);
  Assert.AreEqual(2, result, 'La resta de 5 i 3 ha de ser 2');
end;</pre></div><div class='content'></div><h1><ol start="5">
<li>Exercicis Pràctics</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercici 1: Escriure una Prova Unitària</p>
</h2>
<div class='content'><p>Escriu una prova unitària per a una funció que multiplica dos nombres.</p>
</div><h2><p>Exercici 2: Implementar TDD</p>
</h2>
<div class='content'><p>Utilitza TDD per implementar una funció que divideix dos nombres i comprova que la divisió per zero genera una excepció.</p>
</div><h1><ol start="6">
<li>Solucions als Exercicis</li>
</ol>
</h1>
<div class='content'></div><h2><p>Solució a l'Exercici 1</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRNeVVuaXRUZXN0cy5UZXN0TXVsdGlwbGljYXRpb247CnZhcgogIGEsIGIsIHJlc3VsdDogSW50ZWdlcjsKYmVnaW4KICBhIDo9IDQ7CiAgYiA6PSA1OwogIHJlc3VsdCA6PSBhICogYjsKICBBc3NlcnQuQXJlRXF1YWwoMjAsIHJlc3VsdCwgJ0xhIG11bHRpcGxpY2FjacOzIGRlIDQgaSA1IGhhIGRlIHNlciAyMCcpOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TMyUnitTests.TestMultiplication;
var
  a, b, result: Integer;
begin
  a := 4;
  b := 5;
  result := a * b;
  Assert.AreEqual(20, result, 'La multiplicaci&oacute; de 4 i 5 ha de ser 20');
end;</pre></div><div class='content'></div><h2><p>Solució a l'Exercici 2</p>
</h2>
<div class='content'><h4>Pas 1: Escriure una Prova que Falli</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRNeVVuaXRUZXN0cy5UZXN0RGl2aXNpb247CnZhcgogIHJlc3VsdDogRG91YmxlOwpiZWdpbgogIHJlc3VsdCA6PSBEaXZpZGUoMTAsIDIpOwogIEFzc2VydC5BcmVFcXVhbCg1LjAsIHJlc3VsdCwgJ0xhIGRpdmlzacOzIGRlIDEwIHBlciAyIGhhIGRlIHNlciA1Jyk7CmVuZDsKCnByb2NlZHVyZSBUTXlVbml0VGVzdHMuVGVzdERpdmlzaW9uQnlaZXJvOwpiZWdpbgogIEFzc2VydC5XaWxsUmFpc2UoCiAgICBwcm9jZWR1cmUKICAgIGJlZ2luCiAgICAgIERpdmlkZSgxMCwgMCk7CiAgICBlbmQsCiAgICBFRGl2QnlaZXJvLAogICAgJ0xhIGRpdmlzacOzIHBlciB6ZXJvIGhhIGRlIGdlbmVyYXIgdW5hIGV4Y2VwY2nDsycKICApOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TMyUnitTests.TestDivision;
var
  result: Double;
begin
  result := Divide(10, 2);
  Assert.AreEqual(5.0, result, 'La divisi&oacute; de 10 per 2 ha de ser 5');
end;

procedure TMyUnitTests.TestDivisionByZero;
begin
  Assert.WillRaise(
    procedure
    begin
      Divide(10, 0);
    end,
    EDivByZero,
    'La divisi&oacute; per zero ha de generar una excepci&oacute;'
  );
end;</pre></div><div class='content'><h4>Pas 2: Escriure el Codi per Passar la Prova</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gRGl2aWRlKGEsIGI6IERvdWJsZSk6IERvdWJsZTsKYmVnaW4KICBpZiBiID0gMCB0aGVuCiAgICByYWlzZSBFRGl2QnlaZXJvLkNyZWF0ZSgnRGl2aXNpw7MgcGVyIHplcm8nKTsKICBSZXN1bHQgOj0gYSAvIGI7CmVuZDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function Divide(a, b: Double): Double;
begin
  if b = 0 then
    raise EDivByZero.Create('Divisi&oacute; per zero');
  Result := a / b;
end;</pre></div><div class='content'><h4>Pas 3: Refactoritzar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRNeVVuaXRUZXN0cy5UZXN0RGl2aXNpb247CnZhcgogIHJlc3VsdDogRG91YmxlOwpiZWdpbgogIHJlc3VsdCA6PSBEaXZpZGUoMTAsIDIpOwogIEFzc2VydC5BcmVFcXVhbCg1LjAsIHJlc3VsdCwgJ0xhIGRpdmlzacOzIGRlIDEwIHBlciAyIGhhIGRlIHNlciA1Jyk7CmVuZDsKCnByb2NlZHVyZSBUTXlVbml0VGVzdHMuVGVzdERpdmlzaW9uQnlaZXJvOwpiZWdpbgogIEFzc2VydC5XaWxsUmFpc2UoCiAgICBwcm9jZWR1cmUKICAgIGJlZ2luCiAgICAgIERpdmlkZSgxMCwgMCk7CiAgICBlbmQsCiAgICBFRGl2QnlaZXJvLAogICAgJ0xhIGRpdmlzacOzIHBlciB6ZXJvIGhhIGRlIGdlbmVyYXIgdW5hIGV4Y2VwY2nDsycKICApOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TMyUnitTests.TestDivision;
var
  result: Double;
begin
  result := Divide(10, 2);
  Assert.AreEqual(5.0, result, 'La divisi&oacute; de 10 per 2 ha de ser 5');
end;

procedure TMyUnitTests.TestDivisionByZero;
begin
  Assert.WillRaise(
    procedure
    begin
      Divide(10, 0);
    end,
    EDivByZero,
    'La divisi&oacute; per zero ha de generar una excepci&oacute;'
  );
end;</pre></div><div class='content'></div><h1><ol start="7">
<li>Resum</li>
</ol>
</h1>
<div class='content'><p>En aquesta secció, hem après sobre les proves unitàries i el desenvolupament basat en proves (TDD) en Delphi/Object Pascal. Hem explorat com utilitzar DUnitX per escriure proves unitàries i com aplicar la metodologia TDD per desenvolupar codi de qualitat. Les proves unitàries i el TDD són eines poderoses que ajuden a assegurar la robustesa i mantenibilitat del codi.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-refactoring-techniques' title="Tècniques de Refactorització">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-05-performance-optimization' title="Optimització del Rendiment">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
