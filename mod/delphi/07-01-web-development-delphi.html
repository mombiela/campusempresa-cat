<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desenvolupament Web amb Delphi</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/07-01-web-development-delphi" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/07-01-web-development-delphi" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/07-01-web-development-delphi" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/delphi/07-01-web-development-delphi" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/delphi/07-01-web-development-delphi" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-05-cross-platform-development-fmx' title="Desenvolupament Multiplataforma amb FMX">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Desenvolupament Web amb Delphi</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-02-restful-services' title="Serveis RESTful">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>El desenvolupament web amb Delphi permet crear aplicacions web robustes i eficients utilitzant les capacitats del llenguatge Object Pascal i les eines proporcionades per l'entorn de desenvolupament integrat (IDE) de Delphi. En aquest tema, explorarem les eines i les tècniques necessàries per desenvolupar aplicacions web amb Delphi.</p>
</div><h1>Continguts</h1>
<div class='content'><ol>
<li><strong>Introducció a les Tecnologies Web en Delphi</strong></li>
<li><strong>Configuració de l'Entorn per al Desenvolupament Web</strong></li>
<li><strong>Creació d'un Projecte Web amb Delphi</strong></li>
<li><strong>Desenvolupament de la Lògica del Servidor</strong></li>
<li><strong>Interfície d'Usuari Web</strong></li>
<li><strong>Connexió amb Bases de Dades</strong></li>
<li><strong>Desplegament d'Aplicacions Web</strong></li>
</ol>
</div><h1>1. Introducció a les Tecnologies Web en Delphi</h1>
<div class='content'><p>Delphi ofereix diverses tecnologies per al desenvolupament web, incloent:</p>
<ul>
<li><strong>WebBroker</strong>: Un marc lleuger per a la creació d'aplicacions web basades en CGI, ISAPI o NSAPI.</li>
<li><strong>DataSnap</strong>: Permet la creació de serveis de dades de múltiples capes que poden ser consumits per aplicacions web.</li>
<li><strong>RAD Server</strong>: Una plataforma per a la creació de serveis RESTful i aplicacions web modernes.</li>
</ul>
</div><h1>2. Configuració de l'Entorn per al Desenvolupament Web</h1>
<div class='content'></div><h2>Instal·lació de Delphi</h2>
<div class='content'><p>Assegura't de tenir instal·lada la versió més recent de Delphi. Pots descarregar-la des del lloc web oficial d'Embarcadero.</p>
</div><h2>Configuració del Servidor Web</h2>
<div class='content'><p>Per desenvolupar aplicacions web, necessitaràs un servidor web. Pots utilitzar servidors com Apache o IIS. A continuació, es mostra com configurar Apache:</p>
<ol>
<li><strong>Descarrega i instal·la Apache</strong> des del lloc web oficial.</li>
<li><strong>Configura Apache</strong> per treballar amb Delphi:
<ul>
<li>Edita el fitxer <code>httpd.conf</code> per afegir el suport per a CGI.</li>
<li>Assegura't que el directori CGI estigui configurat correctament.</li>
</ul>
</li>
</ol>
</div><h1>3. Creació d'un Projecte Web amb Delphi</h1>
<div class='content'></div><h2>Pas 1: Crear un Nou Projecte WebBroker</h2>
<div class='content'><ol>
<li>Obre Delphi i selecciona <strong>File &gt; New &gt; Other</strong>.</li>
<li>A la finestra de diàleg, selecciona <strong>WebBroker Application</strong>.</li>
<li>Tria el tipus de servidor (CGI, ISAPI, etc.) i fes clic a <strong>OK</strong>.</li>
</ol>
</div><h2>Pas 2: Configurar el Projecte</h2>
<div class='content'><ol>
<li>Configura les propietats del projecte segons les teves necessitats.</li>
<li>Afegeix els mòduls necessaris per gestionar les sol·licituds HTTP.</li>
</ol>
</div><h2>Exemple de Codi</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5pdCBXZWJNb2R1bGVVbml0MTsKCmludGVyZmFjZQoKdXNlcwogIFN5c3RlbS5TeXNVdGlscywgU3lzdGVtLkNsYXNzZXMsIFdlYi5IVFRQQXBwOwoKdHlwZQogIFRXZWJNb2R1bGUxID0gY2xhc3MoVFdlYk1vZHVsZSkKICAgIHByb2NlZHVyZSBXZWJNb2R1bGUxRGVmYXVsdEhhbmRsZXJBY3Rpb24oU2VuZGVyOiBUT2JqZWN0OyBSZXF1ZXN0OiBUV2ViUmVxdWVzdDsgUmVzcG9uc2U6IFRXZWJSZXNwb25zZTsgdmFyIEhhbmRsZWQ6IEJvb2xlYW4pOwogIHByaXZhdGUKICAgIHsgUHJpdmF0ZSBkZWNsYXJhdGlvbnMgfQogIHB1YmxpYwogICAgeyBQdWJsaWMgZGVjbGFyYXRpb25zIH0KICBlbmQ7Cgp2YXIKICBXZWJNb2R1bGUxOiBUV2ViTW9kdWxlMTsKCmltcGxlbWVudGF0aW9uCgp7JUNMQVNTR1JPVVAgJ1N5c3RlbS5DbGFzc2VzLlRQZXJzaXN0ZW50J30KCnskUiAqLmRmbX0KCnByb2NlZHVyZSBUV2ViTW9kdWxlMS5XZWJNb2R1bGUxRGVmYXVsdEhhbmRsZXJBY3Rpb24oU2VuZGVyOiBUT2JqZWN0OyBSZXF1ZXN0OiBUV2ViUmVxdWVzdDsgUmVzcG9uc2U6IFRXZWJSZXNwb25zZTsgdmFyIEhhbmRsZWQ6IEJvb2xlYW4pOwpiZWdpbgogIFJlc3BvbnNlLkNvbnRlbnQgOj0gJzxodG1sPjxib2R5PjxoMT5IZWxsbywgV29ybGQhPC9oMT48L2JvZHk+PC9odG1sPic7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7CgplbmQu"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unit WebModuleUnit1;

interface

uses
  System.SysUtils, System.Classes, Web.HTTPApp;

type
  TWebModule1 = class(TWebModule)
    procedure WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  WebModule1: TWebModule1;

implementation

{%CLASSGROUP 'System.Classes.TPersistent'}

{$R *.dfm}

procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
begin
  Response.Content := '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';
  Handled := True;
end;

end.</pre></div><div class='content'></div><h1>4. Desenvolupament de la Lògica del Servidor</h1>
<div class='content'></div><h2>Gestió de Sol·licituds HTTP</h2>
<div class='content'><p>Utilitza els mòduls de WebBroker per gestionar diferents tipus de sol·licituds HTTP (GET, POST, etc.). Pots definir diferents accions per a cada tipus de sol·licitud.</p>
</div><h2>Exemple de Gestió de Sol·licituds POST</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CmJlZ2luCiAgaWYgUmVxdWVzdC5NZXRob2QgPSAnUE9TVCcgdGhlbgogIGJlZ2luCiAgICAvLyBQcm9jZXNzYXIgZGFkZXMgZGVsIGZvcm11bGFyaQogICAgUmVzcG9uc2UuQ29udGVudCA6PSAnPGh0bWw+PGJvZHk+PGgxPkRhdGEgUmVjZWl2ZWQ8L2gxPjwvYm9keT48L2h0bWw+JzsKICBlbmQKICBlbHNlCiAgYmVnaW4KICAgIFJlc3BvbnNlLkNvbnRlbnQgOj0gJzxodG1sPjxib2R5PjxoMT5VbnN1cHBvcnRlZCBNZXRob2Q8L2gxPjwvYm9keT48L2h0bWw+JzsKICBlbmQ7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
begin
  if Request.Method = 'POST' then
  begin
    // Processar dades del formulari
    Response.Content := '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Data Received&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';
  end
  else
  begin
    Response.Content := '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Unsupported Method&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';
  end;
  Handled := True;
end;</pre></div><div class='content'></div><h1>5. Interfície d'Usuari Web</h1>
<div class='content'></div><h2>Generació de Contingut HTML</h2>
<div class='content'><p>Pots generar contingut HTML dinàmicament des del servidor utilitzant Delphi. Això et permet crear interfícies d'usuari web personalitzades.</p>
</div><h2>Exemple de Generació de Formulari HTML</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CmJlZ2luCiAgUmVzcG9uc2UuQ29udGVudCA6PSAnPGh0bWw+PGJvZHk+JyArCiAgICAgICAgICAgICAgICAgICAgICAnPGZvcm0gbWV0aG9kPSJQT1NUIiBhY3Rpb249IiI+JyArCiAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj0ibmFtZSI+TmFtZTo8L2xhYmVsPicgKwogICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSI+JyArCiAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCI+JyArCiAgICAgICAgICAgICAgICAgICAgICAnPC9mb3JtPicgKwogICAgICAgICAgICAgICAgICAgICAgJzwvYm9keT48L2h0bWw+JzsKICBIYW5kbGVkIDo9IFRydWU7CmVuZDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
begin
  Response.Content := '&lt;html&gt;&lt;body&gt;' +
                      '&lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;' +
                      '&lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;' +
                      '&lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;' +
                      '&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;' +
                      '&lt;/form&gt;' +
                      '&lt;/body&gt;&lt;/html&gt;';
  Handled := True;
end;</pre></div><div class='content'></div><h1>6. Connexió amb Bases de Dades</h1>
<div class='content'></div><h2>Utilització de DataSnap</h2>
<div class='content'><p>DataSnap permet connectar-se a bases de dades i proporcionar serveis de dades a les aplicacions web.</p>
</div><h2>Exemple de Connexió a una Base de Dades</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CnZhcgogIENvbm46IFRTUUxDb25uZWN0aW9uOwogIFF1ZXJ5OiBUU1FMUXVlcnk7CmJlZ2luCiAgQ29ubiA6PSBUU1FMQ29ubmVjdGlvbi5DcmVhdGUobmlsKTsKICB0cnkKICAgIENvbm4uRHJpdmVyTmFtZSA6PSAnTXlTUUwnOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydIb3N0TmFtZSddIDo9ICdsb2NhbGhvc3QnOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydEYXRhYmFzZSddIDo9ICd0ZXN0ZGInOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydVc2VyX05hbWUnXSA6PSAncm9vdCc7CiAgICBDb25uLlBhcmFtcy5WYWx1ZXNbJ1Bhc3N3b3JkJ10gOj0gJ3Bhc3N3b3JkJzsKICAgIENvbm4uT3BlbjsKCiAgICBRdWVyeSA6PSBUU1FMUXVlcnkuQ3JlYXRlKG5pbCk7CiAgICB0cnkKICAgICAgUXVlcnkuU1FMQ29ubmVjdGlvbiA6PSBDb25uOwogICAgICBRdWVyeS5TUUwuVGV4dCA6PSAnU0VMRUNUICogRlJPTSB1c2Vycyc7CiAgICAgIFF1ZXJ5Lk9wZW47CgogICAgICBSZXNwb25zZS5Db250ZW50IDo9ICc8aHRtbD48Ym9keT48dGFibGU+JzsKICAgICAgd2hpbGUgbm90IFF1ZXJ5LkVvZiBkbwogICAgICBiZWdpbgogICAgICAgIFJlc3BvbnNlLkNvbnRlbnQgOj0gUmVzcG9uc2UuQ29udGVudCArICc8dHI+PHRkPicgKyBRdWVyeS5GaWVsZEJ5TmFtZSgnbmFtZScpLkFzU3RyaW5nICsgJzwvdGQ+PC90cj4nOwogICAgICAgIFF1ZXJ5Lk5leHQ7CiAgICAgIGVuZDsKICAgICAgUmVzcG9uc2UuQ29udGVudCA6PSBSZXNwb25zZS5Db250ZW50ICsgJzwvdGFibGU+PC9ib2R5PjwvaHRtbD4nOwogICAgZmluYWxseQogICAgICBRdWVyeS5GcmVlOwogICAgZW5kOwogIGZpbmFsbHkKICAgIENvbm4uRnJlZTsKICBlbmQ7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
var
  Conn: TSQLConnection;
  Query: TSQLQuery;
begin
  Conn := TSQLConnection.Create(nil);
  try
    Conn.DriverName := 'MySQL';
    Conn.Params.Values['HostName'] := 'localhost';
    Conn.Params.Values['Database'] := 'testdb';
    Conn.Params.Values['User_Name'] := 'root';
    Conn.Params.Values['Password'] := 'password';
    Conn.Open;

    Query := TSQLQuery.Create(nil);
    try
      Query.SQLConnection := Conn;
      Query.SQL.Text := 'SELECT * FROM users';
      Query.Open;

      Response.Content := '&lt;html&gt;&lt;body&gt;&lt;table&gt;';
      while not Query.Eof do
      begin
        Response.Content := Response.Content + '&lt;tr&gt;&lt;td&gt;' + Query.FieldByName('name').AsString + '&lt;/td&gt;&lt;/tr&gt;';
        Query.Next;
      end;
      Response.Content := Response.Content + '&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;';
    finally
      Query.Free;
    end;
  finally
    Conn.Free;
  end;
  Handled := True;
end;</pre></div><div class='content'></div><h1>7. Desplegament d'Aplicacions Web</h1>
<div class='content'></div><h2>Preparació del Servidor</h2>
<div class='content'><p>Assegura't que el servidor web estigui configurat correctament per executar aplicacions CGI o ISAPI.</p>
</div><h2>Desplegament de l'Aplicació</h2>
<div class='content'><ol>
<li>Compila el projecte en Delphi.</li>
<li>Copia els fitxers generats al directori del servidor web.</li>
<li>Configura el servidor web per reconèixer i executar els fitxers CGI o ISAPI.</li>
</ol>
</div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear una Pàgina Web Simple</h2>
<div class='content'><p>Crea una aplicació WebBroker que mostri una pàgina web amb un missatge de benvinguda.</p>
</div><h2>Exercici 2: Formulari de Submissió</h2>
<div class='content'><p>Crea un formulari HTML que permeti als usuaris enviar el seu nom i mostri un missatge de benvinguda personalitzat.</p>
</div><h2>Exercici 3: Connexió a una Base de Dades</h2>
<div class='content'><p>Crea una aplicació que es connecti a una base de dades i mostri una llista d'usuaris en una taula HTML.</p>
</div><h1>Solucions</h1>
<div class='content'></div><h2>Solució a l'Exercici 1</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CmJlZ2luCiAgUmVzcG9uc2UuQ29udGVudCA6PSAnPGh0bWw+PGJvZHk+PGgxPldlbGNvbWUgdG8gTXkgV2ViIEFwcGxpY2F0aW9uPC9oMT48L2JvZHk+PC9odG1sPic7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
begin
  Response.Content := '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Welcome to My Web Application&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';
  Handled := True;
end;</pre></div><div class='content'></div><h2>Solució a l'Exercici 2</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CmJlZ2luCiAgaWYgUmVxdWVzdC5NZXRob2QgPSAnUE9TVCcgdGhlbgogIGJlZ2luCiAgICBSZXNwb25zZS5Db250ZW50IDo9ICc8aHRtbD48Ym9keT48aDE+SGVsbG8sICcgKyBSZXF1ZXN0LkNvbnRlbnRGaWVsZHMuVmFsdWVzWyduYW1lJ10gKyAnITwvaDE+PC9ib2R5PjwvaHRtbD4nOwogIGVuZAogIGVsc2UKICBiZWdpbgogICAgUmVzcG9uc2UuQ29udGVudCA6PSAnPGh0bWw+PGJvZHk+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICc8Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iIj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9Im5hbWUiPk5hbWU6PC9sYWJlbD4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSI+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU3VibWl0Ij4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzwvZm9ybT4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJzwvYm9keT48L2h0bWw+JzsKICBlbmQ7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
begin
  if Request.Method = 'POST' then
  begin
    Response.Content := '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, ' + Request.ContentFields.Values['name'] + '!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';
  end
  else
  begin
    Response.Content := '&lt;html&gt;&lt;body&gt;' +
                        '&lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;' +
                        '&lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;' +
                        '&lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;' +
                        '&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;' +
                        '&lt;/form&gt;' +
                        '&lt;/body&gt;&lt;/html&gt;';
  end;
  Handled := True;
end;</pre></div><div class='content'></div><h2>Solució a l'Exercici 3</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRXZWJNb2R1bGUxLldlYk1vZHVsZTFEZWZhdWx0SGFuZGxlckFjdGlvbihTZW5kZXI6IFRPYmplY3Q7IFJlcXVlc3Q6IFRXZWJSZXF1ZXN0OyBSZXNwb25zZTogVFdlYlJlc3BvbnNlOyB2YXIgSGFuZGxlZDogQm9vbGVhbik7CnZhcgogIENvbm46IFRTUUxDb25uZWN0aW9uOwogIFF1ZXJ5OiBUU1FMUXVlcnk7CmJlZ2luCiAgQ29ubiA6PSBUU1FMQ29ubmVjdGlvbi5DcmVhdGUobmlsKTsKICB0cnkKICAgIENvbm4uRHJpdmVyTmFtZSA6PSAnTXlTUUwnOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydIb3N0TmFtZSddIDo9ICdsb2NhbGhvc3QnOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydEYXRhYmFzZSddIDo9ICd0ZXN0ZGInOwogICAgQ29ubi5QYXJhbXMuVmFsdWVzWydVc2VyX05hbWUnXSA6PSAncm9vdCc7CiAgICBDb25uLlBhcmFtcy5WYWx1ZXNbJ1Bhc3N3b3JkJ10gOj0gJ3Bhc3N3b3JkJzsKICAgIENvbm4uT3BlbjsKCiAgICBRdWVyeSA6PSBUU1FMUXVlcnkuQ3JlYXRlKG5pbCk7CiAgICB0cnkKICAgICAgUXVlcnkuU1FMQ29ubmVjdGlvbiA6PSBDb25uOwogICAgICBRdWVyeS5TUUwuVGV4dCA6PSAnU0VMRUNUICogRlJPTSB1c2Vycyc7CiAgICAgIFF1ZXJ5Lk9wZW47CgogICAgICBSZXNwb25zZS5Db250ZW50IDo9ICc8aHRtbD48Ym9keT48dGFibGU+JzsKICAgICAgd2hpbGUgbm90IFF1ZXJ5LkVvZiBkbwogICAgICBiZWdpbgogICAgICAgIFJlc3BvbnNlLkNvbnRlbnQgOj0gUmVzcG9uc2UuQ29udGVudCArICc8dHI+PHRkPicgKyBRdWVyeS5GaWVsZEJ5TmFtZSgnbmFtZScpLkFzU3RyaW5nICsgJzwvdGQ+PC90cj4nOwogICAgICAgIFF1ZXJ5Lk5leHQ7CiAgICAgIGVuZDsKICAgICAgUmVzcG9uc2UuQ29udGVudCA6PSBSZXNwb25zZS5Db250ZW50ICsgJzwvdGFibGU+PC9ib2R5PjwvaHRtbD4nOwogICAgZmluYWxseQogICAgICBRdWVyeS5GcmVlOwogICAgZW5kOwogIGZpbmFsbHkKICAgIENvbm4uRnJlZTsKICBlbmQ7CiAgSGFuZGxlZCA6PSBUcnVlOwplbmQ7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TWebModule1.WebModule1DefaultHandlerAction(Sender: TObject; Request: TWebRequest; Response: TWebResponse; var Handled: Boolean);
var
  Conn: TSQLConnection;
  Query: TSQLQuery;
begin
  Conn := TSQLConnection.Create(nil);
  try
    Conn.DriverName := 'MySQL';
    Conn.Params.Values['HostName'] := 'localhost';
    Conn.Params.Values['Database'] := 'testdb';
    Conn.Params.Values['User_Name'] := 'root';
    Conn.Params.Values['Password'] := 'password';
    Conn.Open;

    Query := TSQLQuery.Create(nil);
    try
      Query.SQLConnection := Conn;
      Query.SQL.Text := 'SELECT * FROM users';
      Query.Open;

      Response.Content := '&lt;html&gt;&lt;body&gt;&lt;table&gt;';
      while not Query.Eof do
      begin
        Response.Content := Response.Content + '&lt;tr&gt;&lt;td&gt;' + Query.FieldByName('name').AsString + '&lt;/td&gt;&lt;/tr&gt;';
        Query.Next;
      end;
      Response.Content := Response.Content + '&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;';
    finally
      Query.Free;
    end;
  finally
    Conn.Free;
  end;
  Handled := True;
end;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem explorat les bases del desenvolupament web amb Delphi, incloent la configuració de l'entorn, la creació de projectes web, la gestió de sol·licituds HTTP, la generació de contingut HTML, la connexió amb bases de dades i el desplegament d'aplicacions web. Amb aquests coneixements, estàs preparat per començar a desenvolupar aplicacions web robustes i eficients amb Delphi.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-05-cross-platform-development-fmx' title="Desenvolupament Multiplataforma amb FMX">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-02-restful-services' title="Serveis RESTful">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
