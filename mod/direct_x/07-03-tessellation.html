<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tessel·lació</title>

    <link rel="alternate" href="https://campusempresa.com/mod/direct_x/07-03-tessellation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/direct_x/07-03-tessellation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/direct_x/07-03-tessellation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/direct_x/07-03-tessellation" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/direct_x/07-03-tessellation" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-post-processing-effects' title="Efectes de Postprocessament">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tessel·lació</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-ray-tracing' title="Traçat de Raigs">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La tessel·lació és una tècnica avançada de renderització que permet subdividir polígons en temps real per augmentar el detall geomètric d'un model 3D. Aquesta tècnica és especialment útil per a crear superfícies més suaus i detallades sense necessitat d'augmentar la complexitat del model original.</p>
</div><h1><p>Objectius del Tema</p>
</h1>
<div class='content'><ul>
<li>Comprendre què és la tessel·lació i per què és útil.</li>
<li>Aprendre a configurar i utilitzar la tessel·lació en DirectX.</li>
<li>Escriure shaders de tessel·lació.</li>
<li>Implementar la tessel·lació en una aplicació DirectX.</li>
</ul>
</div><h1><p>Què és la Tessel·lació?</p>
</h1>
<div class='content'><p>La tessel·lació és el procés de subdividir un polígon en polígons més petits. Això permet augmentar el detall geomètric d'un model 3D de manera dinàmica, millorant la qualitat visual sense augmentar la complexitat del model original.</p>
</div><h2><p>Avantatges de la Tessel·lació</p>
</h2>
<div class='content'><ul>
<li><strong>Detall Dinàmic:</strong> Permet augmentar el detall geomètric en funció de la distància de la càmera o altres factors.</li>
<li><strong>Eficiència:</strong> Redueix la necessitat de models amb alta densitat de polígons, millorant el rendiment.</li>
<li><strong>Flexibilitat:</strong> Pot ser utilitzada per a una varietat d'efectes, com ara superfícies suaus, detalls de terreny, etc.</li>
</ul>
</div><h1><p>Configuració de la Tessel·lació en DirectX</p>
</h1>
<div class='content'></div><h2><p>Passos per Configurar la Tessel·lació</p>
</h2>
<div class='content'><ol>
<li><strong>Habilitar la Tessel·lació en el Pipeline de Renderització:</strong>
<ul>
<li>Assegura't que el teu pipeline de renderització estigui configurat per suportar la tessel·lació.</li>
</ul>
</li>
<li><strong>Escriure Shaders de Tessel·lació:</strong>
<ul>
<li>Escriu shaders de tessel·lació que defineixin com subdividir els polígons.</li>
</ul>
</li>
<li><strong>Configurar els Shaders en el Codi de l'Aplicació:</strong>
<ul>
<li>Configura els shaders de tessel·lació en el codi de la teva aplicació DirectX.</li>
</ul>
</li>
</ol>
</div><h2><p>Exemple de Codi: Configuració Bàsica</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uZmlndXJhY2nDsyBkZWwgcGlwZWxpbmUgZGUgdGVzc2VswrdsYWNpw7MKRDNEMTFfSU5QVVRfRUxFTUVOVF9ERVNDIGxheW91dFtdID0KewogICAgeyAiUE9TSVRJT04iLCAwLCBEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVQsIDAsIDAsIEQzRDExX0lOUFVUX1BFUl9WRVJURVhfREFUQSwgMCB9LAogICAgLy8gQWx0cmVzIGVsZW1lbnRzIGRlIGxheW91dC4uLgp9OwoKSUQzRDExSW5wdXRMYXlvdXQqIHBJbnB1dExheW91dDsKZGV2aWNlLT5DcmVhdGVJbnB1dExheW91dChsYXlvdXQsIEFSUkFZU0laRShsYXlvdXQpLCBwVlNCbG9iLT5HZXRCdWZmZXJQb2ludGVyKCksIHBWU0Jsb2ItPkdldEJ1ZmZlclNpemUoKSwgJnBJbnB1dExheW91dCk7CgovLyBDb25maWd1cmFjacOzIGRlbHMgc2hhZGVycyBkZSB0ZXNzZWzCt2xhY2nDswpkZXZpY2VDb250ZXh0LT5JQVNldElucHV0TGF5b3V0KHBJbnB1dExheW91dCk7CmRldmljZUNvbnRleHQtPlZTU2V0U2hhZGVyKHBWZXJ0ZXhTaGFkZXIsIG51bGxwdHIsIDApOwpkZXZpY2VDb250ZXh0LT5IU1NldFNoYWRlcihwSHVsbFNoYWRlciwgbnVsbHB0ciwgMCk7CmRldmljZUNvbnRleHQtPkRTU2V0U2hhZGVyKHBEb21haW5TaGFkZXIsIG51bGxwdHIsIDApOwpkZXZpY2VDb250ZXh0LT5QU1NldFNoYWRlcihwUGl4ZWxTaGFkZXIsIG51bGxwdHIsIDApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Configuraci&oacute; del pipeline de tessel&middot;laci&oacute;
D3D11_INPUT_ELEMENT_DESC layout[] =
{
    { &quot;POSITION&quot;, 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 0, D3D11_INPUT_PER_VERTEX_DATA, 0 },
    // Altres elements de layout...
};

ID3D11InputLayout* pInputLayout;
device-&gt;CreateInputLayout(layout, ARRAYSIZE(layout), pVSBlob-&gt;GetBufferPointer(), pVSBlob-&gt;GetBufferSize(), &amp;pInputLayout);

// Configuraci&oacute; dels shaders de tessel&middot;laci&oacute;
deviceContext-&gt;IASetInputLayout(pInputLayout);
deviceContext-&gt;VSSetShader(pVertexShader, nullptr, 0);
deviceContext-&gt;HSSetShader(pHullShader, nullptr, 0);
deviceContext-&gt;DSSetShader(pDomainShader, nullptr, 0);
deviceContext-&gt;PSSetShader(pPixelShader, nullptr, 0);</pre></div><div class='content'></div><h1><p>Escriure Shaders de Tessel·lació</p>
</h1>
<div class='content'></div><h2><p>Hull Shader (HS)</p>
</h2>
<div class='content'><p>El Hull Shader és responsable de determinar com es subdividirà cada patch (parche) de polígons.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSHVsbCBTaGFkZXIKc3RydWN0IEhTX09VVFBVVAp7CiAgICBmbG9hdDMgcG9zIDogUE9TSVRJT047CiAgICAvLyBBbHRyZXMgYXRyaWJ1dHMuLi4KfTsKCkhTX09VVFBVVCBIdWxsU2hhZGVyKElucHV0UGF0Y2g8VlNfT1VUUFVULCAzPiBwYXRjaCwgdWludCBpZCA6IFNWX091dHB1dENvbnRyb2xQb2ludElEKQp7CiAgICBIU19PVVRQVVQgb3V0cHV0OwogICAgb3V0cHV0LnBvcyA9IHBhdGNoW2lkXS5wb3M7CiAgICAvLyBBbHRyZXMgY8OgbGN1bHMuLi4KICAgIHJldHVybiBvdXRwdXQ7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Hull Shader
struct HS_OUTPUT
{
    float3 pos : POSITION;
    // Altres atributs...
};

HS_OUTPUT HullShader(InputPatch&lt;VS_OUTPUT, 3&gt; patch, uint id : SV_OutputControlPointID)
{
    HS_OUTPUT output;
    output.pos = patch[id].pos;
    // Altres c&agrave;lculs...
    return output;
}</pre></div><div class='content'></div><h2><p>Domain Shader (DS)</p>
</h2>
<div class='content'><p>El Domain Shader és responsable de calcular les posicions finals dels nous punts generats per la tessel·lació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRG9tYWluIFNoYWRlcgpzdHJ1Y3QgRFNfT1VUUFVUCnsKICAgIGZsb2F0NCBwb3MgOiBTVl9QT1NJVElPTjsKICAgIC8vIEFsdHJlcyBhdHJpYnV0cy4uLgp9OwoKRFNfT1VUUFVUIERvbWFpblNoYWRlcihIU19DT05TVEFOVF9EQVRBIGNvbnN0YW50RGF0YSwgZmxvYXQzIGJhcnljZW50cmljQ29vcmRzIDogU1ZfRG9tYWluTG9jYXRpb24sIGNvbnN0IE91dHB1dFBhdGNoPEhTX09VVFBVVCwgMz4gcGF0Y2gpCnsKICAgIERTX09VVFBVVCBvdXRwdXQ7CiAgICBvdXRwdXQucG9zID0gZmxvYXQ0KHBhdGNoWzBdLnBvcyAqIGJhcnljZW50cmljQ29vcmRzLnggKyBwYXRjaFsxXS5wb3MgKiBiYXJ5Y2VudHJpY0Nvb3Jkcy55ICsgcGF0Y2hbMl0ucG9zICogYmFyeWNlbnRyaWNDb29yZHMueiwgMS4wZik7CiAgICAvLyBBbHRyZXMgY8OgbGN1bHMuLi4KICAgIHJldHVybiBvdXRwdXQ7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Domain Shader
struct DS_OUTPUT
{
    float4 pos : SV_POSITION;
    // Altres atributs...
};

DS_OUTPUT DomainShader(HS_CONSTANT_DATA constantData, float3 barycentricCoords : SV_DomainLocation, const OutputPatch&lt;HS_OUTPUT, 3&gt; patch)
{
    DS_OUTPUT output;
    output.pos = float4(patch[0].pos * barycentricCoords.x + patch[1].pos * barycentricCoords.y + patch[2].pos * barycentricCoords.z, 1.0f);
    // Altres c&agrave;lculs...
    return output;
}</pre></div><div class='content'></div><h1><p>Implementació de la Tessel·lació en una Aplicació DirectX</p>
</h1>
<div class='content'></div><h2><p>Exemple de Codi: Implementació Completa</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uZmlndXJhY2nDsyBkZWwgcGlwZWxpbmUgZGUgdGVzc2VswrdsYWNpw7MKZGV2aWNlQ29udGV4dC0+SUFTZXRJbnB1dExheW91dChwSW5wdXRMYXlvdXQpOwpkZXZpY2VDb250ZXh0LT5WU1NldFNoYWRlcihwVmVydGV4U2hhZGVyLCBudWxscHRyLCAwKTsKZGV2aWNlQ29udGV4dC0+SFNTZXRTaGFkZXIocEh1bGxTaGFkZXIsIG51bGxwdHIsIDApOwpkZXZpY2VDb250ZXh0LT5EU1NldFNoYWRlcihwRG9tYWluU2hhZGVyLCBudWxscHRyLCAwKTsKZGV2aWNlQ29udGV4dC0+UFNTZXRTaGFkZXIocFBpeGVsU2hhZGVyLCBudWxscHRyLCAwKTsKCi8vIENvbmZpZ3VyYWNpw7MgZGUgbGEgdGVzc2VswrdsYWNpw7MKZGV2aWNlQ29udGV4dC0+SUFTZXRQcmltaXRpdmVUb3BvbG9neShEM0QxMV9QUklNSVRJVkVfVE9QT0xPR1lfM19DT05UUk9MX1BPSU5UX1BBVENITElTVCk7CgovLyBSZW5kZXJpdHphY2nDswpkZXZpY2VDb250ZXh0LT5EcmF3SW5kZXhlZChpbmRleENvdW50LCAwLCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Configuraci&oacute; del pipeline de tessel&middot;laci&oacute;
deviceContext-&gt;IASetInputLayout(pInputLayout);
deviceContext-&gt;VSSetShader(pVertexShader, nullptr, 0);
deviceContext-&gt;HSSetShader(pHullShader, nullptr, 0);
deviceContext-&gt;DSSetShader(pDomainShader, nullptr, 0);
deviceContext-&gt;PSSetShader(pPixelShader, nullptr, 0);

// Configuraci&oacute; de la tessel&middot;laci&oacute;
deviceContext-&gt;IASetPrimitiveTopology(D3D11_PRIMITIVE_TOPOLOGY_3_CONTROL_POINT_PATCHLIST);

// Renderitzaci&oacute;
deviceContext-&gt;DrawIndexed(indexCount, 0, 0);</pre></div><div class='content'></div><h1><p>Exercici Pràctic</p>
</h1>
<div class='content'></div><h2><p>Objectiu</p>
</h2>
<div class='content'><p>Implementar la tessel·lació en una aplicació DirectX per renderitzar un terreny detallat.</p>
</div><h2><p>Passos</p>
</h2>
<div class='content'><ol>
<li>Configura el pipeline de tessel·lació.</li>
<li>Escriu els shaders de tessel·lació (Hull Shader i Domain Shader).</li>
<li>Implementa la tessel·lació en el codi de la teva aplicació.</li>
</ol>
</div><h2><p>Solució</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uZmlndXJhY2nDsyBkZWwgcGlwZWxpbmUgZGUgdGVzc2VswrdsYWNpw7MKZGV2aWNlQ29udGV4dC0+SUFTZXRJbnB1dExheW91dChwSW5wdXRMYXlvdXQpOwpkZXZpY2VDb250ZXh0LT5WU1NldFNoYWRlcihwVmVydGV4U2hhZGVyLCBudWxscHRyLCAwKTsKZGV2aWNlQ29udGV4dC0+SFNTZXRTaGFkZXIocEh1bGxTaGFkZXIsIG51bGxwdHIsIDApOwpkZXZpY2VDb250ZXh0LT5EU1NldFNoYWRlcihwRG9tYWluU2hhZGVyLCBudWxscHRyLCAwKTsKZGV2aWNlQ29udGV4dC0+UFNTZXRTaGFkZXIocFBpeGVsU2hhZGVyLCBudWxscHRyLCAwKTsKCi8vIENvbmZpZ3VyYWNpw7MgZGUgbGEgdGVzc2VswrdsYWNpw7MKZGV2aWNlQ29udGV4dC0+SUFTZXRQcmltaXRpdmVUb3BvbG9neShEM0QxMV9QUklNSVRJVkVfVE9QT0xPR1lfM19DT05UUk9MX1BPSU5UX1BBVENITElTVCk7CgovLyBSZW5kZXJpdHphY2nDswpkZXZpY2VDb250ZXh0LT5EcmF3SW5kZXhlZChpbmRleENvdW50LCAwLCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Configuraci&oacute; del pipeline de tessel&middot;laci&oacute;
deviceContext-&gt;IASetInputLayout(pInputLayout);
deviceContext-&gt;VSSetShader(pVertexShader, nullptr, 0);
deviceContext-&gt;HSSetShader(pHullShader, nullptr, 0);
deviceContext-&gt;DSSetShader(pDomainShader, nullptr, 0);
deviceContext-&gt;PSSetShader(pPixelShader, nullptr, 0);

// Configuraci&oacute; de la tessel&middot;laci&oacute;
deviceContext-&gt;IASetPrimitiveTopology(D3D11_PRIMITIVE_TOPOLOGY_3_CONTROL_POINT_PATCHLIST);

// Renderitzaci&oacute;
deviceContext-&gt;DrawIndexed(indexCount, 0, 0);</pre></div><div class='content'></div><h1><p>Errors Comuns i Consells</p>
</h1>
<div class='content'></div><h2><p>Errors Comuns</p>
</h2>
<div class='content'><ul>
<li><strong>No configurar correctament el pipeline de tessel·lació:</strong> Assegura't que tots els shaders estiguin configurats correctament.</li>
<li><strong>Problemes amb els shaders:</strong> Verifica que els shaders de tessel·lació estiguin escrits correctament i que no hi hagi errors de compilació.</li>
</ul>
</div><h2><p>Consells</p>
</h2>
<div class='content'><ul>
<li><strong>Utilitza eines de depuració:</strong> Utilitza eines com el Visual Studio Graphics Debugger per depurar i analitzar el pipeline de tessel·lació.</li>
<li><strong>Experimenta amb diferents nivells de tessel·lació:</strong> Ajusta els nivells de tessel·lació per trobar el balanç òptim entre detall i rendiment.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>La tessel·lació és una tècnica poderosa que permet augmentar el detall geomètric de manera dinàmica, millorant la qualitat visual de les aplicacions DirectX. Amb una comprensió sòlida dels shaders de tessel·lació i la configuració del pipeline, pots implementar aquesta tècnica per crear superfícies més detallades i realistes en els teus projectes.</p>
<p>En el següent tema, explorarem el traçat de raigs, una altra tècnica avançada de renderització que permet simular efectes de llum i ombra amb gran precisió.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-post-processing-effects' title="Efectes de Postprocessament">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-ray-tracing' title="Traçat de Raigs">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
