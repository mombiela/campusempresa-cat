<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Crear i Utilitzar Procediments</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jcl/04-02-creating-using-procedures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jcl/04-02-creating-using-procedures" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "jcl";
  		var TEMA_NAME = "4-2";
  		var TYPE = "mod";
  		var PATH = "mod/jcl/04-02-creating-using-procedures";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/jcl/04-02-creating-using-procedures" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="jcl">
		<a  href="#" class="text-secondary d-none" data-read-mod="jcl" data-read-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="jcl" data-unread-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-introduction-procedures' title="Introducció als Procediments" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-introduction-procedures' title="Introducció als Procediments" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Crear i Utilitzar Procediments</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-symbolic-parameters' title="Paràmetres Simbòlics" class="py-2 px-3 btn btn-primary"
				data-read-mod="jcl" data-read-unit="4-2">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-symbolic-parameters' title="Paràmetres Simbòlics" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jcl" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com crear i utilitzar procediments en JCL. Els procediments (o PROCs) són una manera eficient de reutilitzar codi JCL, permetent definir una sèrie d'instruccions que es poden invocar des de múltiples treballs JCL. Això ajuda a estalviar temps i a mantenir la consistència en l'execució de tasques repetitives.</p>
</div><h1>Què és un Procediment?</h1>
<div class='content'><p>Un procediment en JCL és un conjunt d'instruccions JCL que es defineixen una vegada i es poden utilitzar múltiples vegades en diferents treballs. Els procediments es defineixen en fitxers de llibreria de procediments (PROCLIB) i es poden invocar mitjançant la instrucció <code>EXEC</code>.</p>
</div><h2>Avantatges d'Utilitzar Procediments</h2>
<div class='content'><ul>
<li><strong>Reutilització del Codi</strong>: Permet definir una vegada i utilitzar múltiples vegades.</li>
<li><strong>Manteniment Fàcil</strong>: Canvis en el procediment es reflecteixen en tots els treballs que l'utilitzen.</li>
<li><strong>Consistència</strong>: Assegura que les mateixes instruccions s'executin de manera consistent en diferents treballs.</li>
</ul>
</div><h1>Crear un Procediment</h1>
<div class='content'><p>Un procediment es defineix en un fitxer de llibreria de procediments. A continuació es mostra un exemple de com definir un procediment senzill:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWVBST0MgUFJPQwovL1NURVAxICBFWEVDIFBHTT1JRUZCUjE0Ci8vREQxICAgIEREICAgRFNOPU1ZLkRBVEEuU0VULERJU1A9KE5FVyxDQVRMRyxERUxFVEUpLAovLyAgICAgICAgICAgICBTUEFDRT0oVFJLLDEpLFVOSVQ9U1lTREEKLy9TVEVQMiAgRVhFQyBQR009SUVCR0VORVIKLy9TWVNQUklOVCBERCBTWVNPVVQ9KgovL1NZU0lOICAgIEREIERVTU1ZCi8vU1lTVVQxICAgREQgRFNOPU1ZLkRBVEEuU0VULERJU1A9U0hSCi8vU1lTVVQyICAgREQgU1lTT1VUPSoKLy8="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYPROC PROC
//STEP1  EXEC PGM=IEFBR14
//DD1    DD   DSN=MY.DATA.SET,DISP=(NEW,CATLG,DELETE),
//             SPACE=(TRK,1),UNIT=SYSDA
//STEP2  EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DUMMY
//SYSUT1   DD DSN=MY.DATA.SET,DISP=SHR
//SYSUT2   DD SYSOUT=*
//</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><code>//MYPROC PROC</code>: Defineix el nom del procediment com <code>MYPROC</code>.</li>
<li><code>//STEP1 EXEC PGM=IEFBR14</code>: Defineix un pas que executa el programa <code>IEFBR14</code>.</li>
<li><code>//DD1 DD DSN=MY.DATA.SET,DISP=(NEW,CATLG,DELETE),...</code>: Defineix un conjunt de dades nou.</li>
<li><code>//STEP2 EXEC PGM=IEBGENER</code>: Defineix un segon pas que executa el programa <code>IEBGENER</code>.</li>
<li><code>//SYSPRINT DD SYSOUT=*</code>: Defineix la sortida del sistema.</li>
<li><code>//SYSIN DD DUMMY</code>: Defineix una entrada fictícia.</li>
<li><code>//SYSUT1 DD DSN=MY.DATA.SET,DISP=SHR</code>: Defineix un conjunt de dades existent.</li>
<li><code>//SYSUT2 DD SYSOUT=*</code>: Defineix la sortida del sistema.</li>
</ul>
</div><h1>Utilitzar un Procediment</h1>
<div class='content'><p>Per utilitzar un procediment en un treball JCL, es fa servir la instrucció <code>EXEC</code> amb el nom del procediment. A continuació es mostra un exemple de com invocar el procediment <code>MYPROC</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgSk9CIChBQ0NUKSwnRVhFTVBMRScsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgIEVYRUMgTVlQUk9D"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB  JOB (ACCT),'EXEMPLE',CLASS=A,MSGCLASS=A
//STEP1  EXEC MYPROC</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><code>//MYJOB JOB (ACCT),'EXEMPLE',CLASS=A,MSGCLASS=A</code>: Defineix un treball JCL.</li>
<li><code>//STEP1 EXEC MYPROC</code>: Invoca el procediment <code>MYPROC</code>.</li>
</ul>
</div><h1>Sobreescriure Paràmetres en un Procediment</h1>
<div class='content'><p>És possible sobreescriure paràmetres en un procediment quan s'invoca. Això es fa especificant els nous valors en la instrucció <code>EXEC</code>. A continuació es mostra un exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgSk9CIChBQ0NUKSwnRVhFTVBMRScsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgIEVYRUMgTVlQUk9DCi8vU1RFUDEuREQxIEREIERTTj1ORVcuREFUQS5TRVQsRElTUD0oTkVXLENBVExHLERFTEVURSk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB  JOB (ACCT),'EXEMPLE',CLASS=A,MSGCLASS=A
//STEP1  EXEC MYPROC
//STEP1.DD1 DD DSN=NEW.DATA.SET,DISP=(NEW,CATLG,DELETE)</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><code>//STEP1.DD1 DD DSN=NEW.DATA.SET,DISP=(NEW,CATLG,DELETE)</code>: Sobreescriu el conjunt de dades <code>DD1</code> definit en el procediment <code>MYPROC</code> amb un nou conjunt de dades <code>NEW.DATA.SET</code>.</li>
</ul>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Exercici</h2>
<div class='content'><ol>
<li>Defineix un procediment anomenat <code>COPYPROC</code> que copiï un conjunt de dades a un altre.</li>
<li>Utilitza el procediment <code>COPYPROC</code> en un treball JCL.</li>
<li>Sobreescriu el conjunt de dades d'entrada i sortida en la invocació del procediment.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><h4>Definició del Procediment</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9DT1BZUFJPQyBQUk9DCi8vQ09QWVNURVAgRVhFQyBQR009SUVCR0VORVIKLy9TWVNQUklOVCBERCBTWVNPVVQ9KgovL1NZU0lOICAgIEREIERVTU1ZCi8vU1lTVVQxICAgREQgRFNOPUlOUFVULkRBVEEuU0VULERJU1A9U0hSCi8vU1lTVVQyICAgREQgRFNOPU9VVFBVVC5EQVRBLlNFVCxESVNQPShORVcsQ0FUTEcsREVMRVRFKSwKLy8gICAgICAgICAgICAgU1BBQ0U9KFRSSywxKSxVTklUPVNZU0RBCi8v"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//COPYPROC PROC
//COPYSTEP EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DUMMY
//SYSUT1   DD DSN=INPUT.DATA.SET,DISP=SHR
//SYSUT2   DD DSN=OUTPUT.DATA.SET,DISP=(NEW,CATLG,DELETE),
//             SPACE=(TRK,1),UNIT=SYSDA
//</pre></div><div class='content'><h4>Utilització del Procediment</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgSk9CIChBQ0NUKSwnRVhFTVBMRScsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgIEVYRUMgQ09QWVBST0MKLy9TVEVQMS5TWVNVVDEgREQgRFNOPU1ZLklOUFVULkRBVEEsRElTUD1TSFIKLy9TVEVQMS5TWVNVVDIgREQgRFNOPU1ZLk9VVFBVVC5EQVRBLERJU1A9KE5FVyxDQVRMRyxERUxFVEUpLAovLyAgICAgICAgICAgICAgIFNQQUNFPShUUkssMSksVU5JVD1TWVNEQQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB  JOB (ACCT),'EXEMPLE',CLASS=A,MSGCLASS=A
//STEP1  EXEC COPYPROC
//STEP1.SYSUT1 DD DSN=MY.INPUT.DATA,DISP=SHR
//STEP1.SYSUT2 DD DSN=MY.OUTPUT.DATA,DISP=(NEW,CATLG,DELETE),
//               SPACE=(TRK,1),UNIT=SYSDA</pre></div><div class='content'></div><h2>Explicació de la Solució</h2>
<div class='content'><ul>
<li><strong>Definició del Procediment</strong>: <code>COPYPROC</code> defineix un pas <code>COPYSTEP</code> que utilitza <code>IEBGENER</code> per copiar dades.</li>
<li><strong>Utilització del Procediment</strong>: <code>MYJOB</code> invoca <code>COPYPROC</code> i sobreescriu els conjunts de dades d'entrada (<code>SYSUT1</code>) i sortida (<code>SYSUT2</code>).</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après com crear i utilitzar procediments en JCL. Els procediments són una eina poderosa per reutilitzar codi i mantenir la consistència en els treballs JCL. També hem vist com sobreescriure paràmetres en la invocació d'un procediment per adaptar-lo a necessitats específiques. Amb aquesta base, estàs preparat per explorar paràmetres simbòlics en el següent tema.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-introduction-procedures' title="Introducció als Procediments" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-introduction-procedures' title="Introducció als Procediments" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-symbolic-parameters' title="Paràmetres Simbòlics" class="py-2 px-3 btn btn-primary"
				data-read-mod="jcl" data-read-unit="4-2">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-symbolic-parameters' title="Paràmetres Simbòlics" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jcl" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de JCL (Job Control Language)</h1>
<h2>Mòdul 1: Introducció al JCL</h2>
<ul>
<li><a href="01-01-what-is-jcl">Què és el JCL?</a></li>
<li><a href="01-02-basic-structure">Estructura Bàsica d'un Treball JCL</a></li>
<li><a href="01-03-jcl-statements-overview">Visió General de les Declaracions JCL</a></li>
<li><a href="01-04-running-first-job">Executar el Teu Primer Treball JCL</a></li>
</ul>
<h2>Mòdul 2: Declaracions i Sintaxi del JCL</h2>
<ul>
<li><a href="02-01-job-statement">Declaració JOB</a></li>
<li><a href="02-02-exec-statement">Declaració EXEC</a></li>
<li><a href="02-03-dd-statement">Declaració DD</a></li>
<li><a href="02-04-comments-continuation">Comentaris i Continuació</a></li>
</ul>
<h2>Mòdul 3: Declaracions de Definició de Dades (DD)</h2>
<ul>
<li><a href="03-01-defining-data-sets">Definició de Conjunts de Dades</a></li>
<li><a href="03-02-temporary-data-sets">Conjunts de Dades Temporals</a></li>
<li><a href="03-03-referencing-data-sets">Referència a Conjunts de Dades</a></li>
<li><a href="03-04-disposition-parameter">Paràmetre de Disposició</a></li>
</ul>
<h2>Mòdul 4: Procediments i Paràmetres Simbòlics</h2>
<ul>
<li><a href="04-01-introduction-procedures">Introducció als Procediments</a></li>
<li><a href="04-02-creating-using-procedures">Crear i Utilitzar Procediments</a></li>
<li><a href="04-03-symbolic-parameters">Paràmetres Simbòlics</a></li>
<li><a href="04-04-overriding-parameters">Sobreescriure Paràmetres</a></li>
</ul>
<h2>Mòdul 5: Conceptes Avançats de JCL</h2>
<ul>
<li><a href="05-01-conditional-processing">Processament Condicional</a></li>
<li><a href="05-02-jcllib-include-statements">Declaracions JCLLIB i INCLUDE</a></li>
<li><a href="05-03-generation-data-groups">Grups de Dades de Generació (GDGs)</a></li>
<li><a href="05-04-restart-checkpoint">Reinici i Punt de Control</a></li>
</ul>
<h2>Mòdul 6: Gestió d'Errors i Depuració</h2>
<ul>
<li><a href="06-01-common-jcl-errors">Errors Comuns de JCL</a></li>
<li><a href="06-02-interpreting-error-messages">Interpretar Missatges d'Error de JCL</a></li>
<li><a href="06-03-debugging-techniques">Tècniques de Depuració</a></li>
<li><a href="06-04-using-jes2-jes3">Utilitzar JES2/JES3 per a la Resolució de Problemes</a></li>
</ul>
<h2>Mòdul 7: Rendiment i Optimització</h2>
<ul>
<li><a href="07-01-optimizing-jcl-jobs">Optimitzar Treballs JCL</a></li>
<li><a href="07-02-efficient-data-set-usage">Ús Eficient de Conjunts de Dades</a></li>
<li><a href="07-03-parallel-processing">Processament Paral·lel</a></li>
<li><a href="07-04-best-practices">Millors Pràctiques</a></li>
</ul>
<h2>Mòdul 8: Aplicacions Pràctiques i Estudis de Cas</h2>
<ul>
<li><a href="08-01-real-world-examples">Exemples Reals de JCL</a></li>
<li><a href="08-02-case-study-batch-processing">Estudi de Cas: Processament per Lots</a></li>
<li><a href="08-03-case-study-data-management">Estudi de Cas: Gestió de Dades</a></li>
<li><a href="08-04-case-study-system-maintenance">Estudi de Cas: Manteniment del Sistema</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
