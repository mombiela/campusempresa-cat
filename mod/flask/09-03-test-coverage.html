<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cobertura de Proves</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/09-03-test-coverage" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/09-03-test-coverage" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/09-03-test-coverage" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/flask/09-03-test-coverage" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/flask/09-03-test-coverage" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
<br>
			<cite>Construint la societat d'avui i del demà</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Llenguatges de Programació</a>
				 					<a href="/categ/frameworks">Frameworks i Llibreries</a>
				 					<a href="/categ/tech-tools">Eines Tècniques</a>
				 					<a href="/categ/foundations">Fonaments Teòrics</a>
				 					<a href="/categ/soft-skills">Habilitats Socials</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-integration-testing' title="Proves d'Integració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Cobertura de Proves</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-best-practices' title="Millors Pràctiques per al Desenvolupament amb Flask">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La cobertura de proves és una mesura que indica quina part del codi font d'una aplicació està sent executada durant les proves. És una eina essencial per assegurar que el codi està ben provat i que les proves cobreixen la major part possible del codi, minimitzant així el risc d'errors no detectats.</p>
</div><h1><p>Objectius d'Aquesta Secció</p>
</h1>
<div class='content'><ul>
<li>Entendre què és la cobertura de proves i per què és important.</li>
<li>Aprendre a utilitzar eines per mesurar la cobertura de proves en una aplicació Flask.</li>
<li>Analitzar els resultats de la cobertura de proves per identificar àrees no cobertes.</li>
<li>Millorar la cobertura de proves afegint proves addicionals.</li>
</ul>
</div><h1><p>Què és la Cobertura de Proves?</p>
</h1>
<div class='content'><p>La cobertura de proves és una mètrica que mesura el percentatge de codi que és executat durant les proves. Aquesta mètrica ajuda a identificar parts del codi que no estan sent provades, permetent als desenvolupadors afegir proves addicionals per cobrir aquestes àrees.</p>
</div><h2><p>Tipus de Cobertura de Proves</p>
</h2>
<div class='content'><ul>
<li><strong>Cobertura de Línies:</strong> Mesura el percentatge de línies de codi executades durant les proves.</li>
<li><strong>Cobertura de Funcions:</strong> Mesura el percentatge de funcions o mètodes executats durant les proves.</li>
<li><strong>Cobertura de Ramificacions:</strong> Mesura el percentatge de camins de decisió (if, else, etc.) executats durant les proves.</li>
</ul>
</div><h1><p>Eines per Mesurar la Cobertura de Proves</p>
</h1>
<div class='content'><p>Una de les eines més populars per mesurar la cobertura de proves en aplicacions Python és <code>coverage.py</code>. Aquesta eina proporciona informes detallats sobre quines parts del codi han estat executades durant les proves.</p>
</div><h2><p>Instal·lació de <code>coverage.py</code></p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgY292ZXJhZ2U="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install coverage</pre></div><div class='content'></div><h2><p>Utilització de <code>coverage.py</code></p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Executar les Proves amb Cobertura:</strong></p>
<pre><code class="language-bash">coverage run -m unittest discover
</code></pre>
</li>
<li>
<p><strong>Generar un Informe de Cobertura:</strong></p>
<pre><code class="language-bash">coverage report
</code></pre>
</li>
<li>
<p><strong>Generar un Informe HTML:</strong></p>
<pre><code class="language-bash">coverage html
</code></pre>
</li>
</ol>
</div><h2><p>Exemple Pràctic</p>
</h2>
<div class='content'><p>Suposem que tenim una aplicació Flask amb el següent codi:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBob21lKCk6CiAgICByZXR1cm4gIkhlbGxvLCBXb3JsZCEiCgpAYXBwLnJvdXRlKCcvYWJvdXQnKQpkZWYgYWJvdXQoKToKICAgIHJldHVybiAiQWJvdXQgUGFnZSIKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return &quot;Hello, World!&quot;

@app.route('/about')
def about():
    return &quot;About Page&quot;

if __name__ == '__main__':
    app.run()</pre></div><div class='content'><p>I tenim les següents proves:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB0ZXN0X2FwcC5weQppbXBvcnQgdW5pdHRlc3QKZnJvbSBhcHAgaW1wb3J0IGFwcAoKY2xhc3MgQmFzaWNUZXN0cyh1bml0dGVzdC5UZXN0Q2FzZSk6CgogICAgZGVmIHNldFVwKHNlbGYpOgogICAgICAgIHNlbGYuYXBwID0gYXBwLnRlc3RfY2xpZW50KCkKICAgICAgICBzZWxmLmFwcC50ZXN0aW5nID0gVHJ1ZQoKICAgIGRlZiB0ZXN0X2hvbWUoc2VsZik6CiAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmFwcC5nZXQoJy8nKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmVzcG9uc2Uuc3RhdHVzX2NvZGUsIDIwMCkKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJlc3BvbnNlLmRhdGEsIGIiSGVsbG8sIFdvcmxkISIpCgogICAgZGVmIHRlc3RfYWJvdXQoc2VsZik6CiAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmFwcC5nZXQoJy9hYm91dCcpCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNwb25zZS5zdGF0dXNfY29kZSwgMjAwKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmVzcG9uc2UuZGF0YSwgYiJBYm91dCBQYWdlIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICB1bml0dGVzdC5tYWluKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># test_app.py
import unittest
from app import app

class BasicTests(unittest.TestCase):

    def setUp(self):
        self.app = app.test_client()
        self.app.testing = True

    def test_home(self):
        response = self.app.get('/')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.data, b&quot;Hello, World!&quot;)

    def test_about(self):
        response = self.app.get('/about')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.data, b&quot;About Page&quot;)

if __name__ == &quot;__main__&quot;:
    unittest.main()</pre></div><div class='content'><p>Per mesurar la cobertura de proves, executem:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y292ZXJhZ2UgcnVuIC1tIHVuaXR0ZXN0IGRpc2NvdmVyCmNvdmVyYWdlIHJlcG9ydA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>coverage run -m unittest discover
coverage report</pre></div><div class='content'><p>L'informe de cobertura mostrarà quines línies de <code>app.py</code> han estat executades durant les proves.</p>
</div><h1><p>Analitzar els Resultats de la Cobertura</p>
</h1>
<div class='content'><p>Després de generar l'informe de cobertura, és important analitzar els resultats per identificar àrees no cobertes. L'informe HTML generat per <code>coverage.py</code> proporciona una visualització clara de quines línies de codi no han estat executades.</p>
</div><h2><p>Exemple d'Informe de Cobertura</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TmFtZSAgICBTdG10cyAgIE1pc3MgIENvdmVyCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQphcHAucHkgICAgICAxMCAgICAgIDAgICAxMDAlCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpUT1RBTCAgICAgICAxMCAgICAgIDAgICAxMDAl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Name    Stmts   Miss  Cover
---------------------------
app.py      10      0   100%
---------------------------
TOTAL       10      0   100%</pre></div><div class='content'><p>En aquest exemple, totes les línies de <code>app.py</code> han estat executades durant les proves, resultant en una cobertura del 100%.</p>
</div><h1><p>Millorar la Cobertura de Proves</p>
</h1>
<div class='content'><p>Si l'informe de cobertura mostra que algunes parts del codi no estan cobertes, és important afegir proves addicionals per cobrir aquestes àrees. Això pot incloure:</p>
<ul>
<li>Afegir proves per a camins de decisió no coberts.</li>
<li>Afegir proves per a funcions o mètodes no provats.</li>
<li>Afegir proves per a casos límit o d'error.</li>
</ul>
</div><h2><p>Consells Addicionals</p>
</h2>
<div class='content'><ul>
<li><strong>Cobertura no és Tot:</strong> Una alta cobertura de proves no garanteix que el codi estigui lliure d'errors. És important combinar la cobertura de proves amb altres tècniques de proves com les proves d'integració i les proves de sistema.</li>
<li><strong>Revisió de Codi:</strong> A més de les proves automàtiques, la revisió de codi per part d'altres desenvolupadors pot ajudar a identificar errors que les proves automàtiques poden no detectar.</li>
</ul>
</div><h1><p>Resum</p>
</h1>
<div class='content'><p>En aquesta secció, hem après què és la cobertura de proves, per què és important i com utilitzar <code>coverage.py</code> per mesurar la cobertura de proves en una aplicació Flask. També hem vist com analitzar els resultats de la cobertura i com millorar la cobertura afegint proves addicionals. La cobertura de proves és una eina poderosa per assegurar que el codi està ben provat i per minimitzar el risc d'errors no detectats.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-integration-testing' title="Proves d'Integració">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-best-practices' title="Millors Pràctiques per al Desenvolupament amb Flask">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicitat</h1>
<p>Aquest espai està destinat a publicitat.</p>
<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Gràcies per col·laborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
