<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creant Índexs</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/04-01-creating-indexes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/04-01-creating-indexes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/04-01-creating-indexes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/mongodb/04-01-creating-indexes" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/mongodb/04-01-creating-indexes" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-data-types' title="Tipus de Dades">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creant Índexs</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-types-of-indexes' title="Tipus d'Índexs">Següent &#x25BA;</a>
			</div>
</div>
<div class='index'><p>Els índexs són una part fonamental de qualsevol base de dades, ja que permeten millorar significativament el rendiment de les consultes. En aquest tema, aprendrem què són els índexs, com crear-los a MongoDB i com utilitzar-los de manera efectiva.</p>
</div><h2><p>Què és un Índex?</p>
</h2>
<div class='index'><p>Un índex és una estructura de dades que millora la velocitat de les operacions de lectura en una col·lecció. Els índexs permeten a MongoDB trobar documents amb més rapidesa i eficiència, evitant la necessitat de fer una cerca completa en cada document de la col·lecció.</p>
</div><h2><p>Avantatges dels Índexs</p>
</h2>
<div class='index'><ul>
<li><strong>Millora del Rendiment:</strong> Redueix el temps de resposta de les consultes.</li>
<li><strong>Optimització de Consultes:</strong> Permet a MongoDB utilitzar el millor camí per accedir a les dades.</li>
</ul>
</div><h2><p>Desavantatges dels Índexs</p>
</h2>
<div class='index'><ul>
<li><strong>Espai Addicional:</strong> Els índexs ocupen espai addicional en el disc.</li>
<li><strong>Cost d'Actualització:</strong> Les operacions d'escriptura poden ser més lentes, ja que els índexs han de ser actualitzats.</li>
</ul>
</div><h2><p>Creant Índexs a MongoDB</p>
</h2>
<div class='index'></div><h2><p>Índexs Simples</p>
</h2>
<div class='index'><p>Un índex simple és un índex en un sol camp. Per crear un índex simple, utilitzem el mètode <code>createIndex()</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYW50IHVuIMOtbmRleCBlbiBlbCBjYW1wICJuYW1lIgpkYi5jb2xsZWN0aW9uLmNyZWF0ZUluZGV4KHsgbmFtZTogMSB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creant un &iacute;ndex en el camp &quot;name&quot;
db.collection.createIndex({ name: 1 });</pre></div><div class='index'><p>En aquest exemple, estem creant un índex ascendent en el camp <code>name</code>. El valor <code>1</code> indica que l'índex és ascendent. Si volguéssim un índex descendent, utilitzaríem <code>-1</code>.</p>
</div><h2><p>Índexs Compostos</p>
</h2>
<div class='index'><p>Un índex compost és un índex en múltiples camps. Això pot ser útil quan les consultes sovint filtren per més d'un camp.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYW50IHVuIMOtbmRleCBjb21wb3N0IGVuIGVscyBjYW1wcyAibmFtZSIgaSAiYWdlIgpkYi5jb2xsZWN0aW9uLmNyZWF0ZUluZGV4KHsgbmFtZTogMSwgYWdlOiAtMSB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creant un &iacute;ndex compost en els camps &quot;name&quot; i &quot;age&quot;
db.collection.createIndex({ name: 1, age: -1 });</pre></div><div class='index'><p>En aquest exemple, estem creant un índex ascendent en el camp <code>name</code> i un índex descendent en el camp <code>age</code>.</p>
</div><h2><p>Índexs Únics</p>
</h2>
<div class='index'><p>Un índex únic assegura que els valors en el camp indexat siguin únics en tota la col·lecció.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYW50IHVuIMOtbmRleCDDum5pYyBlbiBlbCBjYW1wICJlbWFpbCIKZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGVtYWlsOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creant un &iacute;ndex &uacute;nic en el camp &quot;email&quot;
db.collection.createIndex({ email: 1 }, { unique: true });</pre></div><div class='index'><p>Aquest índex assegura que no hi hagi dos documents amb el mateix valor en el camp <code>email</code>.</p>
</div><h2><p>Verificant Índexs</p>
</h2>
<div class='index'><p>Podem veure els índexs existents en una col·lecció utilitzant el mètode <code>getIndexes()</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVpZW50IHRvdHMgZWxzIMOtbmRleHMgZW4gdW5hIGNvbMK3bGVjY2nDswpkYi5jb2xsZWN0aW9uLmdldEluZGV4ZXMoKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Veient tots els &iacute;ndexs en una col&middot;lecci&oacute;
db.collection.getIndexes();</pre></div><div class='index'><p>Aquest mètode retorna una llista de tots els índexs creats en la col·lecció.</p>
</div><h2><p>Eliminant Índexs</p>
</h2>
<div class='index'><p>Si necessitem eliminar un índex, podem utilitzar el mètode <code>dropIndex()</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWxpbWluYW50IHVuIMOtbmRleCBlbiBlbCBjYW1wICJuYW1lIgpkYi5jb2xsZWN0aW9uLmRyb3BJbmRleCh7IG5hbWU6IDEgfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Eliminant un &iacute;ndex en el camp &quot;name&quot;
db.collection.dropIndex({ name: 1 });</pre></div><div class='index'><p>Aquest mètode elimina l'índex especificat en el camp <code>name</code>.</p>
</div><h2><p>Exercicis Pràctics</p>
</h2>
<div class='index'></div><h2><p>Exercici 1: Creant un Índex Simple</p>
</h2>
<div class='index'><ol>
<li>Crea una col·lecció anomenada <code>users</code>.</li>
<li>Insereix diversos documents amb els camps <code>name</code> i <code>age</code>.</li>
<li>Crea un índex en el camp <code>name</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU29sdWNpw7MKZGIudXNlcnMuaW5zZXJ0TWFueShbCiAgeyBuYW1lOiAiQWxpY2UiLCBhZ2U6IDI1IH0sCiAgeyBuYW1lOiAiQm9iIiwgYWdlOiAzMCB9LAogIHsgbmFtZTogIkNoYXJsaWUiLCBhZ2U6IDM1IH0KXSk7CgpkYi51c2Vycy5jcmVhdGVJbmRleCh7IG5hbWU6IDEgfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Soluci&oacute;
db.users.insertMany([
  { name: &quot;Alice&quot;, age: 25 },
  { name: &quot;Bob&quot;, age: 30 },
  { name: &quot;Charlie&quot;, age: 35 }
]);

db.users.createIndex({ name: 1 });</pre></div><div class='index'></div><h2><p>Exercici 2: Creant un Índex Compost</p>
</h2>
<div class='index'><ol>
<li>Crea un índex compost en els camps <code>name</code> i <code>age</code> en la col·lecció <code>users</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU29sdWNpw7MKZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxLCBhZ2U6IC0xIH0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Soluci&oacute;
db.users.createIndex({ name: 1, age: -1 });</pre></div><div class='index'></div><h2><p>Exercici 3: Creant un Índex Únic</p>
</h2>
<div class='index'><ol>
<li>Insereix diversos documents amb el camp <code>email</code> en la col·lecció <code>users</code>.</li>
<li>Crea un índex únic en el camp <code>email</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU29sdWNpw7MKZGIudXNlcnMuaW5zZXJ0TWFueShbCiAgeyBuYW1lOiAiQWxpY2UiLCBhZ2U6IDI1LCBlbWFpbDogImFsaWNlQGV4YW1wbGUuY29tIiB9LAogIHsgbmFtZTogIkJvYiIsIGFnZTogMzAsIGVtYWlsOiAiYm9iQGV4YW1wbGUuY29tIiB9Cl0pOwoKZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBlbWFpbDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Soluci&oacute;
db.users.insertMany([
  { name: &quot;Alice&quot;, age: 25, email: &quot;alice@example.com&quot; },
  { name: &quot;Bob&quot;, age: 30, email: &quot;bob@example.com&quot; }
]);

db.users.createIndex({ email: 1 }, { unique: true });</pre></div><div class='index'></div><h2><p>Errors Comuns i Consells</p>
</h2>
<div class='index'><ul>
<li>
<p><strong>Error:</strong> Intentar inserir un document amb un valor duplicat en un camp amb un índex únic.</p>
<ul>
<li><strong>Solució:</strong> Assegura't que els valors en els camps indexats com a únics siguin realment únics abans d'inserir-los.</li>
</ul>
</li>
<li>
<p><strong>Consell:</strong> Utilitza índexs compostos quan les consultes filtren per més d'un camp per millorar el rendiment.</p>
</li>
</ul>
</div><h2><p>Conclusió</p>
</h2>
<div class='index'><p>En aquesta secció, hem après què són els índexs, com crear-los i utilitzar-los a MongoDB. Els índexs són essencials per optimitzar el rendiment de les consultes i assegurar que les operacions de lectura siguin ràpides i eficients. En el següent tema, explorarem els diferents tipus d'índexs disponibles a MongoDB i com utilitzar-los de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-data-types' title="Tipus de Dades">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-types-of-indexes' title="Tipus d'Índexs">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
