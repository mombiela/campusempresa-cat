<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creant Documents</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/02-01-creating-documents" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/02-01-creating-documents" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/02-01-creating-documents" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/mongodb/02-01-creating-documents" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/mongodb/02-01-creating-documents" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contingut del curs</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competències tècniques</a>
				<a href="/all/conocimientos">Coneixements</a>
				<a href="/all/soft_skills">Competències socials</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-mongodb-vs-sql-databases' title="MongoDB vs. Bases de dades SQL">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creant Documents</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-reading-documents' title="Llegint Documents">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com crear documents a MongoDB. Els documents són la unitat bàsica de dades a MongoDB, i es representen en format BSON (Binary JSON). A continuació, veurem com inserir documents en una col·lecció, així com alguns conceptes clau relacionats amb aquesta operació.</p>
</div><h1><p>Conceptes Clau</p>
</h1>
<div class='content'><ul>
<li><strong>Document</strong>: Un registre en una col·lecció, similar a una fila en una taula SQL.</li>
<li><strong>Col·lecció</strong>: Un conjunt de documents, similar a una taula en una base de dades SQL.</li>
<li><strong>BSON</strong>: Format binari utilitzat per representar documents a MongoDB.</li>
</ul>
</div><h1><p>Inserint Documents</p>
</h1>
<div class='content'></div><h2><p>Inserir un Document Únic</p>
</h2>
<div class='content'><p>Per inserir un document únic en una col·lecció, utilitzem el mètode <code>insertOne()</code>. A continuació, es mostra un exemple pràctic:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29ubmV4acOzIGEgbGEgYmFzZSBkZSBkYWRlcwpjb25zdCB7IE1vbmdvQ2xpZW50IH0gPSByZXF1aXJlKCdtb25nb2RiJyk7CmNvbnN0IHVyaSA9ICJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3IjsKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7Cgphc3luYyBmdW5jdGlvbiBydW4oKSB7CiAgICB0cnkgewogICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7CiAgICAgICAgY29uc3QgZGF0YWJhc2UgPSBjbGllbnQuZGIoJ215ZGF0YWJhc2UnKTsKICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gZGF0YWJhc2UuY29sbGVjdGlvbignbXljb2xsZWN0aW9uJyk7CgogICAgICAgIC8vIERvY3VtZW50IGEgaW5zZXJpcgogICAgICAgIGNvbnN0IGRvY3VtZW50ID0gewogICAgICAgICAgICBuYW1lOiAiSm9obiBEb2UiLAogICAgICAgICAgICBhZ2U6IDMwLAogICAgICAgICAgICBhZGRyZXNzOiB7CiAgICAgICAgICAgICAgICBzdHJlZXQ6ICIxMjMgTWFpbiBTdCIsCiAgICAgICAgICAgICAgICBjaXR5OiAiQW55dG93biIsCiAgICAgICAgICAgICAgICBzdGF0ZTogIkNBIgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLy8gSW5zZXJpciBlbCBkb2N1bWVudAogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKGRvY3VtZW50KTsKICAgICAgICBjb25zb2xlLmxvZyhgRG9jdW1lbnQgaW5zZXJpdCBhbWIgbCdJRDogJHtyZXN1bHQuaW5zZXJ0ZWRJZH1gKTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgYXdhaXQgY2xpZW50LmNsb3NlKCk7CiAgICB9Cn0KCnJ1bigpLmNhdGNoKGNvbnNvbGUuZGlyKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Connexi&oacute; a la base de dades
const { MongoClient } = require('mongodb');
const uri = &quot;mongodb://localhost:27017&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('mydatabase');
        const collection = database.collection('mycollection');

        // Document a inserir
        const document = {
            name: &quot;John Doe&quot;,
            age: 30,
            address: {
                street: &quot;123 Main St&quot;,
                city: &quot;Anytown&quot;,
                state: &quot;CA&quot;
            }
        };

        // Inserir el document
        const result = await collection.insertOne(document);
        console.log(`Document inserit amb l'ID: ${result.insertedId}`);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h2><p>Inserir Múltiples Documents</p>
</h2>
<div class='content'><p>Per inserir múltiples documents alhora, utilitzem el mètode <code>insertMany()</code>. Aquí teniu un exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29ubmV4acOzIGEgbGEgYmFzZSBkZSBkYWRlcwpjb25zdCB7IE1vbmdvQ2xpZW50IH0gPSByZXF1aXJlKCdtb25nb2RiJyk7CmNvbnN0IHVyaSA9ICJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3IjsKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7Cgphc3luYyBmdW5jdGlvbiBydW4oKSB7CiAgICB0cnkgewogICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7CiAgICAgICAgY29uc3QgZGF0YWJhc2UgPSBjbGllbnQuZGIoJ215ZGF0YWJhc2UnKTsKICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gZGF0YWJhc2UuY29sbGVjdGlvbignbXljb2xsZWN0aW9uJyk7CgogICAgICAgIC8vIERvY3VtZW50cyBhIGluc2VyaXIKICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBbCiAgICAgICAgICAgIHsgbmFtZTogIkFsaWNlIiwgYWdlOiAyNSB9LAogICAgICAgICAgICB7IG5hbWU6ICJCb2IiLCBhZ2U6IDM1IH0sCiAgICAgICAgICAgIHsgbmFtZTogIkNoYXJsaWUiLCBhZ2U6IDI4IH0KICAgICAgICBdOwoKICAgICAgICAvLyBJbnNlcmlyIGVscyBkb2N1bWVudHMKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE1hbnkoZG9jdW1lbnRzKTsKICAgICAgICBjb25zb2xlLmxvZyhgJHtyZXN1bHQuaW5zZXJ0ZWRDb3VudH0gZG9jdW1lbnRzIGluc2VyaXRzYCk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIGF3YWl0IGNsaWVudC5jbG9zZSgpOwogICAgfQp9CgpydW4oKS5jYXRjaChjb25zb2xlLmRpcik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Connexi&oacute; a la base de dades
const { MongoClient } = require('mongodb');
const uri = &quot;mongodb://localhost:27017&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('mydatabase');
        const collection = database.collection('mycollection');

        // Documents a inserir
        const documents = [
            { name: &quot;Alice&quot;, age: 25 },
            { name: &quot;Bob&quot;, age: 35 },
            { name: &quot;Charlie&quot;, age: 28 }
        ];

        // Inserir els documents
        const result = await collection.insertMany(documents);
        console.log(`${result.insertedCount} documents inserits`);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h1><p>Exercicis Pràctics</p>
</h1>
<div class='content'></div><h2><p>Exercici 1: Inserir un Document Únic</p>
</h2>
<div class='content'><ol>
<li>Crea una base de dades anomenada <code>school</code>.</li>
<li>Crea una col·lecció anomenada <code>students</code>.</li>
<li>Insereix un document amb la següent informació:
<ul>
<li><code>name</code>: &quot;Maria&quot;</li>
<li><code>age</code>: 22</li>
<li><code>major</code>: &quot;Computer Science&quot;</li>
</ul>
</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwpjb25zdCB1cmkgPSAibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyI7CmNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmkpOwoKYXN5bmMgZnVuY3Rpb24gcnVuKCkgewogICAgdHJ5IHsKICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpOwogICAgICAgIGNvbnN0IGRhdGFiYXNlID0gY2xpZW50LmRiKCdzY2hvb2wnKTsKICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gZGF0YWJhc2UuY29sbGVjdGlvbignc3R1ZGVudHMnKTsKCiAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB7CiAgICAgICAgICAgIG5hbWU6ICJNYXJpYSIsCiAgICAgICAgICAgIGFnZTogMjIsCiAgICAgICAgICAgIG1ham9yOiAiQ29tcHV0ZXIgU2NpZW5jZSIKICAgICAgICB9OwoKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZShkb2N1bWVudCk7CiAgICAgICAgY29uc29sZS5sb2coYERvY3VtZW50IGluc2VyaXQgYW1iIGwnSUQ6ICR7cmVzdWx0Lmluc2VydGVkSWR9YCk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIGF3YWl0IGNsaWVudC5jbG9zZSgpOwogICAgfQp9CgpydW4oKS5jYXRjaChjb25zb2xlLmRpcik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient } = require('mongodb');
const uri = &quot;mongodb://localhost:27017&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('school');
        const collection = database.collection('students');

        const document = {
            name: &quot;Maria&quot;,
            age: 22,
            major: &quot;Computer Science&quot;
        };

        const result = await collection.insertOne(document);
        console.log(`Document inserit amb l'ID: ${result.insertedId}`);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h2><p>Exercici 2: Inserir Múltiples Documents</p>
</h2>
<div class='content'><ol>
<li>Crea una base de dades anomenada <code>company</code>.</li>
<li>Crea una col·lecció anomenada <code>employees</code>.</li>
<li>Insereix els següents documents:
<ul>
<li>{ <code>name</code>: &quot;John&quot;, <code>position</code>: &quot;Manager&quot;, <code>salary</code>: 60000 }</li>
<li>{ <code>name</code>: &quot;Jane&quot;, <code>position</code>: &quot;Developer&quot;, <code>salary</code>: 50000 }</li>
<li>{ <code>name</code>: &quot;Mike&quot;, <code>position</code>: &quot;Designer&quot;, <code>salary</code>: 45000 }</li>
</ul>
</li>
</ol>
<h4>Solució</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwpjb25zdCB1cmkgPSAibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyI7CmNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmkpOwoKYXN5bmMgZnVuY3Rpb24gcnVuKCkgewogICAgdHJ5IHsKICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpOwogICAgICAgIGNvbnN0IGRhdGFiYXNlID0gY2xpZW50LmRiKCdjb21wYW55Jyk7CiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGRhdGFiYXNlLmNvbGxlY3Rpb24oJ2VtcGxveWVlcycpOwoKICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBbCiAgICAgICAgICAgIHsgbmFtZTogIkpvaG4iLCBwb3NpdGlvbjogIk1hbmFnZXIiLCBzYWxhcnk6IDYwMDAwIH0sCiAgICAgICAgICAgIHsgbmFtZTogIkphbmUiLCBwb3NpdGlvbjogIkRldmVsb3BlciIsIHNhbGFyeTogNTAwMDAgfSwKICAgICAgICAgICAgeyBuYW1lOiAiTWlrZSIsIHBvc2l0aW9uOiAiRGVzaWduZXIiLCBzYWxhcnk6IDQ1MDAwIH0KICAgICAgICBdOwoKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE1hbnkoZG9jdW1lbnRzKTsKICAgICAgICBjb25zb2xlLmxvZyhgJHtyZXN1bHQuaW5zZXJ0ZWRDb3VudH0gZG9jdW1lbnRzIGluc2VyaXRzYCk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIGF3YWl0IGNsaWVudC5jbG9zZSgpOwogICAgfQp9CgpydW4oKS5jYXRjaChjb25zb2xlLmRpcik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient } = require('mongodb');
const uri = &quot;mongodb://localhost:27017&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('company');
        const collection = database.collection('employees');

        const documents = [
            { name: &quot;John&quot;, position: &quot;Manager&quot;, salary: 60000 },
            { name: &quot;Jane&quot;, position: &quot;Developer&quot;, salary: 50000 },
            { name: &quot;Mike&quot;, position: &quot;Designer&quot;, salary: 45000 }
        ];

        const result = await collection.insertMany(documents);
        console.log(`${result.insertedCount} documents inserits`);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h1><p>Errors Comuns i Consells</p>
</h1>
<div class='content'><ul>
<li><strong>Error de Connexió</strong>: Assegura't que MongoDB està en execució i que la URI de connexió és correcta.</li>
<li><strong>Duplicació de Clau</strong>: Si intentes inserir un document amb un <code>_id</code> que ja existeix, obtindràs un error de duplicació de clau. Deixa que MongoDB generi automàticament l'<code>_id</code> per evitar aquest problema.</li>
<li><strong>Validació de Dades</strong>: Assegura't que els documents compleixen amb l'esquema esperat, si n'hi ha.</li>
</ul>
</div><h1><p>Conclusió</p>
</h1>
<div class='content'><p>En aquesta secció, hem après com inserir documents en una col·lecció a MongoDB utilitzant els mètodes <code>insertOne()</code> i <code>insertMany()</code>. Hem vist exemples pràctics i hem realitzat exercicis per reforçar els conceptes apresos. Ara estem preparats per avançar a la següent secció, on aprendrem com llegir documents de MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-mongodb-vs-sql-databases' title="MongoDB vs. Bases de dades SQL">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-reading-documents' title="Llegint Documents">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
