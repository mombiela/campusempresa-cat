<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Llenguatge Assembly x86</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/06-01-x86-assembly" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/06-01-x86-assembly" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/06-01-x86-assembly" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
							<a href="https://enterprisecampus.net/mod/assembly/06-01-x86-assembly" class="px-2">EN</a></b>
				|
				<a href="https://campusempresa.com/mod/assembly/06-01-x86-assembly" class="px-2">ES</a></b>
				|
				<b class="px-2">CA</b>
											</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Projecte</a>
				<a href="/about">Sobre nosaltres</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donacions</a>
				<a href="/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-optimizing-code' title="Optimització del Codi Assembly">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Llenguatge Assembly x86</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-arm-assembly' title="Llenguatge Assembly ARM">Següent &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>El llenguatge Assembly x86 és un dels més utilitzats i estudiats en el món de la programació de baix nivell. Aquesta arquitectura ha estat predominant en els ordinadors personals durant dècades, i comprendre el seu funcionament és essencial per a qualsevol programador que vulgui aprofundir en el desenvolupament de sistemes, optimització de codi o interfície amb el maquinari.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Comprendre la història i la importància de l'arquitectura x86.</li>
<li>Familiaritzar-se amb els registres i les instruccions bàsiques de x86.</li>
<li>Escriure i executar programes simples en Assembly x86.</li>
<li>Aprendre a utilitzar eines de desenvolupament i depuració per a x86.</li>
</ul>
</div><h1>Història i Importància de l'Arquitectura x86</h1>
<div class='content'><p>L'arquitectura x86 va ser introduïda per Intel amb el processador 8086 el 1978. Des de llavors, ha evolucionat significativament, però ha mantingut la compatibilitat cap enrere, cosa que ha permès que el programari escrit per a versions antigues continuï funcionant en processadors més nous.</p>
</div><h2>Característiques Clau</h2>
<div class='content'><ul>
<li><strong>Compatibilitat Cap Enrere:</strong> Permet executar programes antics en maquinari nou.</li>
<li><strong>Ampliació de Registres:</strong> Els registres han evolucionat des de 16 bits (8086) fins a 32 bits (80386) i 64 bits (x86-64).</li>
<li><strong>Instruccions Complexes:</strong> Inclou una àmplia varietat d'instruccions que permeten operacions complexes amb una sola instrucció.</li>
</ul>
</div><h1>Registres en x86</h1>
<div class='content'><p>Els registres són una part fonamental de qualsevol arquitectura de CPU. En x86, hi ha diversos registres generals, de segment, de punter i d'índex. A continuació es mostra una taula amb els registres més comuns en l'arquitectura x86 de 32 bits.</p>
<table>
<thead>
<tr>
<th>Nom del Registre</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td>EAX</td>
<td>Acumulador per a operacions aritmètiques i lògiques</td>
</tr>
<tr>
<td>EBX</td>
<td>Registre base</td>
</tr>
<tr>
<td>ECX</td>
<td>Comptador per a bucles</td>
</tr>
<tr>
<td>EDX</td>
<td>Registre de dades</td>
</tr>
<tr>
<td>ESI</td>
<td>Índex de font per a operacions de cadena</td>
</tr>
<tr>
<td>EDI</td>
<td>Índex de destinació per a operacions de cadena</td>
</tr>
<tr>
<td>EBP</td>
<td>Punter de base per a la pila</td>
</tr>
<tr>
<td>ESP</td>
<td>Punter de pila</td>
</tr>
<tr>
<td>EIP</td>
<td>Punter d'instrucció</td>
</tr>
<tr>
<td>EFLAGS</td>
<td>Registre de banderes</td>
</tr>
</tbody>
</table>
</div><h1>Sintaxi i Estructura Bàsiques</h1>
<div class='content'><p>La sintaxi de l'Assembly x86 pot variar lleugerament segons l'assemblador utilitzat (NASM, MASM, etc.), però en general segueix una estructura similar.</p>
</div><h2>Exemples de Codi</h2>
<div class='content'><p>A continuació es mostra un exemple de codi Assembly x86 que suma dos nombres i emmagatzema el resultat en un registre.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbnVtMSBkYiA1CiAgICBudW0yIGRiIDEwCgpzZWN0aW9uIC5ic3MKICAgIHJlc3VsdCByZXNiIDEKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgQ2FycmVnYXIgZWxzIHZhbG9ycyBlbiByZWdpc3RyZXMKICAgIG1vdiBhbCwgW251bTFdCiAgICBtb3YgYmwsIFtudW0yXQoKICAgIDsgU3VtYXIgZWxzIHZhbG9ycwogICAgYWRkIGFsLCBibAoKICAgIDsgRW1tYWdhdHplbWFyIGVsIHJlc3VsdGF0CiAgICBtb3YgW3Jlc3VsdF0sIGFsCgogICAgOyBTb3J0aXIgZGVsIHByb2dyYW1hCiAgICBtb3YgZWF4LCAxCiAgICBpbnQgMHg4MA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    num1 db 5
    num2 db 10

section .bss
    result resb 1

section .text
    global _start

_start:
    ; Carregar els valors en registres
    mov al, [num1]
    mov bl, [num2]

    ; Sumar els valors
    add al, bl

    ; Emmagatzemar el resultat
    mov [result], al

    ; Sortir del programa
    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>section .data:</strong> Defineix la secció de dades inicialitzades.</li>
<li><strong>section .bss:</strong> Defineix la secció de dades no inicialitzades.</li>
<li><strong>section .text:</strong> Defineix la secció de codi.</li>
<li><strong>global _start:</strong> Indica el punt d'entrada del programa.</li>
<li><strong>mov al, [num1]:</strong> Carrega el valor de <code>num1</code> en el registre <code>al</code>.</li>
<li><strong>mov bl, [num2]:</strong> Carrega el valor de <code>num2</code> en el registre <code>bl</code>.</li>
<li><strong>add al, bl:</strong> Suma els valors dels registres <code>al</code> i <code>bl</code>.</li>
<li><strong>mov [result], al:</strong> Emmagatzema el resultat en la variable <code>result</code>.</li>
<li><strong>mov eax, 1:</strong> Prepara la crida al sistema per sortir del programa.</li>
<li><strong>int 0x80:</strong> Fa la crida al sistema per sortir.</li>
</ol>
</div><h1>Eines de Desenvolupament i Depuració</h1>
<div class='content'><p>Per treballar amb Assembly x86, necessitaràs algunes eines essencials:</p>
<ul>
<li><strong>Assemblador:</strong> NASM (Netwide Assembler) és una opció popular.</li>
<li><strong>Depurador:</strong> GDB (GNU Debugger) és útil per depurar programes en Assembly.</li>
<li><strong>Editor de Text:</strong> Qualsevol editor de text pot ser utilitzat, però editors com Visual Studio Code ofereixen extensions per a Assembly.</li>
</ul>
</div><h2>Instal·lació de NASM</h2>
<div class='content'><p>Per instal·lar NASM en un sistema basat en Linux, pots utilitzar el següent comandament:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQtZ2V0IGluc3RhbGwgbmFzbQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt-get install nasm</pre></div><div class='content'></div><h2>Compilació i Execució d'un Programa</h2>
<div class='content'><p>Per compilar i executar el programa d'exemple anterior, segueix aquests passos:</p>
<ol>
<li>Guarda el codi en un fitxer amb extensió <code>.asm</code>, per exemple, <code>sum.asm</code>.</li>
<li>Compila el codi amb NASM:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFzbSAtZiBlbGYzMiBzdW0uYXNtIC1vIHN1bS5v"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>nasm -f elf32 sum.asm -o sum.o</pre></div><div class='content'><ol start="3">
<li>Enllaça l'objecte compilat amb l'enllaçador <code>ld</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGQgLW0gZWxmX2kzODYgc3VtLm8gLW8gc3Vt"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ld -m elf_i386 sum.o -o sum</pre></div><div class='content'><ol start="4">
<li>Executa el programa:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Li9zdW0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>./sum</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Multiplicació de Dos Nombres</h2>
<div class='content'><p>Escriu un programa en Assembly x86 que multipliqui dos nombres i emmagatzemi el resultat en una variable.</p>
</div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbnVtMSBkYiA1CiAgICBudW0yIGRiIDEwCgpzZWN0aW9uIC5ic3MKICAgIHJlc3VsdCByZXNiIDEKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgQ2FycmVnYXIgZWxzIHZhbG9ycyBlbiByZWdpc3RyZXMKICAgIG1vdiBhbCwgW251bTFdCiAgICBtb3YgYmwsIFtudW0yXQoKICAgIDsgTXVsdGlwbGljYXIgZWxzIHZhbG9ycwogICAgbXVsIGJsCgogICAgOyBFbW1hZ2F0emVtYXIgZWwgcmVzdWx0YXQKICAgIG1vdiBbcmVzdWx0XSwgYWwKCiAgICA7IFNvcnRpciBkZWwgcHJvZ3JhbWEKICAgIG1vdiBlYXgsIDEKICAgIGludCAweDgw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    num1 db 5
    num2 db 10

section .bss
    result resb 1

section .text
    global _start

_start:
    ; Carregar els valors en registres
    mov al, [num1]
    mov bl, [num2]

    ; Multiplicar els valors
    mul bl

    ; Emmagatzemar el resultat
    mov [result], al

    ; Sortir del programa
    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h2>Exercici 2: Comparació de Dos Nombres</h2>
<div class='content'><p>Escriu un programa en Assembly x86 que compari dos nombres i emmagatzemi el valor més gran en una variable.</p>
</div><h2>Solució</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbnVtMSBkYiA1CiAgICBudW0yIGRiIDEwCgpzZWN0aW9uIC5ic3MKICAgIG1heCByZXNiIDEKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgQ2FycmVnYXIgZWxzIHZhbG9ycyBlbiByZWdpc3RyZXMKICAgIG1vdiBhbCwgW251bTFdCiAgICBtb3YgYmwsIFtudW0yXQoKICAgIDsgQ29tcGFyYXIgZWxzIHZhbG9ycwogICAgY21wIGFsLCBibAogICAgamcgbnVtMV9ncmVhdGVyCgogICAgOyBTaSBudW0yIMOpcyBtw6lzIGdyYW4gbyBpZ3VhbAogICAgbW92IFttYXhdLCBibAogICAgam1wIGVuZAoKbnVtMV9ncmVhdGVyOgogICAgOyBTaSBudW0xIMOpcyBtw6lzIGdyYW4KICAgIG1vdiBbbWF4XSwgYWwKCmVuZDoKICAgIDsgU29ydGlyIGRlbCBwcm9ncmFtYQogICAgbW92IGVheCwgMQogICAgaW50IDB4ODA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    num1 db 5
    num2 db 10

section .bss
    max resb 1

section .text
    global _start

_start:
    ; Carregar els valors en registres
    mov al, [num1]
    mov bl, [num2]

    ; Comparar els valors
    cmp al, bl
    jg num1_greater

    ; Si num2 &eacute;s m&eacute;s gran o igual
    mov [max], bl
    jmp end

num1_greater:
    ; Si num1 &eacute;s m&eacute;s gran
    mov [max], al

end:
    ; Sortir del programa
    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat els fonaments del llenguatge Assembly x86, incloent-hi la seva història, registres, sintaxi bàsica i eines de desenvolupament. També hem proporcionat exemples pràctics i exercicis per ajudar-te a consolidar els teus coneixements. Amb aquesta base, estaràs preparat per aprofundir en temes més avançats i aplicar el llenguatge Assembly x86 en projectes reals.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-optimizing-code' title="Optimització del Codi Assembly">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-arm-assembly' title="Llenguatge Assembly ARM">Següent &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
