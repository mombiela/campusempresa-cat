<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Automatització amb Ansible</title>

    <link rel="alternate" href="https://campusempresa.com/mod/linux/07-03-automating-with-ansible" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/linux/07-03-automatitzacio-amb-ansible" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/linux/07-03-automating-with-ansible" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/linux/07-03-automating-with-ansible" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/linux/07-03-automating-with-ansible" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contingut del curs
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-contenidors-de-linux-i-docker' title="Contenidors de Linux i Docker">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Automatització amb Ansible</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-optimitzacio-del-nucli-de-linux' title="Optimització del Nucli de Linux">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Ansible és una eina de gestió de configuració i automatització de tasques que permet als administradors de sistemes gestionar grans quantitats de servidors de manera eficient. Utilitza un llenguatge de configuració senzill basat en YAML, anomenat Playbooks, per definir les tasques a realitzar.</p>
</div><h2>Objectius del Mòdul</h2>
<div class='content'><ul>
<li>Comprendre què és Ansible i com funciona.</li>
<li>Aprendre a instal·lar i configurar Ansible.</li>
<li>Crear i executar Playbooks bàsics.</li>
<li>Gestionar inventaris de servidors.</li>
<li>Automatitzar tasques comunes amb Ansible.</li>
</ul>
</div><h1>Què és Ansible?</h1>
<div class='content'><p>Ansible és una eina de codi obert que permet la gestió de configuracions, el desplegament d'aplicacions i l'automatització de tasques. A diferència d'altres eines de gestió de configuració, Ansible no requereix agents instal·lats en els nodes gestionats, ja que utilitza SSH per comunicar-se amb ells.</p>
</div><h2>Característiques Clau</h2>
<div class='content'><ul>
<li><strong>Sense agents</strong>: No cal instal·lar cap programari addicional en els nodes gestionats.</li>
<li><strong>Basat en SSH</strong>: Utilitza SSH per comunicar-se amb els nodes.</li>
<li><strong>Declaratiu</strong>: Els Playbooks descriuen l'estat desitjat del sistema.</li>
<li><strong>Idempotent</strong>: Les tasques es poden executar múltiples vegades sense canviar l'estat del sistema si ja està en l'estat desitjat.</li>
</ul>
</div><h1>Instal·lació d'Ansible</h1>
<div class='content'></div><h2>Requisits Previs</h2>
<div class='content'><ul>
<li>Un sistema Linux amb accés a internet.</li>
<li>Privilegis de superusuari (root) o sudo.</li>
</ul>
</div><h2>Passos d'Instal·lació</h2>
<div class='content'><ol>
<li>
<p><strong>Actualitzar el sistema:</strong></p>
<pre><code class="language-bash">sudo apt update
sudo apt upgrade
</code></pre>
</li>
<li>
<p><strong>Instal·lar Ansible:</strong></p>
<pre><code class="language-bash">sudo apt install ansible
</code></pre>
</li>
<li>
<p><strong>Verificar la instal·lació:</strong></p>
<pre><code class="language-bash">ansible --version
</code></pre>
</li>
</ol>
</div><h1>Configuració Bàsica</h1>
<div class='content'></div><h2>Inventari</h2>
<div class='content'><p>L'inventari és un fitxer que conté la llista de nodes que Ansible gestionarà. Per defecte, es troba a <code>/etc/ansible/hosts</code>.</p>
<h4>Exemple d'Inventari</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W3dlYnNlcnZlcnNdCndlYjEuZXhhbXBsZS5jb20Kd2ViMi5leGFtcGxlLmNvbQoKW2Ric2VydmVyc10KZGIxLmV4YW1wbGUuY29tCmRiMi5leGFtcGxlLmNvbQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com</pre></div><div class='content'></div><h2>Playbooks</h2>
<div class='content'><p>Els Playbooks són fitxers YAML que defineixen les tasques a realitzar en els nodes.</p>
<h4>Exemple de Playbook</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFswrdsYXIgaSBjb25maWd1cmFyIEFwYWNoZQogIGhvc3RzOiB3ZWJzZXJ2ZXJzCiAgYmVjb21lOiB5ZXMKICB0YXNrczoKICAgIC0gbmFtZTogSW5zdGFswrdsYXIgQXBhY2hlCiAgICAgIGFwdDoKICAgICAgICBuYW1lOiBhcGFjaGUyCiAgICAgICAgc3RhdGU6IHByZXNlbnQKCiAgICAtIG5hbWU6IEluaWNpYXIgZWwgc2VydmVpIEFwYWNoZQogICAgICBzZXJ2aWNlOgogICAgICAgIG5hbWU6IGFwYWNoZTIKICAgICAgICBzdGF0ZTogc3RhcnRlZAogICAgICAgIGVuYWJsZWQ6IHllcw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Instal&middot;lar i configurar Apache
  hosts: webservers
  become: yes
  tasks:
    - name: Instal&middot;lar Apache
      apt:
        name: apache2
        state: present

    - name: Iniciar el servei Apache
      service:
        name: apache2
        state: started
        enabled: yes</pre></div><div class='content'></div><h1>Executar Playbooks</h1>
<div class='content'><p>Per executar un Playbook, utilitza la comanda <code>ansible-playbook</code> seguida del nom del fitxer del Playbook.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1wbGF5Ym9vayAtaSAvcGF0aC90by9pbnZlbnRvcnkgL3BhdGgvdG8vcGxheWJvb2sueW1s"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-playbook -i /path/to/inventory /path/to/playbook.yml</pre></div><div class='content'></div><h1>Exercicis Pràctics</h1>
<div class='content'></div><h2>Exercici 1: Crear un Inventari</h2>
<div class='content'><ol>
<li>Crea un fitxer d'inventari anomenat <code>hosts</code> amb el següent contingut:
<pre><code class="language-ini">[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com
</code></pre>
</li>
</ol>
</div><h2>Exercici 2: Escriure un Playbook</h2>
<div class='content'><ol>
<li>Escriu un Playbook anomenat <code>install_apache.yml</code> que faci el següent:
<ul>
<li>Instal·li el paquet <code>apache2</code>.</li>
<li>Iniciï el servei <code>apache2</code> i asseguri que s'iniciï automàticament en arrencar el sistema.</li>
</ul>
</li>
</ol>
</div><h2>Solucions</h2>
<div class='content'><h4>Solució de l'Exercici 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W3dlYnNlcnZlcnNdCndlYjEuZXhhbXBsZS5jb20Kd2ViMi5leGFtcGxlLmNvbQoKW2Ric2VydmVyc10KZGIxLmV4YW1wbGUuY29tCmRiMi5leGFtcGxlLmNvbQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com</pre></div><div class='content'><h4>Solució de l'Exercici 2</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFswrdsYXIgaSBjb25maWd1cmFyIEFwYWNoZQogIGhvc3RzOiB3ZWJzZXJ2ZXJzCiAgYmVjb21lOiB5ZXMKICB0YXNrczoKICAgIC0gbmFtZTogSW5zdGFswrdsYXIgQXBhY2hlCiAgICAgIGFwdDoKICAgICAgICBuYW1lOiBhcGFjaGUyCiAgICAgICAgc3RhdGU6IHByZXNlbnQKCiAgICAtIG5hbWU6IEluaWNpYXIgZWwgc2VydmVpIEFwYWNoZQogICAgICBzZXJ2aWNlOgogICAgICAgIG5hbWU6IGFwYWNoZTIKICAgICAgICBzdGF0ZTogc3RhcnRlZAogICAgICAgIGVuYWJsZWQ6IHllcw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Instal&middot;lar i configurar Apache
  hosts: webservers
  become: yes
  tasks:
    - name: Instal&middot;lar Apache
      apt:
        name: apache2
        state: present

    - name: Iniciar el servei Apache
      service:
        name: apache2
        state: started
        enabled: yes</pre></div><div class='content'></div><h1>Errors Comuns i Consells</h1>
<div class='content'></div><h2>Errors Comuns</h2>
<div class='content'><ul>
<li><strong>Error de sintaxi en YAML</strong>: Assegura't que la indentació és correcta.</li>
<li><strong>Problemes de connexió SSH</strong>: Verifica que els nodes són accessibles via SSH i que les claus SSH estan configurades correctament.</li>
</ul>
</div><h2>Consells</h2>
<div class='content'><ul>
<li>Utilitza el mode de prova (<code>--check</code>) per veure què farà el Playbook sense fer canvis reals.</li>
<li>Utilitza variables per fer els Playbooks més flexibles i reutilitzables.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest mòdul, hem après què és Ansible, com instal·lar-lo i configurar-lo, i com crear i executar Playbooks bàsics. Amb aquestes habilitats, pots començar a automatitzar tasques comunes en els teus servidors Linux, millorant l'eficiència i reduint errors humans. En els següents mòduls, explorarem temes més avançats d'Ansible i altres eines d'automatització.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-contenidors-de-linux-i-docker' title="Contenidors de Linux i Docker">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-optimitzacio-del-nucli-de-linux' title="Optimització del Nucli de Linux">
				<span class="d-none d-md-inline">Següent &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<!-- 
	<h1>Publicitat</h1>
	<p>Aquest espai està destinat a publicitat.</p>
	<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
	<p>Gràcies per col·laborar!</p>
	 -->
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Domini de Linux: De Principiant a Avançat</h1>
<h2>Mòdul 1: Introducció a Linux</h2>
<ul>
<li><a href="01-01-que-es-linux">Què és Linux?</a></li>
<li><a href="01-02-historia-de-linux">Història de Linux</a></li>
<li><a href="01-03-distribucions-de-linux">Distribucions de Linux</a></li>
<li><a href="01-04-instal·lant-linux">Instal·lant Linux</a></li>
<li><a href="01-05-estructura-del-sistema-de-fitxers-de-linux">Estructura del Sistema de Fitxers de Linux</a></li>
</ul>
<h2>Mòdul 2: Comandes Bàsiques de Linux</h2>
<ul>
<li><a href="02-01-introduccio-a-la-linia-de-comandes">Introducció a la Línia de Comandes</a></li>
<li><a href="02-02-navegant-pel-sistema-de-fitxers">Navegant pel Sistema de Fitxers</a></li>
<li><a href="02-03-operacions-amb-fitxers-i-directoris">Operacions amb Fitxers i Directoris</a></li>
<li><a href="02-04-visualitzacio-i-edicio-de-fitxers">Visualització i Edició de Fitxers</a></li>
<li><a href="02-05-permisos-i-propietat-dels-fitxers">Permisos i Propietat dels Fitxers</a></li>
</ul>
<h2>Mòdul 3: Habilitats Avançades de la Línia de Comandes</h2>
<ul>
<li><a href="03-01-us-de-comodins-i-expressions-regulars">Ús de Comodins i Expressions Regulars</a></li>
<li><a href="03-02-piping-i-redireccio">Piping i Redirecció</a></li>
<li><a href="03-03-gestio-de-processos">Gestió de Processos</a></li>
<li><a href="03-04-programacio-de-tasques-amb-cron">Programació de Tasques amb Cron</a></li>
<li><a href="03-05-comandes-de-xarxa">Comandes de Xarxa</a></li>
</ul>
<h2>Mòdul 4: Scripting de Shell</h2>
<ul>
<li><a href="04-01-introduccio-al-scripting-de-shell">Introducció al Scripting de Shell</a></li>
<li><a href="04-02-variables-i-tipus-de-dades">Variables i Tipus de Dades</a></li>
<li><a href="04-03-estructures-de-control">Estructures de Control</a></li>
<li><a href="04-04-funcions-i-biblioteques">Funcions i Biblioteques</a></li>
<li><a href="04-05-depuracio-i-gestio-d-errors">Depuració i Gestió d'Errors</a></li>
</ul>
<h2>Mòdul 5: Administració del Sistema</h2>
<ul>
<li><a href="05-01-gestio-d-usuaris-i-grups">Gestió d'Usuaris i Grups</a></li>
<li><a href="05-02-gestio-de-discs">Gestió de Discs</a></li>
<li><a href="05-03-gestio-de-paquets">Gestió de Paquets</a></li>
<li><a href="05-04-monitoritzacio-del-sistema-i-optimitzacio-del-rendiment">Monitorització del Sistema i Optimització del Rendiment</a></li>
<li><a href="05-05-copia-de-seguretat-i-restauracio">Còpia de Seguretat i Restauració</a></li>
</ul>
<h2>Mòdul 6: Xarxes i Seguretat</h2>
<ul>
<li><a href="06-01-configuracio-de-xarxa">Configuració de Xarxa</a></li>
<li><a href="06-02-tallafocs-i-seguretat">Tallafocs i Seguretat</a></li>
<li><a href="06-03-ssh-i-acces-remot">SSH i Accés Remot</a></li>
<li><a href="06-04-sistemes-de-deteccio-d-intrusions">Sistemes de Detecció d'Intrusions</a></li>
<li><a href="06-05-assegurant-sistemes-linux">Assegurant Sistemes Linux</a></li>
</ul>
<h2>Mòdul 7: Temes Avançats</h2>
<ul>
<li><a href="07-01-virtualitzacio-amb-linux">Virtualització amb Linux</a></li>
<li><a href="07-02-contenidors-de-linux-i-docker">Contenidors de Linux i Docker</a></li>
<li><a href="07-03-automatitzacio-amb-ansible">Automatització amb Ansible</a></li>
<li><a href="07-04-optimitzacio-del-nucli-de-linux">Optimització del Nucli de Linux</a></li>
<li><a href="07-05-alta-disponibilitat-i-balanceig-de-carrega">Alta Disponibilitat i Balanceig de Càrrega</a></li>
</ul>
<h2>Mòdul 8: Projectes Pràctics</h2>
<ul>
<li><a href="08-01-configuracio-d-un-servidor-web">Configuració d'un Servidor Web</a></li>
<li><a href="08-02-configuracio-d-un-servidor-de-base-de-dades">Configuració d'un Servidor de Base de Dades</a></li>
<li><a href="08-03-construccio-d-un-servidor-de-mitjans-domestic">Construcció d'un Servidor de Mitjans Domèstic</a></li>
<li><a href="08-04-creacio-d-un-servidor-vpn">Creació d'un Servidor VPN</a></li>
<li><a href="08-05-desplegament-d-un-cluster-de-kubernetes">Desplegament d'un Clúster de Kubernetes</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Projecte</a> | 
<a href="/about">Sobre nosaltres</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donacions</a> | 
<a href="/licence">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
