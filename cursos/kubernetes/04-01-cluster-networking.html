<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Xarxes de Clúster </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/kubernetes/04-01-cluster-networking" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/kubernetes/04-01-cluster-networking" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/kubernetes/04-01-cluster-networking" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kubernetes";
  		var TEMA_NAME = "4-1";
  		var TYPE = "mod";
  		var PATH = "mod/kubernetes/04-01-cluster-networking";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/kubernetes/04-01-cluster-networking" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/kubernetes/04-01-cluster-networking" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kubernetes">
		<a  href="#" class="text-secondary d-none" data-read-mod="kubernetes" data-read-unit="4-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kubernetes" data-unread-unit="4-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-resource-quotas-limits' title="Quotes i Límits de Recursos" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-resource-quotas-limits' title="Quotes i Límits de Recursos" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Xarxes de Clúster</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-02-service-types' title="Tipus de Serveis" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="4-1">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-02-service-types' title="Tipus de Serveis" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="4-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, explorarem com funciona la xarxa dins d'un clúster de Kubernetes. La xarxa és un component fonamental per a la comunicació entre els diferents elements del clúster, com ara els pods, els serveis i els nodes. A continuació, desglossarem els conceptes clau, proporcionarem exemples pràctics i oferirem exercicis per reforçar l'aprenentatge.</p>
</div><h2>Objectius d'Aprenentatge</h2>
<div class='content'><ul>
<li>Comprendre la xarxa de clúster en Kubernetes.</li>
<li>Conèixer els diferents models de xarxa utilitzats en Kubernetes.</li>
<li>Configurar i gestionar la xarxa dins d'un clúster de Kubernetes.</li>
</ul>
</div><h2>Conceptes Clau</h2>
<div class='content'></div><h3><ol>
<li>Xarxa de Pod</li>
</ol></h3>
<div class='content'><p>Cada pod en Kubernetes té la seva pròpia adreça IP única. Això permet que els pods es comuniquin entre ells directament, sense necessitat de traducció d'adreces de xarxa (NAT).</p>
</div><h3><ol start="2">
<li>Xarxa de Node</li>
</ol></h3>
<div class='content'><p>Els nodes del clúster també tenen adreces IP úniques. Els pods dins d'un node poden comunicar-se amb altres pods en diferents nodes a través de la xarxa del clúster.</p>
</div><h3><ol start="3">
<li>CNI (Container Network Interface)</li>
</ol></h3>
<div class='content'><p>Kubernetes utilitza plugins de CNI per gestionar la xarxa del clúster. Alguns dels plugins més populars són:</p>
<ul>
<li><strong>Flannel</strong></li>
<li><strong>Calico</strong></li>
<li><strong>Weave</strong></li>
<li><strong>Cilium</strong></li>
</ul>
</div><h3><ol start="4">
<li>Serveis de Kubernetes</li>
</ol></h3>
<div class='content'><p>Els serveis proporcionen una manera d'exposar una aplicació que s'executa en un conjunt de pods com una adreça IP única. Els serveis poden ser de diferents tipus, com ara ClusterIP, NodePort i LoadBalancer.</p>
</div><h2>Exemples Pràctics</h2>
<div class='content'></div><h3>Configuració de Flannel com a Plugin de Xarxa</h3>
<div class='content'><ol>
<li>
<p><strong>Desplegar Flannel</strong></p>
<pre><code class="language-bash">kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre>
</li>
<li>
<p><strong>Verificar la Configuració</strong></p>
<pre><code class="language-bash">kubectl get pods -n kube-system
</code></pre>
</li>
</ol>
</div><h3>Creació d'un Servei ClusterIP</h3>
<div class='content'><ol>
<li>
<p><strong>Definir un Servei en un Fitxer YAML</strong></p>
<pre><code class="language-yaml">apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
</code></pre>
</li>
<li>
<p><strong>Aplicar la Configuració</strong></p>
<pre><code class="language-bash">kubectl apply -f my-service.yaml
</code></pre>
</li>
<li>
<p><strong>Verificar el Servei</strong></p>
<pre><code class="language-bash">kubectl get services
</code></pre>
</li>
</ol>
</div><h2>Exercicis Pràctics</h2>
<div class='content'></div><h3>Exercici 1: Desplegar un Plugin de Xarxa</h3>
<div class='content'><ol>
<li>Tria un plugin de xarxa (Flannel, Calico, Weave, etc.).</li>
<li>Desplega el plugin al teu clúster de Kubernetes.</li>
<li>Verifica que el plugin s'ha desplegat correctament.</li>
</ol>
</div><h3>Exercici 2: Crear i Exposar un Servei</h3>
<div class='content'><ol>
<li>Crea un pod que executi una aplicació simple (per exemple, un servidor web Nginx).</li>
<li>Defineix un servei ClusterIP per exposar l'aplicació.</li>
<li>Verifica que pots accedir a l'aplicació a través del servei.</li>
</ol>
</div><h3>Solucions</h3>
<div class='content'><h4>Solució a l'Exercici 1</h4>
<ol>
<li>
<p><strong>Desplegar Calico</strong></p>
<pre><code class="language-bash">kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml
</code></pre>
</li>
<li>
<p><strong>Verificar la Configuració</strong></p>
<pre><code class="language-bash">kubectl get pods -n kube-system
</code></pre>
</li>
</ol>
<h4>Solució a l'Exercici 2</h4>
<ol>
<li>
<p><strong>Crear un Pod amb Nginx</strong></p>
<pre><code class="language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: nginx
  labels:
    app: nginx
spec:
  containers:
  - name: nginx
    image: nginx
    ports:
    - containerPort: 80
</code></pre>
<pre><code class="language-bash">kubectl apply -f nginx-pod.yaml
</code></pre>
</li>
<li>
<p><strong>Crear un Servei ClusterIP</strong></p>
<pre><code class="language-yaml">apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
</code></pre>
<pre><code class="language-bash">kubectl apply -f nginx-service.yaml
</code></pre>
</li>
<li>
<p><strong>Verificar el Servei</strong></p>
<pre><code class="language-bash">kubectl get services
</code></pre>
</li>
</ol>
</div><h2>Errors Comuns i Consells</h2>
<div class='content'></div><h3>Errors Comuns</h3>
<div class='content'><ul>
<li><strong>No desplegar correctament el plugin de xarxa:</strong> Assegura't de seguir les instruccions específiques del plugin.</li>
<li><strong>No definir correctament els selectors en els serveis:</strong> Els selectors han de coincidir amb les etiquetes dels pods.</li>
</ul>
</div><h3>Consells</h3>
<div class='content'><ul>
<li><strong>Utilitza eines de depuració:</strong> Eines com <code>kubectl describe</code> i <code>kubectl logs</code> poden ajudar a identificar problemes.</li>
<li><strong>Consulta la documentació oficial:</strong> La documentació de Kubernetes i dels plugins de xarxa és una font valuosa d'informació.</li>
</ul>
</div><h2>Conclusió</h2>
<div class='content'><p>En aquesta secció, hem après sobre la xarxa de clúster en Kubernetes, incloent-hi els conceptes clau, la configuració de plugins de xarxa i la creació de serveis. Aquests coneixements són fonamentals per gestionar la comunicació dins d'un clúster de Kubernetes. En el proper tema, explorarem els diferents tipus de serveis en Kubernetes.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-resource-quotas-limits' title="Quotes i Límits de Recursos" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-resource-quotas-limits' title="Quotes i Límits de Recursos" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-02-service-types' title="Tipus de Serveis" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="4-1">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-02-service-types' title="Tipus de Serveis" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="4-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Kubernetes</h1>
<h2>Mòdul 1: Introducció a Kubernetes</h2>
<ul>
<li><a href="01-01-what-is-kubernetes">Què és Kubernetes?</a></li>
<li><a href="01-02-kubernetes-architecture">Arquitectura de Kubernetes</a></li>
<li><a href="01-03-key-concepts-terminology">Conceptes i Terminologia Clau</a></li>
<li><a href="01-04-setting-up-cluster">Configuració d'un Clúster de Kubernetes</a></li>
<li><a href="01-05-kubernetes-cli">CLI de Kubernetes (kubectl)</a></li>
</ul>
<h2>Mòdul 2: Components Bàsics de Kubernetes</h2>
<ul>
<li><a href="02-01-pods">Pods</a></li>
<li><a href="02-02-replicasets">ReplicaSets</a></li>
<li><a href="02-03-deployments">Deployments</a></li>
<li><a href="02-04-services">Serveis</a></li>
<li><a href="02-05-namespaces">Namespaces</a></li>
</ul>
<h2>Mòdul 3: Gestió de Configuració i Secrets</h2>
<ul>
<li><a href="03-01-configmaps">ConfigMaps</a></li>
<li><a href="03-02-secrets">Secrets</a></li>
<li><a href="03-03-environment-variables">Variables d'Entorn</a></li>
<li><a href="03-04-resource-quotas-limits">Quotes i Límits de Recursos</a></li>
</ul>
<h2>Mòdul 4: Xarxes en Kubernetes</h2>
<ul>
<li><a href="04-01-cluster-networking">Xarxes de Clúster</a></li>
<li><a href="04-02-service-types">Tipus de Serveis</a></li>
<li><a href="04-03-ingress-controllers">Ingress Controllers</a></li>
<li><a href="04-04-network-policies">Polítiques de Xarxa</a></li>
</ul>
<h2>Mòdul 5: Emmagatzematge en Kubernetes</h2>
<ul>
<li><a href="05-01-volumes">Volums</a></li>
<li><a href="05-02-persistent-volumes">Volums Persistents</a></li>
<li><a href="05-03-persistent-volume-claims">Reclamacions de Volums Persistents</a></li>
<li><a href="05-04-storage-classes">Classes d'Emmagatzematge</a></li>
</ul>
<h2>Mòdul 6: Conceptes Avançats de Kubernetes</h2>
<ul>
<li><a href="06-01-statefulsets">StatefulSets</a></li>
<li><a href="06-02-daemonsets">DaemonSets</a></li>
<li><a href="06-03-jobs-cronjobs">Feines i Feines Programades</a></li>
<li><a href="06-04-crds">Definicions de Recursos Personalitzats (CRDs)</a></li>
</ul>
<h2>Mòdul 7: Monitorització i Registre</h2>
<ul>
<li><a href="07-01-monitoring-prometheus">Monitorització amb Prometheus</a></li>
<li><a href="07-02-logging-efk">Registre amb Elasticsearch, Fluentd i Kibana (EFK)</a></li>
<li><a href="07-03-health-checks-probes">Controls de Salut i Probes</a></li>
<li><a href="07-04-metrics-server">Servidor de Mètriques</a></li>
</ul>
<h2>Mòdul 8: Seguretat en Kubernetes</h2>
<ul>
<li><a href="08-01-rbac">Control d'Accés Basat en Rols (RBAC)</a></li>
<li><a href="08-02-pod-security-policies">Polítiques de Seguretat de Pods</a></li>
<li><a href="08-03-network-security">Seguretat de Xarxa</a></li>
<li><a href="08-04-image-security">Seguretat d'Imatges</a></li>
</ul>
<h2>Mòdul 9: Escalabilitat i Rendiment</h2>
<ul>
<li><a href="09-01-horizontal-pod-autoscaling">Autoscalat Horitzontal de Pods</a></li>
<li><a href="09-02-vertical-pod-autoscaling">Autoscalat Vertical de Pods</a></li>
<li><a href="09-03-cluster-autoscaling">Autoscalat de Clúster</a></li>
<li><a href="09-04-performance-tuning">Optimització del Rendiment</a></li>
</ul>
<h2>Mòdul 10: Ecosistema i Eines de Kubernetes</h2>
<ul>
<li><a href="10-01-helm">Helm</a></li>
<li><a href="10-02-kustomize">Kustomize</a></li>
<li><a href="10-03-kubeadm">Kubeadm</a></li>
<li><a href="10-04-minikube">Minikube</a></li>
</ul>
<h2>Mòdul 11: Estudis de Cas i Aplicacions del Món Real</h2>
<ul>
<li><a href="11-01-deploying-web-application">Desplegament d'una Aplicació Web</a></li>
<li><a href="11-02-cicd-kubernetes">CI/CD amb Kubernetes</a></li>
<li><a href="11-03-running-stateful-applications">Execució d'Aplicacions Stateful</a></li>
<li><a href="11-04-multi-cluster-management">Gestió Multi-Clúster</a></li>
</ul>
<h2>Mòdul 12: Preparació per a la Certificació de Kubernetes</h2>
<ul>
<li><a href="12-01-cka">Administrador Certificat de Kubernetes (CKA)</a></li>
<li><a href="12-02-ckad">Desenvolupador d'Aplicacions Certificat de Kubernetes (CKAD)</a></li>
<li><a href="12-03-cks">Especialista en Seguretat Certificat de Kubernetes (CKS)</a></li>
<li><a href="12-04-exam-preparation-tips">Consells per a la Preparació de l'Examen</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
