<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Còpia de Seguretat i Restauració </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/redis/04-04-backup-and-restore" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/redis/04-04-backup-and-restore" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/redis/04-04-backup-and-restore" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "redis";
  		var TEMA_NAME = "4-4";
  		var TYPE = "mod";
  		var PATH = "mod/redis/04-04-backup-and-restore";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/redis/04-04-backup-and-restore" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/redis/04-04-backup-and-restore" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="redis">
		<a  href="#" class="text-secondary d-none" data-read-mod="redis" data-read-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="redis" data-unread-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-persistence-configuration' title="Configuració de la Persistència" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-persistence-configuration' title="Configuració de la Persistència" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Còpia de Seguretat i Restauració</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-authentication' title="Autenticació" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="4-4">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-authentication' title="Autenticació" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com fer còpies de seguretat i restaurar dades en Redis. La còpia de seguretat és essencial per garantir que les dades es puguin recuperar en cas de fallada del sistema o altres problemes. Redis ofereix diverses maneres de fer còpies de seguretat i restaurar dades, incloent instantànies (RDB) i fitxers només de afegeix (AOF).</p>
</div><h2>Objectius</h2>
<div class='content'><ul>
<li>Entendre la importància de les còpies de seguretat.</li>
<li>Aprendre a crear còpies de seguretat utilitzant instantànies (RDB).</li>
<li>Aprendre a restaurar dades des d'una còpia de seguretat.</li>
<li>Conèixer les millors pràctiques per a la còpia de seguretat i restauració.</li>
</ul>
</div><h2>Creant Còpies de Seguretat amb Instantànies (RDB)</h2>
<div class='content'></div><h3>Què és una Instantània (RDB)?</h3>
<div class='content'><p>Una instantània (RDB) és un fitxer binari que conté una còpia de totes les dades emmagatzemades en Redis en un moment determinat. Aquest fitxer es pot utilitzar per restaurar l'estat de la base de dades en cas de fallada.</p>
</div><h3>Com Crear una Instantània Manualment</h3>
<div class='content'><p>Per crear una instantània manualment, podeu utilitzar la comanda <code>SAVE</code> o <code>BGSAVE</code>.</p>
<ul>
<li>
<p><strong>SAVE</strong>: Aquesta comanda bloqueja el servidor Redis fins que la instantània s'hagi creat. No es recomana en entorns de producció perquè pot causar latència.</p>
<pre><code class="language-shell">SAVE
</code></pre>
</li>
<li>
<p><strong>BGSAVE</strong>: Aquesta comanda crea una instantània en segon pla, permetent que el servidor Redis continuï processant comandes.</p>
<pre><code class="language-shell">BGSAVE
</code></pre>
</li>
</ul>
</div><h3>Configurant Instantànies Automàtiques</h3>
<div class='content'><p>Podeu configurar Redis per crear instantànies automàticament en intervals de temps específics o després d'un cert nombre d'escriptures. Això es fa editant el fitxer de configuració <code>redis.conf</code>.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2F2ZSA5MDAgMSAgICMgQ2FkYSA5MDAgc2Vnb25zICgxNSBtaW51dHMpIHNpIGhpIGhhIGFsbWVueXMgMSBlc2NyaXB0dXJhCnNhdmUgMzAwIDEwICAjIENhZGEgMzAwIHNlZ29ucyAoNSBtaW51dHMpIHNpIGhpIGhhIGFsbWVueXMgMTAgZXNjcmlwdHVyZXMKc2F2ZSA2MCAxMDAwMCAjIENhZGEgNjAgc2Vnb25zICgxIG1pbnV0KSBzaSBoaSBoYSBhbG1lbnlzIDEwMDAwIGVzY3JpcHR1cmVz"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>save 900 1   # Cada 900 segons (15 minuts) si hi ha almenys 1 escriptura
save 300 10  # Cada 300 segons (5 minuts) si hi ha almenys 10 escriptures
save 60 10000 # Cada 60 segons (1 minut) si hi ha almenys 10000 escriptures</pre></div><div class='content'></div><h3>Localització de les Instantànies</h3>
<div class='content'><p>Les instantànies es guarden en un fitxer anomenat <code>dump.rdb</code> per defecte. Podeu canviar la ubicació i el nom del fitxer editant el fitxer de configuració <code>redis.conf</code>.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGlyIC9wYXRoL3RvL2R1bXAKZGJmaWxlbmFtZSBkdW1wLnJkYg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dir /path/to/dump
dbfilename dump.rdb</pre></div><div class='content'></div><h2>Restaurar Dades des d'una Instantània</h2>
<div class='content'></div><h3>Procediment de Restauració</h3>
<div class='content'><p>Per restaurar dades des d'una instantània, seguiu aquests passos:</p>
<ol>
<li>
<p><strong>Atureu el servidor Redis</strong>:</p>
<pre><code class="language-shell">redis-cli shutdown
</code></pre>
</li>
<li>
<p><strong>Reemplaceu el fitxer <code>dump.rdb</code> existent</strong> amb el fitxer de còpia de seguretat:</p>
<pre><code class="language-shell">cp /path/to/backup/dump.rdb /path/to/redis/dump.rdb
</code></pre>
</li>
<li>
<p><strong>Reinicieu el servidor Redis</strong>:</p>
<pre><code class="language-shell">redis-server /path/to/redis.conf
</code></pre>
</li>
</ol>
<p>Redis carregarà automàticament les dades des del fitxer <code>dump.rdb</code> en iniciar-se.</p>
</div><h2>Millors Pràctiques per a la Còpia de Seguretat i Restauració</h2>
<div class='content'><ul>
<li><strong>Freqüència de Còpies de Seguretat</strong>: Configureu còpies de seguretat automàtiques en intervals regulars basats en la freqüència de canvis en les vostres dades.</li>
<li><strong>Emmagatzematge Segur</strong>: Emmagatzemeu les còpies de seguretat en ubicacions segures i, si és possible, en múltiples ubicacions per evitar pèrdues de dades.</li>
<li><strong>Proves de Restauració</strong>: Realitzeu proves de restauració periòdiques per assegurar-vos que les còpies de seguretat es poden utilitzar per restaurar les dades correctament.</li>
<li><strong>Monitorització</strong>: Utilitzeu eines de monitorització per assegurar-vos que les còpies de seguretat es creen correctament i per detectar qualsevol problema de manera proactiva.</li>
</ul>
</div><h2>Exercici Pràctic</h2>
<div class='content'></div><h3>Exercici 1: Crear i Restaurar una Instantània</h3>
<div class='content'><ol>
<li>
<p><strong>Crear una Instantània</strong>:</p>
<ul>
<li>Utilitzeu la comanda <code>BGSAVE</code> per crear una instantània de les dades actuals.</li>
</ul>
</li>
<li>
<p><strong>Modificar les Dades</strong>:</p>
<ul>
<li>Afegiu algunes claus noves a la base de dades Redis.</li>
</ul>
</li>
<li>
<p><strong>Restaurar la Instantània</strong>:</p>
<ul>
<li>Atureu el servidor Redis.</li>
<li>Reemplaceu el fitxer <code>dump.rdb</code> amb la instantània creada en el pas 1.</li>
<li>Reinicieu el servidor Redis.</li>
</ul>
</li>
<li>
<p><strong>Verificar la Restauració</strong>:</p>
<ul>
<li>Comproveu que les dades restaurades coincideixen amb l'estat de la base de dades en el moment de la creació de la instantània.</li>
</ul>
</li>
</ol>
</div><h3>Solució</h3>
<div class='content'><ol>
<li>
<p>Crear una instantània:</p>
<pre><code class="language-shell">redis-cli BGSAVE
</code></pre>
</li>
<li>
<p>Modificar les dades:</p>
<pre><code class="language-shell">redis-cli set key1 &quot;value1&quot;
redis-cli set key2 &quot;value2&quot;
</code></pre>
</li>
<li>
<p>Restaurar la instantània:</p>
<pre><code class="language-shell">redis-cli shutdown
cp /path/to/backup/dump.rdb /path/to/redis/dump.rdb
redis-server /path/to/redis.conf
</code></pre>
</li>
<li>
<p>Verificar la restauració:</p>
<pre><code class="language-shell">redis-cli get key1  # Ha de retornar nil
redis-cli get key2  # Ha de retornar nil
</code></pre>
</li>
</ol>
</div><h2>Conclusió</h2>
<div class='content'><p>En aquesta secció, hem après com crear còpies de seguretat de les dades de Redis utilitzant instantànies (RDB) i com restaurar aquestes dades en cas de necessitat. També hem revisat les millors pràctiques per assegurar-nos que les còpies de seguretat es realitzen de manera efectiva i segura. Amb aquests coneixements, podeu garantir la integritat i la disponibilitat de les vostres dades en Redis.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-persistence-configuration' title="Configuració de la Persistència" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-persistence-configuration' title="Configuració de la Persistència" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-authentication' title="Autenticació" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="4-4">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-authentication' title="Autenticació" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Redis</h1>
<h2>Mòdul 1: Introducció a Redis</h2>
<ul>
<li><a href="01-01-what-is-redis">Què és Redis?</a></li>
<li><a href="01-02-installing-redis">Instal·lant Redis</a></li>
<li><a href="01-03-basic-redis-data-types">Tipus de Dades Bàsiques de Redis</a></li>
<li><a href="01-04-redis-cli-basics">Conceptes Bàsics de Redis CLI</a></li>
</ul>
<h2>Mòdul 2: Estructures de Dades de Redis</h2>
<ul>
<li><a href="02-01-strings">Cadenes</a></li>
<li><a href="02-02-lists">Llistes</a></li>
<li><a href="02-03-sets">Conjunts</a></li>
<li><a href="02-04-hashes">Hashs</a></li>
<li><a href="02-05-sorted-sets">Conjunts Ordenats</a></li>
</ul>
<h2>Mòdul 3: Comandes i Operacions de Redis</h2>
<ul>
<li><a href="03-01-basic-commands">Comandes Bàsiques</a></li>
<li><a href="03-02-advanced-commands">Comandes Avançades</a></li>
<li><a href="03-03-transactions">Transaccions</a></li>
<li><a href="03-04-pipelining">Pipelining</a></li>
</ul>
<h2>Mòdul 4: Persistència de Redis</h2>
<ul>
<li><a href="04-01-snapshots-rdb">Instantànies (RDB)</a></li>
<li><a href="04-02-append-only-files-aof">Fitxers Només de Afegeix (AOF)</a></li>
<li><a href="04-03-persistence-configuration">Configuració de la Persistència</a></li>
<li><a href="04-04-backup-and-restore">Còpia de Seguretat i Restauració</a></li>
</ul>
<h2>Mòdul 5: Seguretat de Redis</h2>
<ul>
<li><a href="05-01-authentication">Autenticació</a></li>
<li><a href="05-02-encryption">Encriptació</a></li>
<li><a href="05-03-access-control-lists-acls">Llistes de Control d'Accés (ACLs)</a></li>
<li><a href="05-04-security-best-practices">Millors Pràctiques de Seguretat</a></li>
</ul>
<h2>Mòdul 6: Optimització del Rendiment de Redis</h2>
<ul>
<li><a href="06-01-memory-optimization">Optimització de Memòria</a></li>
<li><a href="06-02-latency-and-throughput">Latència i Rendiment</a></li>
<li><a href="06-03-performance-tuning">Ajust del Rendiment</a></li>
<li><a href="06-04-monitoring-and-metrics">Monitorització i Mètriques</a></li>
</ul>
<h2>Mòdul 7: Clúster i Alta Disponibilitat de Redis</h2>
<ul>
<li><a href="07-01-replication">Replicació</a></li>
<li><a href="07-02-sentinel">Sentinel</a></li>
<li><a href="07-03-cluster-mode">Mode Clúster</a></li>
<li><a href="07-04-scaling-redis">Escalant Redis</a></li>
</ul>
<h2>Mòdul 8: Mòduls i Extensions de Redis</h2>
<ul>
<li><a href="08-01-introduction-to-redis-modules">Introducció als Mòduls de Redis</a></li>
<li><a href="08-02-popular-redis-modules">Mòduls Populars de Redis</a></li>
<li><a href="08-03-creating-custom-modules">Creant Mòduls Personalitzats</a></li>
<li><a href="08-04-using-redis-with-other-technologies">Utilitzant Redis amb Altres Tecnologies</a></li>
</ul>
<h2>Mòdul 9: Usos Avançats de Redis</h2>
<ul>
<li><a href="09-01-caching">Caché</a></li>
<li><a href="09-02-session-storage">Emmagatzematge de Sessions</a></li>
<li><a href="09-03-message-queues">Cues de Missatges</a></li>
<li><a href="09-04-real-time-analytics">Anàlisi en Temps Real</a></li>
</ul>
<h2>Mòdul 10: Redis en Producció</h2>
<ul>
<li><a href="10-01-deployment-strategies">Estratègies de Desplegament</a></li>
<li><a href="10-02-monitoring-and-maintenance">Monitorització i Manteniment</a></li>
<li><a href="10-03-troubleshooting">Resolució de Problemes</a></li>
<li><a href="10-04-case-studies">Estudis de Cas</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
