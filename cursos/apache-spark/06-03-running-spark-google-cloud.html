<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Executar Spark a Google Cloud </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/apache-spark/06-03-running-spark-google-cloud" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/apache-spark/06-03-running-spark-google-cloud" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/apache-spark/06-03-running-spark-google-cloud" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "apachespark";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/apachespark/06-03-running-spark-google-cloud";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/apache-spark/06-03-running-spark-google-cloud" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/apache-spark/06-03-running-spark-google-cloud" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="apachespark">
		<a  href="#" class="text-secondary d-none" data-read-mod="apachespark" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="apachespark" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-running-spark-azure' title="Executar Spark a Azure" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-running-spark-azure' title="Executar Spark a Azure" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Executar Spark a Google Cloud</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-spark-kubernetes' title="Spark amb Kubernetes" class="py-2 px-3 btn btn-primary"
				data-read-mod="apachespark" data-read-unit="6-3">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-spark-kubernetes' title="Spark amb Kubernetes" class="py-2 px-3 btn btn-primary" 
				data-read-mod="apachespark" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En aquest tema, aprendrem com configurar i executar Apache Spark a Google Cloud Platform (GCP). Google Cloud ofereix diverses eines i serveis que faciliten la implementació i gestió de Spark, com ara Google Cloud Dataproc, un servei gestionat per executar clústers de Spark i Hadoop.</p>
</div><h1>Objectius del Tema</h1>
<div class='content'><ul>
<li>Entendre els conceptes bàsics de Google Cloud Platform.</li>
<li>Configurar un projecte a Google Cloud.</li>
<li>Crear i gestionar clústers de Spark utilitzant Google Cloud Dataproc.</li>
<li>Executar treballs de Spark en un clúster de Dataproc.</li>
</ul>
</div><h1><ol>
<li>Introducció a Google Cloud Platform (GCP)</li>
</ol></h1>
<div class='content'><p>Google Cloud Platform és una suite de serveis de computació en núvol que s'executen en la mateixa infraestructura que Google utilitza internament per als seus productes d'usuari final, com ara Google Search i YouTube.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Projectes</strong>: Un projecte és una entitat organitzativa dins de GCP que conté tots els recursos de Google Cloud.</li>
<li><strong>Clústers</strong>: Un clúster és un conjunt de màquines virtuals que treballen juntes per executar aplicacions distribuïdes com Spark.</li>
<li><strong>Google Cloud Dataproc</strong>: Un servei gestionat que facilita la creació, configuració i gestió de clústers de Spark i Hadoop.</li>
</ul>
</div><h1><ol start="2">
<li>Configuració del Projecte a Google Cloud</li>
</ol></h1>
<div class='content'><p>Abans de crear un clúster de Dataproc, necessitem configurar un projecte a Google Cloud.</p>
</div><h2>Passos per Configurar el Projecte</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Compte de Google Cloud</strong>:</p>
<ul>
<li>Registra't a <a href="https://cloud.google.com/">Google Cloud</a>.</li>
<li>Inicia sessió amb el teu compte de Google.</li>
</ul>
</li>
<li>
<p><strong>Crear un Nou Projecte</strong>:</p>
<ul>
<li>A la consola de Google Cloud, fes clic a &quot;Select a project&quot; i després a &quot;New Project&quot;.</li>
<li>Assigna un nom al projecte i fes clic a &quot;Create&quot;.</li>
</ul>
</li>
<li>
<p><strong>Activar l'API de Dataproc</strong>:</p>
<ul>
<li>A la consola de Google Cloud, ves a &quot;APIs &amp; Services&quot; &gt; &quot;Library&quot;.</li>
<li>Cerca &quot;Dataproc&quot; i fes clic a &quot;Enable&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar la Facturació</strong>:</p>
<ul>
<li>Assegura't que la facturació estigui configurada per al teu projecte. Això és necessari per utilitzar els serveis de Google Cloud.</li>
</ul>
</li>
</ol>
</div><h1><ol start="3">
<li>Crear un Clúster de Spark amb Google Cloud Dataproc</li>
</ol></h1>
<div class='content'><p>Un cop el projecte està configurat, podem crear un clúster de Dataproc per executar Spark.</p>
</div><h2>Passos per Crear un Clúster</h2>
<div class='content'><ol>
<li>
<p><strong>Accedir a Dataproc</strong>:</p>
<ul>
<li>A la consola de Google Cloud, ves a &quot;Dataproc&quot; &gt; &quot;Clusters&quot;.</li>
</ul>
</li>
<li>
<p><strong>Crear un Nou Clúster</strong>:</p>
<ul>
<li>Fes clic a &quot;Create Cluster&quot;.</li>
<li>Assigna un nom al clúster.</li>
<li>Selecciona la regió i la zona on vols crear el clúster.</li>
<li>Configura les màquines virtuals (tipus de màquina, nombre de nodes, etc.).</li>
</ul>
</li>
<li>
<p><strong>Configurar les Opcions de Spark</strong>:</p>
<ul>
<li>A la secció &quot;Advanced options&quot;, pots configurar opcions específiques de Spark, com ara la versió de Spark, opcions de configuració, etc.</li>
</ul>
</li>
<li>
<p><strong>Crear el Clúster</strong>:</p>
<ul>
<li>Fes clic a &quot;Create&quot; per crear el clúster. Aquest procés pot trigar uns minuts.</li>
</ul>
</li>
</ol>
</div><h1><ol start="4">
<li>Executar Treballs de Spark en un Clúster de Dataproc</li>
</ol></h1>
<div class='content'><p>Un cop el clúster està creat, podem executar treballs de Spark.</p>
</div><h2>Passos per Executar un Treball de Spark</h2>
<div class='content'><ol>
<li>
<p><strong>Accedir a la Consola de Dataproc</strong>:</p>
<ul>
<li>A la consola de Google Cloud, ves a &quot;Dataproc&quot; &gt; &quot;Jobs&quot;.</li>
</ul>
</li>
<li>
<p><strong>Crear un Nou Treball</strong>:</p>
<ul>
<li>Fes clic a &quot;Submit Job&quot;.</li>
<li>Selecciona el clúster on vols executar el treball.</li>
<li>Selecciona el tipus de treball (per exemple, Spark).</li>
<li>Proporciona els detalls del treball, com ara el camí al fitxer JAR o script de Python, arguments, etc.</li>
</ul>
</li>
<li>
<p><strong>Executar el Treball</strong>:</p>
<ul>
<li>Fes clic a &quot;Submit&quot; per executar el treball. Pots veure l'estat del treball a la consola de Dataproc.</li>
</ul>
</li>
</ol>
</div><h2>Exemple de Codi Spark</h2>
<div class='content'><p>A continuació, es mostra un exemple d'un script de Python per a Spark que compta les paraules en un fitxer de text:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBweXNwYXJrIGltcG9ydCBTcGFya0NvbnRleHQsIFNwYXJrQ29uZgoKIyBDb25maWd1cmFjacOzIGRlIFNwYXJrCmNvbmYgPSBTcGFya0NvbmYoKS5zZXRBcHBOYW1lKCJXb3JkQ291bnQiKQpzYyA9IFNwYXJrQ29udGV4dChjb25mPWNvbmYpCgojIENhcnJlZ2FyIGVsIGZpdHhlciBkZSB0ZXh0CnRleHRfZmlsZSA9IHNjLnRleHRGaWxlKCJnczovL3BhdGgtdG8teW91ci1idWNrZXQvaW5wdXQudHh0IikKCiMgQ29tcHRhciBsZXMgcGFyYXVsZXMKY291bnRzID0gdGV4dF9maWxlLmZsYXRNYXAobGFtYmRhIGxpbmU6IGxpbmUuc3BsaXQoIiAiKSkgXAogICAgICAgICAgICAgICAgICAubWFwKGxhbWJkYSB3b3JkOiAod29yZCwgMSkpIFwKICAgICAgICAgICAgICAgICAgLnJlZHVjZUJ5S2V5KGxhbWJkYSBhLCBiOiBhICsgYikKCiMgRGVzYXIgZWwgcmVzdWx0YXQKY291bnRzLnNhdmVBc1RleHRGaWxlKCJnczovL3BhdGgtdG8teW91ci1idWNrZXQvb3V0cHV0Iik="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from pyspark import SparkContext, SparkConf

# Configuraci&oacute; de Spark
conf = SparkConf().setAppName(&quot;WordCount&quot;)
sc = SparkContext(conf=conf)

# Carregar el fitxer de text
text_file = sc.textFile(&quot;gs://path-to-your-bucket/input.txt&quot;)

# Comptar les paraules
counts = text_file.flatMap(lambda line: line.split(&quot; &quot;)) \
                  .map(lambda word: (word, 1)) \
                  .reduceByKey(lambda a, b: a + b)

# Desar el resultat
counts.saveAsTextFile(&quot;gs://path-to-your-bucket/output&quot;)</pre></div><div class='content'></div><h1>Exercici Pràctic</h1>
<h2>Objectiu</h2>
<div class='content'><p>Crear un clúster de Dataproc i executar un treball de Spark que compti les paraules en un fitxer de text emmagatzemat a Google Cloud Storage.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>Configura un projecte a Google Cloud.</li>
<li>Crea un clúster de Dataproc.</li>
<li>Carrega un fitxer de text a Google Cloud Storage.</li>
<li>Executa l'exemple de codi Spark proporcionat anteriorment.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><p>Segueix els passos detallats en les seccions anteriors per completar l'exercici.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem après com configurar i executar Apache Spark a Google Cloud utilitzant Google Cloud Dataproc. Hem cobert des de la configuració del projecte fins a la creació de clústers i l'execució de treballs de Spark. Amb aquests coneixements, estàs preparat per aprofitar la potència de Google Cloud per a les teves aplicacions de Spark.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-running-spark-azure' title="Executar Spark a Azure" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-running-spark-azure' title="Executar Spark a Azure" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-spark-kubernetes' title="Spark amb Kubernetes" class="py-2 px-3 btn btn-primary"
				data-read-mod="apachespark" data-read-unit="6-3">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-spark-kubernetes' title="Spark amb Kubernetes" class="py-2 px-3 btn btn-primary" 
				data-read-mod="apachespark" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs d'Apache Spark</h1>
<h2>Mòdul 1: Introducció a Apache Spark</h2>
<ul>
<li><a href="01-01-what-is-apache-spark">Què és Apache Spark?</a></li>
<li><a href="01-02-setting-up-spark-environment">Configuració de l'entorn Spark</a></li>
<li><a href="01-03-spark-architecture">Arquitectura de Spark</a></li>
<li><a href="01-04-spark-shell">Shell de Spark</a></li>
</ul>
<h2>Mòdul 2: Conceptes Bàsics de Spark</h2>
<ul>
<li><a href="02-01-rdds">RDDs (Resilient Distributed Datasets)</a></li>
<li><a href="02-02-transformations-actions">Transformacions i Accions</a></li>
<li><a href="02-03-spark-dataframes">DataFrames de Spark</a></li>
<li><a href="02-04-spark-sql">Spark SQL</a></li>
</ul>
<h2>Mòdul 3: Processament de Dades amb Spark</h2>
<ul>
<li><a href="03-01-loading-saving-data">Carregar i Desar Dades</a></li>
<li><a href="03-02-dataframe-operations">Operacions amb DataFrame</a></li>
<li><a href="03-03-working-with-datasets">Treballar amb Datasets</a></li>
<li><a href="03-04-handling-missing-data">Gestió de Dades Faltants</a></li>
</ul>
<h2>Mòdul 4: Programació Avançada amb Spark</h2>
<ul>
<li><a href="04-01-spark-streaming">Spark Streaming</a></li>
<li><a href="04-02-structured-streaming">Streaming Estructurat</a></li>
<li><a href="04-03-spark-mllib">Spark MLlib</a></li>
<li><a href="04-04-graphx">GraphX</a></li>
</ul>
<h2>Mòdul 5: Optimització i Millora del Rendiment</h2>
<ul>
<li><a href="05-01-understanding-spark-jobs">Comprendre les Tasques de Spark</a></li>
<li><a href="05-02-caching-persistence">Emmagatzematge en Memòria i Persistència</a></li>
<li><a href="05-03-memory-management">Gestió de Memòria</a></li>
<li><a href="05-04-optimizing-spark-applications">Optimització d'Aplicacions Spark</a></li>
</ul>
<h2>Mòdul 6: Spark al Núvol</h2>
<ul>
<li><a href="06-01-running-spark-aws">Executar Spark a AWS</a></li>
<li><a href="06-02-running-spark-azure">Executar Spark a Azure</a></li>
<li><a href="06-03-running-spark-google-cloud">Executar Spark a Google Cloud</a></li>
<li><a href="06-04-spark-kubernetes">Spark amb Kubernetes</a></li>
</ul>
<h2>Mòdul 7: Aplicacions del Món Real i Estudis de Cas</h2>
<ul>
<li><a href="07-01-real-time-data-processing">Processament de Dades en Temps Real</a></li>
<li><a href="07-02-big-data-analytics">Anàlisi de Big Data</a></li>
<li><a href="07-03-machine-learning-pipelines">Pipelines d'Aprenentatge Automàtic</a></li>
<li><a href="07-04-case-studies">Estudis de Cas</a></li>
</ul>
<h2>Mòdul 8: Projecte Final</h2>
<ul>
<li><a href="08-01-project-overview">Visió General del Projecte</a></li>
<li><a href="08-02-project-setup">Configuració del Projecte</a></li>
<li><a href="08-03-implementation">Implementació</a></li>
<li><a href="08-04-presentation-review">Presentació i Revisió</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
