<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Apache Flume </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/hadoop/05-05-apache-flume" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/hadoop/05-05-apache-flume" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/hadoop/05-05-apache-flume" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "hadoop";
  		var TEMA_NAME = "5-5";
  		var TYPE = "mod";
  		var PATH = "mod/hadoop/05-05-apache-flume";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.688defeeef.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/hadoop/05-05-apache-flume" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/hadoop/05-05-apache-flume" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="hadoop">
		<a  href="#" class="text-secondary d-none" data-read-mod="hadoop" data-read-unit="5-5" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="hadoop" data-unread-unit="5-5" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-04-apache-sqoop' title="Apache Sqoop" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-04-apache-sqoop' title="Apache Sqoop" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Apache Flume</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-06-apache-oozie' title="Apache Oozie" class="py-2 px-3 btn btn-primary"
				data-read-mod="hadoop" data-read-unit="5-5">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-06-apache-oozie' title="Apache Oozie" class="py-2 px-3 btn btn-primary" 
				data-read-mod="hadoop" data-read-unit="5-5">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introducció a Apache Flume</h2>
<div class='content'><p>Apache Flume és un servei distribuït, fiable i disponible per a la col·lecció, agregació i moviment eficient de grans quantitats de dades de registre. És especialment útil per a la ingesta de dades en sistemes de grans dades com Hadoop.</p>
</div><h3>Objectius d'Aprenentatge</h3>
<div class='content'><ul>
<li>Comprendre què és Apache Flume i per a què s'utilitza.</li>
<li>Aprendre sobre l'arquitectura i els components clau de Flume.</li>
<li>Configurar un agent Flume bàsic per a la ingesta de dades.</li>
<li>Realitzar exercicis pràctics per consolidar els coneixements adquirits.</li>
</ul>
</div><h2>Components Clau de Flume</h2>
<div class='content'><p>Apache Flume està compost per diversos components que treballen junts per moure les dades de les fonts als destins. Els components principals són:</p>
<ol>
<li><strong>Source (Font)</strong>: El punt d'entrada de les dades en el sistema Flume. Pot ser un fitxer, un servidor web, una base de dades, etc.</li>
<li><strong>Channel (Canal)</strong>: Emmagatzema temporalment les dades entre la font i el destí. Pot ser un fitxer, memòria, etc.</li>
<li><strong>Sink (Destí)</strong>: El punt de sortida de les dades del sistema Flume. Pot ser HDFS, HBase, etc.</li>
</ol>
</div><h3>Arquitectura de Flume</h3>
<div class='content'><p>L'arquitectura de Flume es basa en agents que contenen fonts, canals i destins. Aquests agents poden ser configurats per moure les dades de manera eficient i fiable.</p>
<p><img src="https://flume.apache.org/_images/FlumeArch.png" alt="Arquitectura de Flume" /></p>
</div><h2>Configuració d'un Agent Flume</h2>
<div class='content'></div><h3>Exemple de Configuració</h3>
<div class='content'><p>A continuació es mostra un exemple de configuració d'un agent Flume que llegeix dades d'un fitxer i les escriu a HDFS.</p>
<p><strong>fitxer de configuració: flume.conf</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmljacOzIGRlIGwnYWdlbnQKYWdlbnQxLnNvdXJjZXMgPSBzb3VyY2UxCmFnZW50MS5jaGFubmVscyA9IGNoYW5uZWwxCmFnZW50MS5zaW5rcyA9IHNpbmsxCgojIENvbmZpZ3VyYWNpw7MgZGUgbGEgZm9udAphZ2VudDEuc291cmNlcy5zb3VyY2UxLnR5cGUgPSBleGVjCmFnZW50MS5zb3VyY2VzLnNvdXJjZTEuY29tbWFuZCA9IHRhaWwgLUYgL3BhdGgvdG8vbG9nL2ZpbGUKCiMgQ29uZmlndXJhY2nDsyBkZWwgY2FuYWwKYWdlbnQxLmNoYW5uZWxzLmNoYW5uZWwxLnR5cGUgPSBtZW1vcnkKYWdlbnQxLmNoYW5uZWxzLmNoYW5uZWwxLmNhcGFjaXR5ID0gMTAwMAphZ2VudDEuY2hhbm5lbHMuY2hhbm5lbDEudHJhbnNhY3Rpb25DYXBhY2l0eSA9IDEwMAoKIyBDb25maWd1cmFjacOzIGRlbCBkZXN0w60KYWdlbnQxLnNpbmtzLnNpbmsxLnR5cGUgPSBoZGZzCmFnZW50MS5zaW5rcy5zaW5rMS5oZGZzLnBhdGggPSBoZGZzOi8vbmFtZW5vZGUvZmx1bWUvbG9ncy8KYWdlbnQxLnNpbmtzLnNpbmsxLmhkZnMuZmlsZVR5cGUgPSBEYXRhU3RyZWFtCmFnZW50MS5zaW5rcy5zaW5rMS5oZGZzLndyaXRlRm9ybWF0ID0gVGV4dAphZ2VudDEuc2lua3Muc2luazEuaGRmcy5iYXRjaFNpemUgPSAxMDAwCmFnZW50MS5zaW5rcy5zaW5rMS5oZGZzLnJvbGxTaXplID0gMAphZ2VudDEuc2lua3Muc2luazEuaGRmcy5yb2xsQ291bnQgPSAxMDAwMAoKIyBFbmxsYcOnIGRlIGxhIGZvbnQsIGVsIGNhbmFsIGkgZWwgZGVzdMOtCmFnZW50MS5zb3VyY2VzLnNvdXJjZTEuY2hhbm5lbHMgPSBjaGFubmVsMQphZ2VudDEuc2lua3Muc2luazEuY2hhbm5lbCA9IGNoYW5uZWwx"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Definici&oacute; de l'agent
agent1.sources = source1
agent1.channels = channel1
agent1.sinks = sink1

# Configuraci&oacute; de la font
agent1.sources.source1.type = exec
agent1.sources.source1.command = tail -F /path/to/log/file

# Configuraci&oacute; del canal
agent1.channels.channel1.type = memory
agent1.channels.channel1.capacity = 1000
agent1.channels.channel1.transactionCapacity = 100

# Configuraci&oacute; del dest&iacute;
agent1.sinks.sink1.type = hdfs
agent1.sinks.sink1.hdfs.path = hdfs://namenode/flume/logs/
agent1.sinks.sink1.hdfs.fileType = DataStream
agent1.sinks.sink1.hdfs.writeFormat = Text
agent1.sinks.sink1.hdfs.batchSize = 1000
agent1.sinks.sink1.hdfs.rollSize = 0
agent1.sinks.sink1.hdfs.rollCount = 10000

# Enlla&ccedil; de la font, el canal i el dest&iacute;
agent1.sources.source1.channels = channel1
agent1.sinks.sink1.channel = channel1</pre></div><div class='content'></div><h3>Executar l'Agent Flume</h3>
<div class='content'><p>Per executar l'agent Flume amb la configuració anterior, utilitza la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1bWUtbmcgYWdlbnQgLS1jb25mIC4vY29uZiAtLW5hbWUgYWdlbnQxIC1mIGZsdW1lLmNvbmYgLURmbHVtZS5yb290LmxvZ2dlcj1JTkZPLGNvbnNvbGU="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flume-ng agent --conf ./conf --name agent1 -f flume.conf -Dflume.root.logger=INFO,console</pre></div><div class='content'></div><h2>Exercicis Pràctics</h2>
<div class='content'></div><h3>Exercici 1: Configurar un Agent Flume per a la Ingesta de Dades</h3>
<div class='content'><p><strong>Objectiu:</strong> Configurar un agent Flume que llegeixi dades d'un fitxer de registre i les escrigui a HDFS.</p>
<p><strong>Passos:</strong></p>
<ol>
<li>Crea un fitxer de configuració <code>flume.conf</code> amb la configuració adequada.</li>
<li>Executa l'agent Flume utilitzant la comanda proporcionada.</li>
<li>Verifica que les dades s'han escrit correctament a HDFS.</li>
</ol>
<p><strong>Solució:</strong>
Segueix l'exemple de configuració proporcionat anteriorment i ajusta els camins segons sigui necessari.</p>
</div><h3>Exercici 2: Utilitzar un Canal de Memòria</h3>
<div class='content'><p><strong>Objectiu:</strong> Configurar un agent Flume que utilitzi un canal de memòria per a la ingesta de dades.</p>
<p><strong>Passos:</strong></p>
<ol>
<li>Modifica el fitxer de configuració <code>flume.conf</code> per utilitzar un canal de memòria.</li>
<li>Executa l'agent Flume i verifica el comportament.</li>
</ol>
<p><strong>Solució:</strong>
Utilitza la configuració de canal de memòria proporcionada en l'exemple anterior.</p>
</div><h2>Errors Comuns i Consells</h2>
<div class='content'><ul>
<li>
<p><strong>Error:</strong> L'agent Flume no s'inicia.</p>
<ul>
<li><strong>Solució:</strong> Verifica que el fitxer de configuració <code>flume.conf</code> està correctament format i que tots els camins són correctes.</li>
</ul>
</li>
<li>
<p><strong>Error:</strong> Les dades no es mouen a HDFS.</p>
<ul>
<li><strong>Solució:</strong> Assegura't que el camí HDFS és correcte i que el servei HDFS està en funcionament.</li>
</ul>
</li>
</ul>
</div><h2>Conclusió</h2>
<div class='content'><p>Apache Flume és una eina poderosa per a la ingesta de grans volums de dades en sistemes de grans dades com Hadoop. Comprendre els components clau i la configuració bàsica d'un agent Flume és essencial per utilitzar aquesta eina de manera efectiva. Amb la pràctica, podràs configurar agents Flume més complexos per satisfer les teves necessitats de moviment de dades.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-04-apache-sqoop' title="Apache Sqoop" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-04-apache-sqoop' title="Apache Sqoop" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-06-apache-oozie' title="Apache Oozie" class="py-2 px-3 btn btn-primary"
				data-read-mod="hadoop" data-read-unit="5-5">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-06-apache-oozie' title="Apache Oozie" class="py-2 px-3 btn btn-primary" 
				data-read-mod="hadoop" data-read-unit="5-5">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Hadoop</h1>
<h2>Mòdul 1: Introducció a Hadoop</h2>
<ul>
<li><a href="01-01-what-is-hadoop">Què és Hadoop?</a></li>
<li><a href="01-02-hadoop-ecosystem-overview">Visió general de l'ecosistema Hadoop</a></li>
<li><a href="01-03-hadoop-vs-traditional-databases">Hadoop vs Bases de dades tradicionals</a></li>
<li><a href="01-04-setting-up-hadoop-environment">Configuració de l'entorn Hadoop</a></li>
</ul>
<h2>Mòdul 2: Arquitectura de Hadoop</h2>
<ul>
<li><a href="02-01-hadoop-core-components">Components bàsics de Hadoop</a></li>
<li><a href="02-02-hdfs">HDFS (Sistema de fitxers distribuït de Hadoop)</a></li>
<li><a href="02-03-mapreduce-framework">Marc MapReduce</a></li>
<li><a href="02-04-yarn">YARN (Yet Another Resource Negotiator)</a></li>
</ul>
<h2>Mòdul 3: HDFS (Sistema de fitxers distribuït de Hadoop)</h2>
<ul>
<li><a href="03-01-hdfs-architecture">Arquitectura de HDFS</a></li>
<li><a href="03-02-hdfs-commands">Comandes de HDFS</a></li>
<li><a href="03-03-data-replication-in-hdfs">Replicació de dades en HDFS</a></li>
<li><a href="03-04-hdfs-fault-tolerance">Tolerància a fallades de HDFS</a></li>
</ul>
<h2>Mòdul 4: Programació MapReduce</h2>
<ul>
<li><a href="04-01-introduction-to-mapreduce">Introducció a MapReduce</a></li>
<li><a href="04-02-mapreduce-job-workflow">Flux de treball d'una feina MapReduce</a></li>
<li><a href="04-03-writing-a-mapreduce-program">Escriure un programa MapReduce</a></li>
<li><a href="04-04-mapreduce-optimization-techniques">Tècniques d'optimització de MapReduce</a></li>
</ul>
<h2>Mòdul 5: Eines de l'ecosistema Hadoop</h2>
<ul>
<li><a href="05-01-apache-pig">Apache Pig</a></li>
<li><a href="05-02-apache-hive">Apache Hive</a></li>
<li><a href="05-03-apache-hbase">Apache HBase</a></li>
<li><a href="05-04-apache-sqoop">Apache Sqoop</a></li>
<li><a href="05-05-apache-flume">Apache Flume</a></li>
<li><a href="05-06-apache-oozie">Apache Oozie</a></li>
</ul>
<h2>Mòdul 6: Conceptes avançats de Hadoop</h2>
<ul>
<li><a href="06-01-hadoop-security">Seguretat de Hadoop</a></li>
<li><a href="06-02-hadoop-cluster-management">Gestió de clústers de Hadoop</a></li>
<li><a href="06-03-hadoop-performance-tuning">Ajust de rendiment de Hadoop</a></li>
<li><a href="06-04-hadoop-data-serialization">Serialització de dades de Hadoop</a></li>
</ul>
<h2>Mòdul 7: Aplicacions reals i estudis de cas</h2>
<ul>
<li><a href="07-01-hadoop-in-data-warehousing">Hadoop en emmagatzematge de dades</a></li>
<li><a href="07-02-hadoop-in-machine-learning">Hadoop en aprenentatge automàtic</a></li>
<li><a href="07-03-hadoop-in-real-time-data-processing">Hadoop en processament de dades en temps real</a></li>
<li><a href="07-04-case-studies-of-hadoop-implementations">Estudis de cas d'implementacions de Hadoop</a></li>
</ul>
<h2>Mòdul 8: Projectes pràctics</h2>
<ul>
<li><a href="08-01-project-1-analyzing-big-data-with-hadoop">Projecte 1: Analitzar grans dades amb Hadoop</a></li>
<li><a href="08-02-project-2-building-a-data-pipeline-with-hadoop-ecosystem">Projecte 2: Construir una pipeline de dades amb l'ecosistema Hadoop</a></li>
<li><a href="08-03-project-3-real-time-data-processing-with-hadoop">Projecte 3: Processament de dades en temps real amb Hadoop</a></li>
<li><a href="08-04-project-4-machine-learning-with-hadoop">Projecte 4: Aprenentatge automàtic amb Hadoop</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
