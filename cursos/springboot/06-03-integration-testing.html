<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Proves d'integració </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/mod/springboot/06-03-integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/06-03-integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/06-03-integration-testing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "springboot";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/springboot/06-03-integration-testing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/springboot/06-03-integration-testing" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/mod/springboot/06-03-integration-testing" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="springboot">
		<a  href="#" class="text-secondary d-none" data-read-mod="springboot" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="springboot" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-unit-testing-junit' title="Proves unitàries amb JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-unit-testing-junit' title="Proves unitàries amb JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Proves d'integració</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-mocking-mockito' title="Simulació amb Mockito" class="py-2 px-3 btn btn-primary"
				data-read-mod="springboot" data-read-unit="6-3">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-mocking-mockito' title="Simulació amb Mockito" class="py-2 px-3 btn btn-primary" 
				data-read-mod="springboot" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Les proves d'integració són una part essencial del desenvolupament de programari, ja que asseguren que diferents components del sistema funcionin correctament quan es combinen. En aquest tema, aprendrem com realitzar proves d'integració en aplicacions Spring Boot.</p>
</div><h1>Objectius del tema</h1>
<div class='content'><ul>
<li>Entendre què són les proves d'integració i la seva importància.</li>
<li>Configurar l'entorn per a les proves d'integració en Spring Boot.</li>
<li>Escriure i executar proves d'integració utilitzant Spring Boot Test.</li>
<li>Utilitzar bases de dades en memòria per a proves d'integració.</li>
</ul>
</div><h1>Què són les proves d'integració?</h1>
<div class='content'><p>Les proves d'integració verifiquen que diferents mòduls o serveis d'una aplicació funcionin correctament quan es combinen. A diferència de les proves unitàries, que aïllen i proven components individuals, les proves d'integració asseguren que les interaccions entre components siguin correctes.</p>
</div><h2>Importància de les proves d'integració</h2>
<div class='content'><ul>
<li><strong>Verificació de la interacció:</strong> Asseguren que els components funcionin correctament quan es combinen.</li>
<li><strong>Detecció de problemes d'integració:</strong> Identifiquen problemes que poden no ser evidents en proves unitàries.</li>
<li><strong>Confiança en el sistema:</strong> Proporcionen confiança que el sistema complet funciona com s'espera.</li>
</ul>
</div><h1>Configuració de l'entorn per a proves d'integració</h1>
<div class='content'><p>Spring Boot proporciona un suport excel·lent per a les proves d'integració a través del mòdul <code>spring-boot-starter-test</code>, que inclou biblioteques com JUnit, Spring Test, AssertJ, Hamcrest i Mockito.</p>
</div><h2>Dependències necessàries</h2>
<div class='content'><p>Assegura't de tenir les següents dependències en el teu fitxer <code>pom.xml</code> (per a Maven) o <code>build.gradle</code> (per a Gradle):</p>
<p><strong>Maven:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXRlc3Q8L2FydGlmYWN0SWQ+CiAgICA8c2NvcGU+dGVzdDwvc2NvcGU+CjwvZGVwZW5kZW5jeT4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'><p><strong>Gradle:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdEltcGxlbWVudGF0aW9uICdvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q6c3ByaW5nLWJvb3Qtc3RhcnRlci10ZXN0Jw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>testImplementation 'org.springframework.boot:spring-boot-starter-test'</pre></div><div class='content'></div><h1>Escriure proves d'integració</h1>
<div class='content'></div><h2>Exemple pràctic</h2>
<div class='content'><p>Suposem que tenim un servei que gestiona usuaris i volem provar la seva integració amb el controlador REST i el repositori JPA.</p>
<p><strong>Controlador d'Usuari:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL3VzZXJzIikKcHVibGljIGNsYXNzIFVzZXJDb250cm9sbGVyIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlOwoKICAgIEBHZXRNYXBwaW5nKCIve2lkfSIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8VXNlcj4gZ2V0VXNlckJ5SWQoQFBhdGhWYXJpYWJsZSBMb25nIGlkKSB7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclNlcnZpY2UuZ2V0VXNlckJ5SWQoaWQpOwogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayh1c2VyKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/users&quot;)
public class UserController {

    @Autowired
    private UserService userService;

    @GetMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {
        User user = userService.getUserById(id);
        return ResponseEntity.ok(user);
    }
}</pre></div><div class='content'><p><strong>Servei d'Usuari:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNlcnZpY2UKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBVc2VyIGdldFVzZXJCeUlkKExvbmcgaWQpIHsKICAgICAgICByZXR1cm4gdXNlclJlcG9zaXRvcnkuZmluZEJ5SWQoaWQpLm9yRWxzZVRocm93KCgpIC0+IG5ldyBVc2VyTm90Rm91bmRFeGNlcHRpb24oIlVzZXIgbm90IGZvdW5kIikpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Service
public class UserService {

    @Autowired
    private UserRepository userRepository;

    public User getUserById(Long id) {
        return userRepository.findById(id).orElseThrow(() -&gt; new UserNotFoundException(&quot;User not found&quot;));
    }
}</pre></div><div class='content'><p><strong>Repositori d'Usuari:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
}</pre></div><div class='content'></div><h2>Prova d'integració</h2>
<div class='content'><p><strong>Prova d'integració del controlador d'usuari:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3Qod2ViRW52aXJvbm1lbnQgPSBTcHJpbmdCb290VGVzdC5XZWJFbnZpcm9ubWVudC5SQU5ET01fUE9SVCkKcHVibGljIGNsYXNzIFVzZXJDb250cm9sbGVySW50ZWdyYXRpb25UZXN0IHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFRlc3RSZXN0VGVtcGxhdGUgcmVzdFRlbXBsYXRlOwoKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CgogICAgQEJlZm9yZQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTsKICAgICAgICB1c2VyLnNldE5hbWUoIkpvaG4gRG9lIik7CiAgICAgICAgdXNlclJlcG9zaXRvcnkuc2F2ZSh1c2VyKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFVzZXJCeUlkKCkgewogICAgICAgIFJlc3BvbnNlRW50aXR5PFVzZXI+IHJlc3BvbnNlID0gcmVzdFRlbXBsYXRlLmdldEZvckVudGl0eSgiL3VzZXJzLzEiLCBVc2VyLmNsYXNzKTsKICAgICAgICBhc3NlcnRFcXVhbHMoSHR0cFN0YXR1cy5PSywgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkpvaG4gRG9lIiwgcmVzcG9uc2UuZ2V0Qm9keSgpLmdldE5hbWUoKSk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RunWith(SpringRunner.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class UserControllerIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Autowired
    private UserRepository userRepository;

    @Before
    public void setUp() {
        User user = new User();
        user.setName(&quot;John Doe&quot;);
        userRepository.save(user);
    }

    @Test
    public void testGetUserById() {
        ResponseEntity&lt;User&gt; response = restTemplate.getForEntity(&quot;/users/1&quot;, User.class);
        assertEquals(HttpStatus.OK, response.getStatusCode());
        assertEquals(&quot;John Doe&quot;, response.getBody().getName());
    }
}</pre></div><div class='content'></div><h2>Explicació del codi</h2>
<div class='content'><ul>
<li><strong>Configuració de la prova:</strong> Utilitzem <code>@SpringBootTest</code> per carregar el context complet de Spring Boot. <code>webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT</code> indica que es crearà un servidor web en un port aleatori per a les proves.</li>
<li><strong>TestRestTemplate:</strong> S'utilitza per fer sol·licituds HTTP al servidor de proves.</li>
<li><strong>@Before:</strong> Configura les dades necessàries abans de cada prova.</li>
<li><strong>@Test:</strong> Defineix una prova que verifica que el controlador retorna l'usuari correcte.</li>
</ul>
</div><h1>Utilitzant bases de dades en memòria</h1>
<div class='content'><p>Per a les proves d'integració, és recomanable utilitzar bases de dades en memòria com H2 per evitar modificar dades reals.</p>
</div><h2>Configuració de H2</h2>
<div class='content'><p><strong>application.properties:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLmRhdGFzb3VyY2UudXJsPWpkYmM6aDI6bWVtOnRlc3RkYgpzcHJpbmcuZGF0YXNvdXJjZS5kcml2ZXJDbGFzc05hbWU9b3JnLmgyLkRyaXZlcgpzcHJpbmcuZGF0YXNvdXJjZS51c2VybmFtZT1zYQpzcHJpbmcuZGF0YXNvdXJjZS5wYXNzd29yZD1wYXNzd29yZApzcHJpbmcuanBhLmRhdGFiYXNlLXBsYXRmb3JtPW9yZy5oaWJlcm5hdGUuZGlhbGVjdC5IMkRpYWxlY3Q="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect</pre></div><div class='content'></div><h1>Exercici pràctic</h1>
<div class='content'></div><h2>Exercici</h2>
<div class='content'><ol>
<li>Crea un nou projecte Spring Boot.</li>
<li>Implementa un controlador, servei i repositori per gestionar entitats de &quot;Producte&quot;.</li>
<li>Escriu una prova d'integració per verificar que el controlador retorna correctament un producte per ID.</li>
</ol>
</div><h2>Solució</h2>
<div class='content'><p><strong>Controlador de Producte:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL3Byb2R1Y3RzIikKcHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFByb2R1Y3RTZXJ2aWNlIHByb2R1Y3RTZXJ2aWNlOwoKICAgIEBHZXRNYXBwaW5nKCIve2lkfSIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8UHJvZHVjdD4gZ2V0UHJvZHVjdEJ5SWQoQFBhdGhWYXJpYWJsZSBMb25nIGlkKSB7CiAgICAgICAgUHJvZHVjdCBwcm9kdWN0ID0gcHJvZHVjdFNlcnZpY2UuZ2V0UHJvZHVjdEJ5SWQoaWQpOwogICAgICAgIHJldHVybiBSZXNwb25zZUVudGl0eS5vayhwcm9kdWN0KTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/products&quot;)
public class ProductController {

    @Autowired
    private ProductService productService;

    @GetMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;Product&gt; getProductById(@PathVariable Long id) {
        Product product = productService.getProductById(id);
        return ResponseEntity.ok(product);
    }
}</pre></div><div class='content'><p><strong>Servei de Producte:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNlcnZpY2UKcHVibGljIGNsYXNzIFByb2R1Y3RTZXJ2aWNlIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFByb2R1Y3RSZXBvc2l0b3J5IHByb2R1Y3RSZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBQcm9kdWN0IGdldFByb2R1Y3RCeUlkKExvbmcgaWQpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdFJlcG9zaXRvcnkuZmluZEJ5SWQoaWQpLm9yRWxzZVRocm93KCgpIC0+IG5ldyBQcm9kdWN0Tm90Rm91bmRFeGNlcHRpb24oIlByb2R1Y3Qgbm90IGZvdW5kIikpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Service
public class ProductService {

    @Autowired
    private ProductRepository productRepository;

    public Product getProductById(Long id) {
        return productRepository.findById(id).orElseThrow(() -&gt; new ProductNotFoundException(&quot;Product not found&quot;));
    }
}</pre></div><div class='content'><p><strong>Repositori de Producte:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBQcm9kdWN0UmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8UHJvZHVjdCwgTG9uZz4gewp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {
}</pre></div><div class='content'><p><strong>Prova d'integració del controlador de producte:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3Qod2ViRW52aXJvbm1lbnQgPSBTcHJpbmdCb290VGVzdC5XZWJFbnZpcm9ubWVudC5SQU5ET01fUE9SVCkKcHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVySW50ZWdyYXRpb25UZXN0IHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFRlc3RSZXN0VGVtcGxhdGUgcmVzdFRlbXBsYXRlOwoKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgUHJvZHVjdFJlcG9zaXRvcnkgcHJvZHVjdFJlcG9zaXRvcnk7CgogICAgQEJlZm9yZQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgUHJvZHVjdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3QoKTsKICAgICAgICBwcm9kdWN0LnNldE5hbWUoIkxhcHRvcCIpOwogICAgICAgIHByb2R1Y3RSZXBvc2l0b3J5LnNhdmUocHJvZHVjdCk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRQcm9kdWN0QnlJZCgpIHsKICAgICAgICBSZXNwb25zZUVudGl0eTxQcm9kdWN0PiByZXNwb25zZSA9IHJlc3RUZW1wbGF0ZS5nZXRGb3JFbnRpdHkoIi9wcm9kdWN0cy8xIiwgUHJvZHVjdC5jbGFzcyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKEh0dHBTdGF0dXMuT0ssIHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJMYXB0b3AiLCByZXNwb25zZS5nZXRCb2R5KCkuZ2V0TmFtZSgpKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RunWith(SpringRunner.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class ProductControllerIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Autowired
    private ProductRepository productRepository;

    @Before
    public void setUp() {
        Product product = new Product();
        product.setName(&quot;Laptop&quot;);
        productRepository.save(product);
    }

    @Test
    public void testGetProductById() {
        ResponseEntity&lt;Product&gt; response = restTemplate.getForEntity(&quot;/products/1&quot;, Product.class);
        assertEquals(HttpStatus.OK, response.getStatusCode());
        assertEquals(&quot;Laptop&quot;, response.getBody().getName());
    }
}</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>En aquest tema, hem après què són les proves d'integració i la seva importància en el desenvolupament de programari. Hem configurat l'entorn per a les proves d'integració en Spring Boot, hem escrit proves d'integració utilitzant <code>TestRestTemplate</code> i hem utilitzat bases de dades en memòria per a les proves. A més, hem realitzat un exercici pràctic per reforçar els conceptes apresos. Ara estàs preparat per escriure proves d'integració efectives en les teves aplicacions Spring Boot.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-unit-testing-junit' title="Proves unitàries amb JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-unit-testing-junit' title="Proves unitàries amb JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-mocking-mockito' title="Simulació amb Mockito" class="py-2 px-3 btn btn-primary"
				data-read-mod="springboot" data-read-unit="6-3">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-mocking-mockito' title="Simulació amb Mockito" class="py-2 px-3 btn btn-primary" 
				data-read-mod="springboot" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Spring Boot</h1>
<h2>Mòdul 1: Introducció a Spring Boot</h2>
<ul>
<li><a href="01-01-what-is-spring-boot">Què és Spring Boot?</a></li>
<li><a href="01-02-setting-up-environment">Configuració del teu entorn de desenvolupament</a></li>
<li><a href="01-03-creating-first-application">Creant la teva primera aplicació Spring Boot</a></li>
<li><a href="01-04-understanding-project-structure">Entenent l'estructura del projecte Spring Boot</a></li>
</ul>
<h2>Mòdul 2: Conceptes bàsics de Spring Boot</h2>
<ul>
<li><a href="02-01-spring-boot-annotations">Anotacions de Spring Boot</a></li>
<li><a href="02-02-dependency-injection">Injecció de dependències a Spring Boot</a></li>
<li><a href="02-03-spring-boot-configuration">Configuració de Spring Boot</a></li>
<li><a href="02-04-spring-boot-properties">Propietats de Spring Boot</a></li>
</ul>
<h2>Mòdul 3: Construint serveis web RESTful</h2>
<ul>
<li><a href="03-01-introduction-restful-web-services">Introducció als serveis web RESTful</a></li>
<li><a href="03-02-creating-rest-controllers">Creant controladors REST</a></li>
<li><a href="03-03-handling-http-methods">Gestionant mètodes HTTP</a></li>
<li><a href="03-04-exception-handling-rest">Gestió d'excepcions en REST</a></li>
</ul>
<h2>Mòdul 4: Accés a dades amb Spring Boot</h2>
<ul>
<li><a href="04-01-introduction-spring-data-jpa">Introducció a Spring Data JPA</a></li>
<li><a href="04-02-configuring-data-sources">Configuració de fonts de dades</a></li>
<li><a href="04-03-creating-jpa-entities">Creant entitats JPA</a></li>
<li><a href="04-04-using-spring-data-repositories">Utilitzant repositoris de Spring Data</a></li>
<li><a href="04-05-query-methods-spring-data-jpa">Mètodes de consulta a Spring Data JPA</a></li>
</ul>
<h2>Mòdul 5: Seguretat a Spring Boot</h2>
<ul>
<li><a href="05-01-introduction-spring-security">Introducció a Spring Security</a></li>
<li><a href="05-02-configuring-spring-security">Configuració de Spring Security</a></li>
<li><a href="05-03-user-authentication-authorization">Autenticació i autorització d'usuaris</a></li>
<li><a href="05-04-implementing-jwt-authentication">Implementant autenticació JWT</a></li>
</ul>
<h2>Mòdul 6: Proves a Spring Boot</h2>
<ul>
<li><a href="06-01-introduction-testing">Introducció a les proves</a></li>
<li><a href="06-02-unit-testing-junit">Proves unitàries amb JUnit</a></li>
<li><a href="06-03-integration-testing">Proves d'integració</a></li>
<li><a href="06-04-mocking-mockito">Simulació amb Mockito</a></li>
</ul>
<h2>Mòdul 7: Funcions avançades de Spring Boot</h2>
<ul>
<li><a href="07-01-spring-boot-actuator">Spring Boot Actuator</a></li>
<li><a href="07-02-spring-boot-profiles">Perfils de Spring Boot</a></li>
<li><a href="07-03-spring-boot-docker">Spring Boot amb Docker</a></li>
<li><a href="07-04-spring-boot-microservices">Spring Boot i microserveis</a></li>
</ul>
<h2>Mòdul 8: Desplegant aplicacions Spring Boot</h2>
<ul>
<li><a href="08-01-introduction-deployment">Introducció al desplegament</a></li>
<li><a href="08-02-deploying-heroku">Desplegant a Heroku</a></li>
<li><a href="08-03-deploying-aws">Desplegant a AWS</a></li>
<li><a href="08-04-deploying-kubernetes">Desplegant a Kubernetes</a></li>
</ul>
<h2>Mòdul 9: Rendiment i monitorització</h2>
<ul>
<li><a href="09-01-performance-tuning">Optimització del rendiment</a></li>
<li><a href="09-02-monitoring-spring-boot-actuator">Monitorització amb Spring Boot Actuator</a></li>
<li><a href="09-03-using-prometheus-grafana">Utilitzant Prometheus i Grafana</a></li>
<li><a href="09-04-logging-log-management">Gestió de registres i logs</a></li>
</ul>
<h2>Mòdul 10: Millors pràctiques i consells</h2>
<ul>
<li><a href="10-01-spring-boot-best-practices">Millors pràctiques de Spring Boot</a></li>
<li><a href="10-02-common-pitfalls">Errors comuns i com evitar-los</a></li>
<li><a href="10-03-tips-writing-clean-code">Consells per escriure codi net</a></li>
<li><a href="10-04-resources-further-learning">Recursos per a un aprenentatge continu</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
