<!DOCTYPE html>
<html lang="ca">
<head>
    <title> Variables d'Entorn </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/webpack/03-05-environment-variables" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/webpack/03-05-environment-variables" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/webpack/03-05-environment-variables" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "ca";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "webpack";
  		var TEMA_NAME = "3-5";
  		var TYPE = "mod";
  		var PATH = "mod/webpack/03-05-environment-variables";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/webpack/03-05-environment-variables" class="px-2">EN</a></b>
	|
	<a href="https://campusempresa.com/cursos/webpack/03-05-environment-variables" class="px-2">ES</a></b>
	|
	<b class="px-2">CA</b>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Tot el coneixement al teu abast</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/els-meus-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Els meus cursos</b></i>
</a>
<a href="/cursos-finalitzats" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalitzats             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="webpack">
		<a  href="#" class="text-secondary d-none" data-read-mod="webpack" data-read-unit="3-5" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar com a llegit
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="webpack" data-unread-unit="3-5" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar com a no llegit
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contingut del curs
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-lazy-loading' title="Càrrega Peresosa" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-lazy-loading' title="Càrrega Peresosa" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Variables d'Entorn</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-source-maps' title="Mapes de Fonts" class="py-2 px-3 btn btn-primary"
				data-read-mod="webpack" data-read-unit="3-5">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-source-maps' title="Mapes de Fonts" class="py-2 px-3 btn btn-primary" 
				data-read-mod="webpack" data-read-unit="3-5">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Les variables d'entorn són una manera poderosa de configurar el comportament de les aplicacions sense haver de modificar el codi font. En el context de Webpack, les variables d'entorn es poden utilitzar per definir configuracions específiques per a diferents entorns (per exemple, desenvolupament, producció, proves). Aquest tema cobrirà com configurar i utilitzar variables d'entorn amb Webpack.</p>
</div><h2>Continguts</h2>
<div class='content'><ol>
<li><a href="#què-són-les-variables-dentorn">Què són les Variables d'Entorn?</a></li>
<li><a href="#configuració-de-variables-dentorn-amb-webpack">Configuració de Variables d'Entorn amb Webpack</a></li>
<li><a href="#exemple-pràctic">Exemple Pràctic</a></li>
<li><a href="#exercicis-pràctics">Exercicis Pràctics</a></li>
<li><a href="#conclusió">Conclusió</a></li>
</ol>
</div><h2>Què són les Variables d'Entorn?</h2>
<div class='content'><p>Les variables d'entorn són valors dinàmics que poden afectar el comportament dels processos en un sistema operatiu. En el desenvolupament de programari, s'utilitzen sovint per:</p>
<ul>
<li>Configurar diferents entorns (desenvolupament, producció, proves).</li>
<li>Emmagatzemar informació sensible (com ara claus API).</li>
<li>Personalitzar el comportament de l'aplicació sense canviar el codi font.</li>
</ul>
</div><h2>Configuració de Variables d'Entorn amb Webpack</h2>
<div class='content'></div><h3>Pas 1: Instal·lar <code>dotenv</code></h3>
<div class='content'><p>Per gestionar les variables d'entorn, utilitzarem el paquet <code>dotenv</code>. Aquest paquet carrega variables d'entorn des d'un fitxer <code>.env</code> al <code>process.env</code> de Node.js.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgZG90ZW52IC0tc2F2ZQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install dotenv --save</pre></div><div class='content'></div><h3>Pas 2: Crear un fitxer <code>.env</code></h3>
<div class='content'><p>Crea un fitxer <code>.env</code> a l'arrel del teu projecte i defineix les variables d'entorn que necessitis. Per exemple:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Tk9ERV9FTlY9ZGV2ZWxvcG1lbnQKQVBJX1VSTD1odHRwczovL2FwaS5leGFtcGxlLmNvbQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NODE_ENV=development
API_URL=https://api.example.com</pre></div><div class='content'></div><h3>Pas 3: Configurar Webpack per utilitzar <code>dotenv</code></h3>
<div class='content'><p>Modifica el fitxer de configuració de Webpack (<code>webpack.config.js</code>) per carregar les variables d'entorn utilitzant <code>dotenv</code> i el plugin <code>DefinePlugin</code> de Webpack.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKY29uc3Qgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTsKY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7CgovLyBDYXJyZWdhciB2YXJpYWJsZXMgZCdlbnRvcm4gZGVzIGRlbCBmaXR4ZXIgLmVudgpjb25zdCBlbnYgPSBkb3RlbnYuY29uZmlnKCkucGFyc2VkOwoKLy8gQ29udmVydGlyIGxlcyB2YXJpYWJsZXMgZCdlbnRvcm4gZW4gdW4gZm9ybWF0IHF1ZSBEZWZpbmVQbHVnaW4gcHVndWkgdXRpbGl0emFyCmNvbnN0IGVudktleXMgPSBPYmplY3Qua2V5cyhlbnYpLnJlZHVjZSgocHJldiwgbmV4dCkgPT4gewogIHByZXZbYHByb2Nlc3MuZW52LiR7bmV4dH1gXSA9IEpTT04uc3RyaW5naWZ5KGVudltuZXh0XSk7CiAgcmV0dXJuIHByZXY7Cn0sIHt9KTsKCm1vZHVsZS5leHBvcnRzID0gewogIGVudHJ5OiAnLi9zcmMvaW5kZXguanMnLAogIG91dHB1dDogewogICAgcGF0aDogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ2Rpc3QnKSwKICAgIGZpbGVuYW1lOiAnYnVuZGxlLmpzJwogIH0sCiAgcGx1Z2luczogWwogICAgbmV3IHdlYnBhY2suRGVmaW5lUGx1Z2luKGVudktleXMpCiAgXSwKICBtb2RlOiAnZGV2ZWxvcG1lbnQnCn07"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const path = require('path');
const webpack = require('webpack');
const dotenv = require('dotenv');

// Carregar variables d'entorn des del fitxer .env
const env = dotenv.config().parsed;

// Convertir les variables d'entorn en un format que DefinePlugin pugui utilitzar
const envKeys = Object.keys(env).reduce((prev, next) =&gt; {
  prev[`process.env.${next}`] = JSON.stringify(env[next]);
  return prev;
}, {});

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js'
  },
  plugins: [
    new webpack.DefinePlugin(envKeys)
  ],
  mode: 'development'
};</pre></div><div class='content'></div><h2>Exemple Pràctic</h2>
<div class='content'><p>Suposem que tenim una aplicació que necessita una URL d'API diferent segons l'entorn. Podem utilitzar les variables d'entorn per gestionar això.</p>
</div><h3>Fitxer <code>.env</code></h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Tk9ERV9FTlY9ZGV2ZWxvcG1lbnQKQVBJX1VSTD1odHRwczovL2Rldi5hcGkuZXhhbXBsZS5jb20="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NODE_ENV=development
API_URL=https://dev.api.example.com</pre></div><div class='content'></div><h3>Fitxer <code>src/index.js</code></h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc29sZS5sb2coJ0VudG9ybjonLCBwcm9jZXNzLmVudi5OT0RFX0VOVik7CmNvbnNvbGUubG9nKCdVUkwgZGUgbFwnQVBJOicsIHByb2Nlc3MuZW52LkFQSV9VUkwpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>console.log('Entorn:', process.env.NODE_ENV);
console.log('URL de l\'API:', process.env.API_URL);</pre></div><div class='content'></div><h3>Fitxer <code>webpack.config.js</code></h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKY29uc3Qgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTsKY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7Cgpjb25zdCBlbnYgPSBkb3RlbnYuY29uZmlnKCkucGFyc2VkOwoKY29uc3QgZW52S2V5cyA9IE9iamVjdC5rZXlzKGVudikucmVkdWNlKChwcmV2LCBuZXh0KSA9PiB7CiAgcHJldltgcHJvY2Vzcy5lbnYuJHtuZXh0fWBdID0gSlNPTi5zdHJpbmdpZnkoZW52W25leHRdKTsKICByZXR1cm4gcHJldjsKfSwge30pOwoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgZW50cnk6ICcuL3NyYy9pbmRleC5qcycsCiAgb3V0cHV0OiB7CiAgICBwYXRoOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnZGlzdCcpLAogICAgZmlsZW5hbWU6ICdidW5kbGUuanMnCiAgfSwKICBwbHVnaW5zOiBbCiAgICBuZXcgd2VicGFjay5EZWZpbmVQbHVnaW4oZW52S2V5cykKICBdLAogIG1vZGU6ICdkZXZlbG9wbWVudCcKfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const path = require('path');
const webpack = require('webpack');
const dotenv = require('dotenv');

const env = dotenv.config().parsed;

const envKeys = Object.keys(env).reduce((prev, next) =&gt; {
  prev[`process.env.${next}`] = JSON.stringify(env[next]);
  return prev;
}, {});

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js'
  },
  plugins: [
    new webpack.DefinePlugin(envKeys)
  ],
  mode: 'development'
};</pre></div><div class='content'></div><h3>Executar Webpack</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHdlYnBhY2s="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx webpack</pre></div><div class='content'><p>Quan executis el codi, hauries de veure les variables d'entorn impreses a la consola.</p>
</div><h2>Exercicis Pràctics</h2>
<div class='content'><ol>
<li><strong>Exercici 1:</strong> Crea un fitxer <code>.env</code> amb una variable d'entorn <code>APP_NAME</code> i mostra el seu valor a la consola utilitzant Webpack.</li>
<li><strong>Exercici 2:</strong> Configura Webpack per utilitzar diferents fitxers <code>.env</code> per a desenvolupament i producció. Per exemple, <code>.env.development</code> i <code>.env.production</code>.</li>
</ol>
</div><h3>Solucions</h3>
<div class='content'><p><strong>Solució Exercici 1:</strong></p>
<ol>
<li>Crea un fitxer <code>.env</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QVBQX05BTUU9TXlBd2Vzb21lQXBw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>APP_NAME=MyAwesomeApp</pre></div><div class='content'><ol start="2">
<li>Modifica <code>webpack.config.js</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKY29uc3Qgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTsKY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7Cgpjb25zdCBlbnYgPSBkb3RlbnYuY29uZmlnKCkucGFyc2VkOwoKY29uc3QgZW52S2V5cyA9IE9iamVjdC5rZXlzKGVudikucmVkdWNlKChwcmV2LCBuZXh0KSA9PiB7CiAgcHJldltgcHJvY2Vzcy5lbnYuJHtuZXh0fWBdID0gSlNPTi5zdHJpbmdpZnkoZW52W25leHRdKTsKICByZXR1cm4gcHJldjsKfSwge30pOwoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgZW50cnk6ICcuL3NyYy9pbmRleC5qcycsCiAgb3V0cHV0OiB7CiAgICBwYXRoOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnZGlzdCcpLAogICAgZmlsZW5hbWU6ICdidW5kbGUuanMnCiAgfSwKICBwbHVnaW5zOiBbCiAgICBuZXcgd2VicGFjay5EZWZpbmVQbHVnaW4oZW52S2V5cykKICBdLAogIG1vZGU6ICdkZXZlbG9wbWVudCcKfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const path = require('path');
const webpack = require('webpack');
const dotenv = require('dotenv');

const env = dotenv.config().parsed;

const envKeys = Object.keys(env).reduce((prev, next) =&gt; {
  prev[`process.env.${next}`] = JSON.stringify(env[next]);
  return prev;
}, {});

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js'
  },
  plugins: [
    new webpack.DefinePlugin(envKeys)
  ],
  mode: 'development'
};</pre></div><div class='content'><ol start="3">
<li>Modifica <code>src/index.js</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc29sZS5sb2coJ05vbSBkZSBsXCdhcGxpY2FjacOzOicsIHByb2Nlc3MuZW52LkFQUF9OQU1FKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>console.log('Nom de l\'aplicaci&oacute;:', process.env.APP_NAME);</pre></div><div class='content'><ol start="4">
<li>Executa Webpack:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHdlYnBhY2s="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx webpack</pre></div><div class='content'><p><strong>Solució Exercici 2:</strong></p>
<ol>
<li>Crea dos fitxers <code>.env</code>:</li>
</ol>
<p><code>.env.development</code>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Tk9ERV9FTlY9ZGV2ZWxvcG1lbnQKQVBJX1VSTD1odHRwczovL2Rldi5hcGkuZXhhbXBsZS5jb20="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NODE_ENV=development
API_URL=https://dev.api.example.com</pre></div><div class='content'><p><code>.env.production</code>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Tk9ERV9FTlY9cHJvZHVjdGlvbgpBUElfVVJMPWh0dHBzOi8vYXBpLmV4YW1wbGUuY29t"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NODE_ENV=production
API_URL=https://api.example.com</pre></div><div class='content'><ol start="2">
<li>Modifica <code>webpack.config.js</code> per carregar el fitxer <code>.env</code> correcte segons l'entorn:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKY29uc3Qgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTsKY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7CmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTsKCm1vZHVsZS5leHBvcnRzID0gKGVudikgPT4gewogIGNvbnN0IGN1cnJlbnRQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSk7CiAgY29uc3QgYmFzZVBhdGggPSBjdXJyZW50UGF0aCArICcvLmVudic7CiAgY29uc3QgZW52UGF0aCA9IGJhc2VQYXRoICsgJy4nICsgZW52LkVOVklST05NRU5UOwogIGNvbnN0IGZpbmFsUGF0aCA9IGZzLmV4aXN0c1N5bmMoZW52UGF0aCkgPyBlbnZQYXRoIDogYmFzZVBhdGg7CiAgY29uc3QgZmlsZUVudiA9IGRvdGVudi5jb25maWcoeyBwYXRoOiBmaW5hbFBhdGggfSkucGFyc2VkOwoKICBjb25zdCBlbnZLZXlzID0gT2JqZWN0LmtleXMoZmlsZUVudikucmVkdWNlKChwcmV2LCBuZXh0KSA9PiB7CiAgICBwcmV2W2Bwcm9jZXNzLmVudi4ke25leHR9YF0gPSBKU09OLnN0cmluZ2lmeShmaWxlRW52W25leHRdKTsKICAgIHJldHVybiBwcmV2OwogIH0sIHt9KTsKCiAgcmV0dXJuIHsKICAgIGVudHJ5OiAnLi9zcmMvaW5kZXguanMnLAogICAgb3V0cHV0OiB7CiAgICAgIHBhdGg6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdkaXN0JyksCiAgICAgIGZpbGVuYW1lOiAnYnVuZGxlLmpzJwogICAgfSwKICAgIHBsdWdpbnM6IFsKICAgICAgbmV3IHdlYnBhY2suRGVmaW5lUGx1Z2luKGVudktleXMpCiAgICBdLAogICAgbW9kZTogZW52LkVOVklST05NRU5UID09PSAncHJvZHVjdGlvbicgPyAncHJvZHVjdGlvbicgOiAnZGV2ZWxvcG1lbnQnCiAgfTsKfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const path = require('path');
const webpack = require('webpack');
const dotenv = require('dotenv');
const fs = require('fs');

module.exports = (env) =&gt; {
  const currentPath = path.join(__dirname);
  const basePath = currentPath + '/.env';
  const envPath = basePath + '.' + env.ENVIRONMENT;
  const finalPath = fs.existsSync(envPath) ? envPath : basePath;
  const fileEnv = dotenv.config({ path: finalPath }).parsed;

  const envKeys = Object.keys(fileEnv).reduce((prev, next) =&gt; {
    prev[`process.env.${next}`] = JSON.stringify(fileEnv[next]);
    return prev;
  }, {});

  return {
    entry: './src/index.js',
    output: {
      path: path.resolve(__dirname, 'dist'),
      filename: 'bundle.js'
    },
    plugins: [
      new webpack.DefinePlugin(envKeys)
    ],
    mode: env.ENVIRONMENT === 'production' ? 'production' : 'development'
  };
};</pre></div><div class='content'><ol start="3">
<li>Executa Webpack amb l'entorn desitjat:</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHdlYnBhY2sgLS1lbnYgRU5WSVJPTk1FTlQ9ZGV2ZWxvcG1lbnQKbnB4IHdlYnBhY2sgLS1lbnYgRU5WSVJPTk1FTlQ9cHJvZHVjdGlvbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx webpack --env ENVIRONMENT=development
npx webpack --env ENVIRONMENT=production</pre></div><div class='content'></div><h2>Conclusió</h2>
<div class='content'><p>Les variables d'entorn són una eina essencial per gestionar configuracions dinàmiques en aplicacions. Amb Webpack, podem utilitzar el paquet <code>dotenv</code> i el plugin <code>DefinePlugin</code> per carregar i utilitzar aquestes variables de manera eficient. Això ens permet tenir configuracions específiques per a diferents entorns sense haver de modificar el codi font, millorant així la flexibilitat i mantenibilitat del nostre projecte.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-lazy-loading' title="Càrrega Peresosa" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-lazy-loading' title="Càrrega Peresosa" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-source-maps' title="Mapes de Fonts" class="py-2 px-3 btn btn-primary"
				data-read-mod="webpack" data-read-unit="3-5">
				Següent &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-source-maps' title="Mapes de Fonts" class="py-2 px-3 btn btn-primary" 
				data-read-mod="webpack" data-read-unit="3-5">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curs de Webpack</h1>
<h2>Mòdul 1: Introducció a Webpack</h2>
<ul>
<li><a href="01-01-what-is-webpack">Què és Webpack?</a></li>
<li><a href="01-02-setting-up-webpack">Configuració de Webpack</a></li>
<li><a href="01-03-webpack-configuration-file">Fitxer de Configuració de Webpack</a></li>
<li><a href="01-04-basic-webpack-build">Construcció Bàsica amb Webpack</a></li>
</ul>
<h2>Mòdul 2: Conceptes Bàsics</h2>
<ul>
<li><a href="02-01-entry-points">Punts d'Entrada</a></li>
<li><a href="02-02-output-configuration">Configuració de Sortida</a></li>
<li><a href="02-03-loaders">Loaders</a></li>
<li><a href="02-04-plugins">Plugins</a></li>
<li><a href="02-05-mode">Mode</a></li>
</ul>
<h2>Mòdul 3: Configuració Avançada</h2>
<ul>
<li><a href="03-01-code-splitting">Divisió de Codi</a></li>
<li><a href="03-02-caching">Caché</a></li>
<li><a href="03-03-tree-shaking">Tree Shaking</a></li>
<li><a href="03-04-lazy-loading">Càrrega Peresosa</a></li>
<li><a href="03-05-environment-variables">Variables d'Entorn</a></li>
</ul>
<h2>Mòdul 4: Eines de Desenvolupament</h2>
<ul>
<li><a href="04-01-source-maps">Mapes de Fonts</a></li>
<li><a href="04-02-webpack-dev-server">Servidor de Desenvolupament de Webpack</a></li>
<li><a href="04-03-hot-module-replacement">Reemplaçament de Mòduls en Calent</a></li>
<li><a href="04-04-debugging">Depuració</a></li>
</ul>
<h2>Mòdul 5: Optimització per a Producció</h2>
<ul>
<li><a href="05-01-minification">Minificació</a></li>
<li><a href="05-02-optimizing-css">Optimització de CSS</a></li>
<li><a href="05-03-image-optimization">Optimització d'Imatges</a></li>
<li><a href="05-04-bundle-analysis">Anàlisi de Paquets</a></li>
<li><a href="05-05-performance-budgeting">Pressupost de Rendiment</a></li>
</ul>
<h2>Mòdul 6: Integracions i Tècniques Avançades</h2>
<ul>
<li><a href="06-01-integrating-with-babel">Integració amb Babel</a></li>
<li><a href="06-02-integrating-with-typescript">Integració amb TypeScript</a></li>
<li><a href="06-03-using-webpack-with-react">Ús de Webpack amb React</a></li>
<li><a href="06-04-using-webpack-with-vue">Ús de Webpack amb Vue</a></li>
<li><a href="06-05-custom-plugins-and-loaders">Plugins i Loaders Personalitzats</a></li>
</ul>
<h2>Mòdul 7: Projectes del Món Real</h2>
<ul>
<li><a href="07-01-setting-up-a-react-project">Configuració d'un Projecte React</a></li>
<li><a href="07-02-setting-up-a-vue-project">Configuració d'un Projecte Vue</a></li>
<li><a href="07-03-setting-up-a-nodejs-project">Configuració d'un Projecte Node.js</a></li>
<li><a href="07-04-migrating-legacy-projects-to-webpack">Migració de Projectes Heretats a Webpack</a></li>
</ul>
<h2>Mòdul 8: Resolució de Problemes i Millors Pràctiques</h2>
<ul>
<li><a href="08-01-common-errors-and-solutions">Errors Comuns i Solucions</a></li>
<li><a href="08-02-best-practices-for-configuration">Millors Pràctiques per a la Configuració</a></li>
<li><a href="08-03-maintaining-webpack-projects">Manteniment de Projectes Webpack</a></li>
<li><a href="08-04-community-resources-and-further-learning">Recursos Comunitaris i Aprenentatge Addicional</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objectiu" rel="nofollow">El Projecte</a> | 
<a href="/sobre-nosaltres" rel="nofollow">Sobre nosaltres</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donacions</a> | 
<a href="/llicencia" rel="nofollow">Llicència</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir cookies per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Acceptar</a>
    <a href="/cookies">Més informació</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuari no autentificat</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
